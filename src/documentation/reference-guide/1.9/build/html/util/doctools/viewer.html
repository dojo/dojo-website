<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Viewing the Generated API Docs &mdash; Dojo Reference Guide 1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <link rel="stylesheet" href="/css/guide.css?1">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <meta name="viewport" content="width=device-width, minimum-scale=0.75, maximum-scale=1">
    <meta name="format-detection" content="telephone=no">
    <script src="/scripts/dojo/dojo/dojo.js?1"></script>
    <script src="/scripts/dojo/docs/guide.js?1"></script>
    <link rel="stylesheet" href="/scripts/dojo/dijit/themes/claro/claro.css?1">
    <script src="/scripts/nav.js?1"></script>

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo icon-dojo icon"></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="/download/" class="downloadLink">Get Dojo</a></li>
					<li><a href="/documentation" class="docsLink">Docs</a></li>
					<li><a href="/community" class="communityLink">Community</a></li>
					<li><a href="/community/roadmap/" class="roadmapLink">Roadmap</a></li>
					<li><a href="/blog/" class="blogLink">Blog</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <div class="subnav">
      <div class="row">
        <div class="medium-12 columns">
         <ul>
            <li><a href="../../index.html">Startpage</a></li>
            <li><a href="../../dojo/index.html">Dojo</a></li>
            <li><a href="../../dijit/index.html">Dijit</a></li>
            <li><a href="../../dojox/index.html">DojoX</a></li>
          </ul>
        </div>
        <!-- <div class="medium-3 columns text-right">
           <div id="dtkVersion">
            <select id="refver" name="refver">
              <option value="1.6">Dojo 1.6</option>
              <option value="1.7">Dojo 1.7</option>
              <option value="1.8">Dojo 1.8</option>
              <option value="1.9">Dojo 1.9</option>
              <option value="1.10" selected="selected">Dojo 1.10</option>
            </select>
          </div>
        </div>-->
      </div>
    </div>
  <main class="refguide">
    <div class="row">
      <div class="medium-9 columns content">
          
  <div class="section" id="viewing-the-generated-api-docs">
<span id="util-doctools-viewer"></span><h1><a class="toc-backref" href="#id1">Viewing the Generated API Docs</a><a class="headerlink" href="#viewing-the-generated-api-docs" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Project owner:</th><td class="field-body">Tom Trenka, Sam Foster</td>
</tr>
<tr class="field-even field"><th class="field-name">since:</th><td class="field-body">V1.4</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#viewing-the-generated-api-docs" id="id1">Viewing the Generated API Docs</a><ul>
<li><a class="reference internal" href="#introduction" id="id2">Introduction</a></li>
<li><a class="reference internal" href="#prerequisites" id="id3">Prerequisites</a></li>
<li><a class="reference internal" href="#get-the-viewer-code" id="id4">Get the viewer code</a></li>
<li><a class="reference internal" href="#configure-the-viewer" id="id5">Configure the Viewer</a></li>
<li><a class="reference internal" href="#import-api-data" id="id6">Import API Data</a></li>
<li><a class="reference internal" href="#customizing-the-viewer" id="id7">Customizing the Viewer</a></li>
<li><a class="reference internal" href="#see-also" id="id8">See Also</a></li>
</ul>
</li>
</ul>
</div>
<p>Deprecated, see <a class="reference external" href="https://github.com/wkeese/api-viewer/blob/master/README.rst">https://github.com/wkeese/api-viewer/blob/master/README.rst</a> for latest instructions.</p>
<p>Setup and population of the viewer app with API data</p>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id2">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Running the api docs extraction/generation tool (generate.php) produces either json or xml output - this is the raw data. To format and process this data into useful, browsable documentation you need a viewer application. This page steps you through the process to setup a web app like <a class="reference external" href="http://dojotoolkit.org/api/">dojotoolkit.org/api</a> and how to populate it with your docs data</p>
</div>
<div class="section" id="prerequisites">
<h2><a class="toc-backref" href="#id3">Prerequisites</a><a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>Dojo&#8217;s <a class="reference external" href="http://dojotoolkit.org/api/">API Viewer</a> is a PHP-based web application, using XSLT to transform the XML output from generate.php and to create a readable and usable documentation UI. You will need:</p>
<ul class="simple">
<li>A <strong>web server</strong>, with <strong>mod_rewrite</strong> enabled and <strong>PHP 5</strong> installed and configured.</li>
<li>A Subversion (<strong>svn</strong>) client. This walk through will assume a command-line svn client</li>
</ul>
<p>Our viewer app is going to end up in a directory called &#8216;api&#8217;, which for the purposes of this walk through we&#8217;ll assume is a sub-directory of the web root. That&#8217;s going to get created for us (and needs to not exist yet). For now,  we&#8217;ll make sure PHP is working by creating a test.php file in the web root directory, with the contents:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span> <span class="nb">phpinfo</span><span class="p">();</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>If you point your browser at <a class="reference external" href="http://localhost/test.php">http://localhost/test.php</a> (or whatever hostname you are using) you should see the PHP info page. Confirm the <strong>xsl</strong> module is available and enabled.</p>
</div>
<div class="section" id="get-the-viewer-code">
<h2><a class="toc-backref" href="#id4">Get the viewer code</a><a class="headerlink" href="#get-the-viewer-code" title="Permalink to this headline">¶</a></h2>
<p>We&#8217;re going to get a copy of the code behind dojotoolkit.org/api and customize that lightly to create our own API viewer.
Let&#8217;s start by getting an export.
In your terminal/shell/cmd-prompt, move into your web root directory, and type:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">svn export http://svn.dojotoolkit.org/website/trunk/api api</span>
</pre></div>
</div>
<p>That should create the &#8216;api&#8217; sub-directory, and fill it with a load of php files and other assets. Note, we&#8217;re doing an export here, not a checkout, so its divorced from the SVN copy. That means its yours to change, but if you prefer you can use svn checkout for those parts you want to be able to update with any changes from the remote repository.</p>
</div>
<div class="section" id="configure-the-viewer">
<h2><a class="toc-backref" href="#id5">Configure the Viewer</a><a class="headerlink" href="#configure-the-viewer" title="Permalink to this headline">¶</a></h2>
<p>To work right out of the box there&#8217;s a couple steps to complete.</p>
<ul>
<li><p class="first">In your api/data/1.4 directory (at time of writing) create a &#8216;cache&#8217; directory, so you have api/data/1.4/cache.</p>
</li>
<li><p class="first">Open up config.php and change the line</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">$basePath = &quot;/&quot;</span>
</pre></div>
</div>
</li>
</ul>
<p>to read:</p>
<blockquote>
<div><div class="highlight-php"><div class="highlight"><pre><span class="x">$basePath = &quot;/api/&quot;</span>
</pre></div>
</div>
</div></blockquote>
<ul>
<li><p class="first">To get permalinks working, we have to make a similar change in the .htaccess file. We&#8217;ll change the RewriteBase directive to &#8216;/api&#8217;. (If your server doesn&#8217;t mod_rewrite by the way, permalinks are the only casualty.)</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">#  Set the prefix for all matches</span>
<span class="x">RewriteBase   /api</span>
</pre></div>
</div>
</li>
</ul>
<p>Now, you can point your browser at <a class="reference external" href="http://localhost/api/">http://localhost/api/</a>, (or whatever hostname you are using) and you should see a working API viewer.</p>
</div>
<div class="section" id="import-api-data">
<h2><a class="toc-backref" href="#id6">Import API Data</a><a class="headerlink" href="#import-api-data" title="Permalink to this headline">¶</a></h2>
<p>Now to get our own API data into the viewer. If you&#8217;ve followed the <a class="reference internal" href="generate.html#util-doctools-generate"><span>generation</span></a> steps, you should be in possession of an xml file, which is the API data for your namespace. We need to import that data, so navigate (in your browser) to lib/upload.php.</p>
<p>This barebones upload page asks for two variables: a version number, and a URL to your XML file.
Note that it must be a URL and NOT a straight-up file.  The URL can be anything (cURL is used
to fetch it), and the version can also be any string. The version number is one that is meaningful to you - it will likely be the number that you use when you run a dojo build of your code.</p>
<p>Once you have the two fields filled in, hit the process button.</p>
<p>The site will grab your XML file, run it through a number of XSL transforms, and create a directory
in /data with the version number you entered.  Note that if the version number already exists, it
will reuse that directory and replace any existing XML files within it.</p>
<p>The site will also (again, if it doesn&#8217;t exist) create a /cache directory within the /data/[version]
directory; if the cache directory already exists, it will delete everything inside of it.  Again,
note that this directory MUST be writable (this is the caching mechanism for the site).</p>
<p>That&#8217;s it! Navigate back to /api/ and you should see your code&#8217;s API in the viewer.</p>
</div>
<div class="section" id="customizing-the-viewer">
<h2><a class="toc-backref" href="#id7">Customizing the Viewer</a><a class="headerlink" href="#customizing-the-viewer" title="Permalink to this headline">¶</a></h2>
<p>Though everything should work at this point, you will probably want to do a little customization. If you look again in config.php, you&#8217;ll notice:</p>
<blockquote>
<div><div class="highlight-php"><div class="highlight"><pre><span class="x">#  Set the prefix for all matches</span>
<span class="x">$theme = &quot;dtk&quot;;</span>
</pre></div>
</div>
</div></blockquote>
<p>That value is referring to a subdirectory name of the &#8216;themes&#8217; directory. Peek in there and you&#8217;ll find and index.php that corresponds to the initial welcome screen, as well as header, footer includes, images and css and so on. A minimum you&#8217;ll probably want to duplicate the dtk directory and edit index.php to update the message to reflect the project or namespace you have imported.</p>
</div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id8">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../doctools.html#util-doctools"><span>Dojo documentation tools overview</span></a></li>
<li><a class="reference internal" href="../../developer/markup.html#developer-markup"><span>API doc syntax</span></a> - how to markup API documentation in your code</li>
<li><a class="reference internal" href="generate.html#util-doctools-generate"><span>Running the generation tools</span></a> - directories setup, defining custom namespaces, configuring and running the generation tools</li>
</ul>
</div>
</div>


      </div>
      <div class="medium-3 columns">
        <div id="toc">
            <h3>Table of Contents</h3>
            <div class="tocList"><ul>
<li><a class="reference internal" href="#">Viewing the Generated API Docs</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#get-the-viewer-code">Get the viewer code</a></li>
<li><a class="reference internal" href="#configure-the-viewer">Configure the Viewer</a></li>
<li><a class="reference internal" href="#import-api-data">Import API Data</a></li>
<li><a class="reference internal" href="#customizing-the-viewer">Customizing the Viewer</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>
</div>
          </div>
      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-12 columns feedback">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
    </div>
  </div>
  <div class="row full footer">
	<div class="content">
		<div class="medium-6 columns copyright">
			<span>&copy; <a href="http://dojofoundation.org">The Dojo Foundation</a>, All Rights Reserved. <a href="https://raw.githubusercontent.com/dojo/dojo/master/LICENSE" class="license">License Information</a></span>
		</div>
		<div class="medium-6 columns info">
			<span>Internet Application Management Provided By <a href="http://www.reliam.com/">Reliam, Inc.</a></span>
		</div>
	</div>
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');
	</script>
</div>
  
  </body>
</html>