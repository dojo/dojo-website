<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojox.treemap &mdash; The Dojo Toolkit - Reference Guide</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.10.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>

    <link rel="stylesheet" href="/css/guide.css">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <script src="/scripts/dojo/dojo/dojo.js"></script>
    <script src="/scripts/guide/docs/guide.js"></script>
    <link rel="stylesheet" href="/scripts/dojo/dijit/themes/claro/claro.css">

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo"><span>Dojo</span></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="">Get Dojo</a></li>
					<li><a href="/documentation/">Docs</a></li>
					<li><a href="">Help &amp; Support</a></li>
					<li><a href="">Blog</a></li>
					<li><a href="">Get Involved</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <main class="refguide">
    <div class="row">

      <div class="medium-3 columns sideNav">
        <h4>Reference Guide</h4>
        <div id="dtkVersion">
          <label for="refver">Dojo Version</label>
          <select id="refver" name="refver">
            <option value="1.6">1.6</option>
            <option value="1.7">1.7</option>
            <option value="1.8">1.8</option>
            <option value="1.9">1.9</option>
            <option value="1.10" selected="selected">1.10</option>
          </select>
        </div>
        <ul>
          <li><a href="../index.html">Startpage</a></li>
          <li><a href="../dojo/index.html">Dojo</a></li>
          <li><a href="../dijit/index.html">Dijit</a></li>
          <li><a href="index.html">DojoX</a></li>
        </ul>
        <ul>
<li><a class="reference internal" href="#">dojox.treemap</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#creating-a-treemap-widget">Creating a treemap widget</a></li>
<li><a class="reference internal" href="#configuring-treemap-data">Configuring treemap data</a><ul>
<li><a class="reference internal" href="#mapping-using-attributes">Mapping using attributes</a></li>
<li><a class="reference internal" href="#mapping-using-custom-functions">Mapping using custom functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuring-treemap-properties">Configuring treemap properties</a></li>
<li><a class="reference internal" href="#styling-the-treemap">Styling the treemap</a></li>
<li><a class="reference internal" href="#user-interactions">User interactions</a></li>
<li><a class="reference internal" href="#using-alternate-rendering-mixins">Using alternate rendering mixins</a></li>
<li><a class="reference internal" href="#managing-treemap-events">Managing treemap events</a></li>
<li><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
</ul>

        

            <div id="searchbox" style="display: none">
                <h3>Quick search</h3>
                <form class="search" action="../search.html" method="get">
                    <input type="text" name="q" size="18" />
                    <input type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                 </form>
                 <p class="searchtip" style="font-size: 90%">
                     Enter search terms or a module, class or function name.
                 </p>
            </div>
      </div>
      <div class="medium-9 columns content">
        
  <div class="section" id="dojox-treemap">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">dojox.treemap</a><a class="headerlink" href="#dojox-treemap" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">since:</th><td class="field-body">1.8</td>
</tr>
<tr class="field-even field"><th class="field-name">authors:</th><td class="field-body">Christophe Jolif</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dojox-treemap" id="id2">dojox.treemap</a><ul>
<li><a class="reference internal" href="#introduction" id="id3">Introduction</a></li>
<li><a class="reference internal" href="#creating-a-treemap-widget" id="id4">Creating a treemap widget</a></li>
<li><a class="reference internal" href="#configuring-treemap-data" id="id5">Configuring treemap data</a></li>
<li><a class="reference internal" href="#configuring-treemap-properties" id="id6">Configuring treemap properties</a></li>
<li><a class="reference internal" href="#styling-the-treemap" id="id7">Styling the treemap</a></li>
<li><a class="reference internal" href="#user-interactions" id="id8">User interactions</a></li>
<li><a class="reference internal" href="#using-alternate-rendering-mixins" id="id9">Using alternate rendering mixins</a></li>
<li><a class="reference internal" href="#managing-treemap-events" id="id10">Managing treemap events</a></li>
<li><a class="reference internal" href="#see-also" id="id11">See also</a></li>
</ul>
</li>
</ul>
</div>
<p>This page describes how to use and configure the Dojo Treemap.</p>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id3">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Treemaps display data as a set of colored, potentially nested, rectangular cells. Treemaps can be used to explore large data sets by using convenient drill-down capabilities.
They reveal data patterns and trends easily. Treemaps rely on data clustering, using areas and color information to represent the data you want to explore.</p>
<p>An example of a treemap is shown below. The treemap shows business sectors at the head of the hierarchy and provides the possibility to drill down to country and then company level.</p>
<p>Dojo Treemap supports squarified algorithms for two-dimensional treemaps, and is characterized by the ability to:</p>
<blockquote>
<div><ul class="simple">
<li>Map the size, color, and label of treemap cells to properties in a data store.</li>
<li>Choose either a predefined algorithm for computing the item colors or specify a color using a customizable color function.</li>
<li>Specify the treemap levels at which labels are to appear.</li>
<li>Get an event when clicking and hovering over treemap items.</li>
<li>Navigate within a treemap with visual effects on drill down.</li>
</ul>
</div></blockquote>
<p><strong>Note</strong>: The treemap is not supported on Internet Explorer 6. On IE7 and above a standard doctype must be set on the page that includes the treemap.</p>
<img alt="../_images/treemap.png" src="../_images/treemap.png" />
</div>
<div class="section" id="creating-a-treemap-widget">
<h2><a class="toc-backref" href="#id4">Creating a treemap widget</a><a class="headerlink" href="#creating-a-treemap-widget" title="Permalink to this headline">¶</a></h2>
<p>You can create a TreeMap widget either using JavaScript or using HTML markup. The following two examples create the exact same treemap.
Do not forget to include the default TreeMap CSS to get the expected default rendering.</p>
<p>In JavaScript:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojox/treemap/TreeMap&quot;</span><span class="p">,</span> <span class="p">...],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">TreeMap</span><span class="p">,</span> <span class="p">...){</span>
  <span class="k">new</span> <span class="nx">TreeMap</span><span class="p">({</span><span class="nx">store</span><span class="o">:</span> <span class="nx">dataStore</span><span class="p">,</span>
    <span class="nx">areaAttr</span><span class="o">:</span> <span class="s2">&quot;sales&quot;</span><span class="p">,</span> <span class="nx">colorAttr</span><span class="o">:</span> <span class="s2">&quot;profit&quot;</span><span class="p">,</span> <span class="nx">groupAttrs</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;region&quot;</span><span class="p">],</span>
    <span class="nx">colorModel</span><span class="o">:</span> <span class="nx">colorModel</span> <span class="p">},</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;treeMap&quot;</span><span class="p">));</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojox/treemap/TreeMap&quot;, ...], function(TreeMap, ...){
  new TreeMap({store: dataStore,
    areaAttr: &quot;sales&quot;, colorAttr: &quot;profit&quot;, groupAttrs: [&quot;region&quot;],
    colorModel: colorModel }, dom.byId(&quot;treeMap&quot;));
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;{{baseUrl}}/dojox/treemap/themes/TreeMap.css&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;treeMap&quot;</span> <span class="na">style=</span><span class="s">&quot;width: 600px; height: 450px;&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;link rel=&quot;stylesheet&quot; href=&quot;{{baseUrl}}/dojox/treemap/themes/TreeMap.css&quot;&gt;
&lt;div id=&quot;treeMap&quot; style=&quot;width: 600px; height: 450px;&quot;&gt;&lt;/div&gt;</textarea></div><p>In HTML markup:</p>
<div class="highlight"><pre><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;{{baseUrl}}/dojox/treemap/themes/TreeMap.css&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;treeMap&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dojox/treemap/TreeMap&quot;</span> <span class="na">data-dojo-props=</span><span class="s">&quot;store: dataStore, areaAttr:&#39;sales&#39;,</span>
<span class="s">   colorAttr:&#39;profit&#39;, groupAttrs:[&#39;region&#39;], colorModel: colorModel&quot;</span>
   <span class="na">style=</span><span class="s">&quot;width: 600px; height: 450px;&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;link rel=&quot;stylesheet&quot; href=&quot;{{baseUrl}}/dojox/treemap/themes/TreeMap.css&quot;&gt;
&lt;div id=&quot;treeMap&quot; data-dojo-type=&quot;dojox/treemap/TreeMap&quot; data-dojo-props=&quot;store: dataStore, areaAttr:'sales',
   colorAttr:'profit', groupAttrs:['region'], colorModel: colorModel&quot;
   style=&quot;width: 600px; height: 450px;&quot;&gt;
&lt;/div&gt;</textarea></div><p>You might want to listen to store query errors, for that you can use the promise returned by the store setter:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojox/treemap/TreeMap&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/when&quot;</span><span class="p">,</span> <span class="p">..],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">TreeMap</span><span class="p">,</span> <span class="nx">when</span><span class="p">,</span> <span class="p">...){</span>
  <span class="kd">var</span> <span class="nx">treeMap</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TreeMap</span><span class="p">(...);</span>
  <span class="nx">when</span><span class="p">(</span><span class="nx">treeMap</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;store&quot;</span><span class="p">,</span> <span class="nx">mystore</span><span class="p">),</span> <span class="kd">function</span> <span class="nx">onOk</span><span class="p">()</span> <span class="p">{},</span> <span class="kd">function</span> <span class="nx">onFail</span><span class="p">()</span> <span class="p">{});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojox/treemap/TreeMap&quot;, &quot;dojo/when&quot;, ..], function(TreeMap, when, ...){
  var treeMap = new TreeMap(...);
  when(treeMap.set(&quot;store&quot;, mystore), function onOk() {}, function onFail() {});
});</textarea></div></div>
<div class="section" id="configuring-treemap-data">
<h2><a class="toc-backref" href="#id5">Configuring treemap data</a><a class="headerlink" href="#configuring-treemap-data" title="Permalink to this headline">¶</a></h2>
<p>The TreeMap can connect to any implementation of the dojo.store.api.Store interface that implements get/query and id management (getIdentity). It supports flat data and optionally creates a hierarchy from this data
using attributes of the data to group them based on certain criteria.</p>
<div class="section" id="mapping-using-attributes">
<h3>Mapping using attributes<a class="headerlink" href="#mapping-using-attributes" title="Permalink to this headline">¶</a></h3>
<p>In this example the data are mapped from the data store using an attribute based mapping. That means the cell size and color as well as the grouping are extracted from attributes value in the data.</p>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'620', height:'620', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/treemap/TreeMap&quot;</span><span class="p">,</span>
  <span class="s2">&quot;dojo/store/Memory&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/color/MeanColorModel&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/Color&quot;</span><span class="p">],</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">ready</span><span class="p">,</span> <span class="nx">dom</span><span class="p">,</span> <span class="nx">TreeMap</span><span class="p">,</span> <span class="nx">Memory</span><span class="p">,</span> <span class="nx">MeanColorModel</span><span class="p">,</span> <span class="nx">Color</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">dataStore</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Memory</span><span class="p">({</span><span class="nx">idProperty</span><span class="o">:</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span>
    <span class="p">[</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;France&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Germany&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">48</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;UK&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">700</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">60</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;USA&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">2000</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Canada&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">600</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Brazil&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;China&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">40</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Japan&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">900</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">}</span>
    <span class="p">]});</span>
    <span class="kd">var</span> <span class="nx">colorModel</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MeanColorModel</span><span class="p">(</span><span class="k">new</span> <span class="nx">Color</span><span class="p">(</span><span class="nx">Color</span><span class="p">.</span><span class="nx">named</span><span class="p">.</span><span class="nx">red</span><span class="p">),</span> <span class="k">new</span> <span class="nx">Color</span><span class="p">(</span><span class="nx">Color</span><span class="p">.</span><span class="nx">named</span><span class="p">.</span><span class="nx">green</span><span class="p">));</span>
    <span class="k">new</span> <span class="nx">TreeMap</span><span class="p">({</span><span class="nx">store</span><span class="o">:</span> <span class="nx">dataStore</span><span class="p">,</span>
     <span class="nx">areaAttr</span><span class="o">:</span> <span class="s2">&quot;sales&quot;</span><span class="p">,</span> <span class="nx">colorAttr</span><span class="o">:</span> <span class="s2">&quot;profit&quot;</span><span class="p">,</span> <span class="nx">groupAttrs</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;region&quot;</span><span class="p">],</span>
     <span class="nx">colorModel</span><span class="o">:</span> <span class="nx">colorModel</span> <span class="p">},</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;treeMap&quot;</span><span class="p">));</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/ready&quot;, &quot;dojo/dom&quot;, &quot;dojox/treemap/TreeMap&quot;,
  &quot;dojo/store/Memory&quot;, &quot;dojox/color/MeanColorModel&quot;, &quot;dojo/_base/Color&quot;],
  function(ready, dom, TreeMap, Memory, MeanColorModel, Color) {
  ready(function(){
    var dataStore = new Memory({idProperty: &quot;label&quot;, data:
    [
      { label: &quot;France&quot;, sales: 500, profit: 50, region: &quot;EU&quot; },
      { label: &quot;Germany&quot;, sales: 450, profit: 48, region: &quot;EU&quot; },
      { label: &quot;UK&quot;, sales: 700, profit: 60, region: &quot;EU&quot; },
      { label: &quot;USA&quot;, sales: 2000, profit: 250, region: &quot;America&quot; },
      { label: &quot;Canada&quot;, sales: 600, profit: 30, region: &quot;America&quot; },
      { label: &quot;Brazil&quot;, sales: 450, profit: 30, region: &quot;America&quot; },
      { label: &quot;China&quot;, sales: 500, profit: 40, region: &quot;Asia&quot; },
      { label: &quot;Japan&quot;, sales: 900, profit: 100, region: &quot;Asia&quot; }
    ]});
    var colorModel = new MeanColorModel(new Color(Color.named.red), new Color(Color.named.green));
    new TreeMap({store: dataStore,
     areaAttr: &quot;sales&quot;, colorAttr: &quot;profit&quot;, groupAttrs: [&quot;region&quot;],
     colorModel: colorModel }, dom.byId(&quot;treeMap&quot;));
  });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;treeMap&quot;</span> <span class="na">style=</span><span class="s">&quot;width:600px;height:600px&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div id=&quot;treeMap&quot; style=&quot;width:600px;height:600px&quot;&gt;&lt;/div&gt;</textarea></div></div></div><p>For the cell colors in the value of the binding is used as an input into the specified color model. In this case this is a color model that returns a color interpolated between the red and
green colors with a mean neutral value. One can specify his one color model like a similar one based on average neutral value instead of mean neutral. If no color model is specified at all
the color is expected to be found directly in the value of the colorAttr binding as a suitable input for the dojo/Color constructor.</p>
<p>Note also that the groupAttrs property is of type array instead of just a single attribute. This allows one to specify several attributes for grouping thus creating a multi-level hierarchy. As for
example:</p>
<div class="highlight"><pre><span class="nx">groupAttrs</span><span class="o">:</span><span class="p">[</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="s1">&#39;country&#39;</span><span class="p">]</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">groupAttrs:['continent', 'country']</textarea></div><dl class="docutils">
<dt>Other binding attributes are available:</dt>
<dd><ul class="first last simple">
<li>the labelAttr that binds the cell labels to a data attribute.</li>
<li>the tooltipAttr that binds the cell tooltips to a data attribute.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="mapping-using-custom-functions">
<h3>Mapping using custom functions<a class="headerlink" href="#mapping-using-custom-functions" title="Permalink to this headline">¶</a></h3>
<p>In this example the data are mapped from the data store using custom functions. That means the cell size and color as well as the grouping are computed by functions specified by the application.</p>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'620', height:'620', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/treemap/TreeMap&quot;</span><span class="p">,</span>
  <span class="s2">&quot;dojo/store/Memory&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/color/MeanColorModel&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/Color&quot;</span><span class="p">],</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">ready</span><span class="p">,</span> <span class="nx">dom</span><span class="p">,</span> <span class="nx">TreeMap</span><span class="p">,</span> <span class="nx">Memory</span><span class="p">,</span> <span class="nx">MeanColorModel</span><span class="p">,</span> <span class="nx">Color</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">dataStore</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Memory</span><span class="p">({</span><span class="nx">idProperty</span><span class="o">:</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span>
    <span class="p">[</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;France&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Germany&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">48</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;UK&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">700</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">60</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;USA&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">2000</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Canada&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">600</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Brazil&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;China&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">40</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Japan&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">900</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">}</span>
    <span class="p">]});</span>
    <span class="kd">var</span> <span class="nx">colorModel</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MeanColorModel</span><span class="p">(</span><span class="k">new</span> <span class="nx">Color</span><span class="p">(</span><span class="nx">Color</span><span class="p">.</span><span class="nx">named</span><span class="p">.</span><span class="nx">red</span><span class="p">),</span> <span class="k">new</span> <span class="nx">Color</span><span class="p">(</span><span class="nx">Color</span><span class="p">.</span><span class="nx">named</span><span class="p">.</span><span class="nx">green</span><span class="p">));</span>
    <span class="k">new</span> <span class="nx">TreeMap</span><span class="p">({</span><span class="nx">store</span><span class="o">:</span> <span class="nx">dataStore</span><span class="p">,</span>
      <span class="nx">areaAttr</span><span class="o">:</span> <span class="s2">&quot;sales&quot;</span><span class="p">,</span>
      <span class="nx">colorFunc</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">){</span>
        <span class="c1">// use benefit % instead of absolute profit</span>
        <span class="k">return</span> <span class="nx">item</span><span class="p">.</span><span class="nx">profit</span> <span class="o">/</span> <span class="nx">item</span><span class="p">.</span><span class="nx">sales</span><span class="p">;</span>
      <span class="p">},</span>
      <span class="nx">groupAttrs</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;region&quot;</span><span class="p">],</span>
      <span class="nx">colorModel</span><span class="o">:</span> <span class="nx">colorModel</span><span class="p">,</span>
      <span class="nx">query</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">){</span>
        <span class="k">return</span> <span class="nx">item</span><span class="p">.</span><span class="nx">sales</span> <span class="o">&gt;</span> <span class="mi">500</span><span class="p">;</span>
      <span class="p">}},</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;treeMap&quot;</span><span class="p">));</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/ready&quot;, &quot;dojo/dom&quot;, &quot;dojox/treemap/TreeMap&quot;,
  &quot;dojo/store/Memory&quot;, &quot;dojox/color/MeanColorModel&quot;, &quot;dojo/_base/Color&quot;],
  function(ready, dom, TreeMap, Memory, MeanColorModel, Color) {
  ready(function(){
    var dataStore = new Memory({idProperty: &quot;label&quot;, data:
    [
      { label: &quot;France&quot;, sales: 500, profit: 50, region: &quot;EU&quot; },
      { label: &quot;Germany&quot;, sales: 450, profit: 48, region: &quot;EU&quot; },
      { label: &quot;UK&quot;, sales: 700, profit: 60, region: &quot;EU&quot; },
      { label: &quot;USA&quot;, sales: 2000, profit: 250, region: &quot;America&quot; },
      { label: &quot;Canada&quot;, sales: 600, profit: 30, region: &quot;America&quot; },
      { label: &quot;Brazil&quot;, sales: 450, profit: 30, region: &quot;America&quot; },
      { label: &quot;China&quot;, sales: 500, profit: 40, region: &quot;Asia&quot; },
      { label: &quot;Japan&quot;, sales: 900, profit: 100, region: &quot;Asia&quot; }
    ]});
    var colorModel = new MeanColorModel(new Color(Color.named.red), new Color(Color.named.green));
    new TreeMap({store: dataStore,
      areaAttr: &quot;sales&quot;,
      colorFunc: function(item){
        // use benefit % instead of absolute profit
        return item.profit / item.sales;
      },
      groupAttrs: [&quot;region&quot;],
      colorModel: colorModel,
      query: function(item){
        return item.sales &gt; 500;
      }}, dom.byId(&quot;treeMap&quot;));
  });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;treeMap&quot;</span> <span class="na">style=</span><span class="s">&quot;width:600px;height:600px&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div id=&quot;treeMap&quot; style=&quot;width:600px;height:600px&quot;&gt;&lt;/div&gt;</textarea></div></div></div><p>The example is very similar to the previous one, except that it is using a function to compute the input value for the cells color. In this case instead of using the absolute profit figure
we are computing the profit percentage.</p>
<p>The example is also leveraging the query attribute that allows to reduce the scope of the query made onto the data store in order to extract a subset of the data. Here we are choosing only
data items with sales above a given threshold.</p>
<p>Obviously functions are also supported for binding areas, labels or tooltips.</p>
</div>
</div>
<div class="section" id="configuring-treemap-properties">
<h2><a class="toc-backref" href="#id6">Configuring treemap properties</a><a class="headerlink" href="#configuring-treemap-properties" title="Permalink to this headline">¶</a></h2>
<p>In addition to the mapping properties the TreeMap widget provides other interesting properties.</p>
<blockquote>
<div><ul class="simple">
<li>the labelThreshold property corresponds to the maximum depth level at which labels will be displayed. If you want no labels to be displayed, choose 0, if you want only top level labels choose 1 and so on.</li>
<li>the selectionMode property corresponds to the type of selection you want to enable on the treemap, possible values are &#8220;multiple&#8221;, &#8220;single&#8221; or &#8220;none&#8221;.</li>
<li>the selectedItems property is the array of selected items. If you want to select only a single item you can alternatively used selectedItem property.</li>
</ul>
</div></blockquote>
<div class="highlight"><pre><span class="k">new</span> <span class="nx">TreeMap</span><span class="p">({</span><span class="nx">store</span><span class="o">:</span> <span class="nx">dataStore</span><span class="p">,</span> <span class="nx">labelThreshold</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">selectedItem</span><span class="o">:</span>  <span class="nx">dataStore</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;France&quot;</span><span class="p">)</span> <span class="p">,</span>
  <span class="nx">areaAttr</span><span class="o">:</span> <span class="s2">&quot;sales&quot;</span><span class="p">,</span> <span class="nx">colorAttr</span><span class="o">:</span> <span class="s2">&quot;profit&quot;</span><span class="p">,</span> <span class="nx">groupAttrs</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;region&quot;</span><span class="p">],</span>
  <span class="nx">colorModel</span><span class="o">:</span> <span class="nx">colorModel</span> <span class="p">},</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;treeMap&quot;</span><span class="p">));</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">new TreeMap({store: dataStore, labelThreshold: 1, selectedItem:  dataStore.get(&quot;France&quot;) ,
  areaAttr: &quot;sales&quot;, colorAttr: &quot;profit&quot;, groupAttrs: [&quot;region&quot;],
  colorModel: colorModel }, dom.byId(&quot;treeMap&quot;));</textarea></div></div>
<div class="section" id="styling-the-treemap">
<h2><a class="toc-backref" href="#id7">Styling the treemap</a><a class="headerlink" href="#styling-the-treemap" title="Permalink to this headline">¶</a></h2>
<p>The TreeMap widget generates HTML markup that can be styled using CSS. The treemap provides a default TreeMap.css that must be included in your application. Alternate rendering can be achieved by overriding some of the CSS rules and using the classes put by the treemap on the HTML elements.</p>
<dl class="docutils">
<dt>The following example shows how to:</dt>
<dd><ul class="first last simple">
<li>center the labels</li>
<li>change the font size</li>
<li>use rounded corners on treemap cells (HTML5 browsers only)</li>
</ul>
</dd>
</dl>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'inline', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'620', height:'620', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/treemap/TreeMap&quot;</span><span class="p">,</span>
  <span class="s2">&quot;dojo/store/Memory&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/color/MeanColorModel&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/Color&quot;</span><span class="p">],</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">ready</span><span class="p">,</span> <span class="nx">dom</span><span class="p">,</span> <span class="nx">TreeMap</span><span class="p">,</span> <span class="nx">Memory</span><span class="p">,</span> <span class="nx">MeanColorModel</span><span class="p">,</span> <span class="nx">Color</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">dataStore</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Memory</span><span class="p">({</span><span class="nx">idProperty</span><span class="o">:</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span>
    <span class="p">[</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;France&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Germany&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">48</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;UK&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">700</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">60</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;USA&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">2000</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Canada&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">600</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Brazil&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;China&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">40</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Japan&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">900</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">}</span>
    <span class="p">]});</span>
    <span class="kd">var</span> <span class="nx">colorModel</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MeanColorModel</span><span class="p">(</span><span class="k">new</span> <span class="nx">Color</span><span class="p">(</span><span class="nx">Color</span><span class="p">.</span><span class="nx">named</span><span class="p">.</span><span class="nx">red</span><span class="p">),</span> <span class="k">new</span> <span class="nx">Color</span><span class="p">(</span><span class="nx">Color</span><span class="p">.</span><span class="nx">named</span><span class="p">.</span><span class="nx">green</span><span class="p">));</span>
    <span class="k">new</span> <span class="nx">TreeMap</span><span class="p">({</span><span class="nx">store</span><span class="o">:</span> <span class="nx">dataStore</span><span class="p">,</span>
     <span class="nx">areaAttr</span><span class="o">:</span> <span class="s2">&quot;sales&quot;</span><span class="p">,</span> <span class="nx">colorAttr</span><span class="o">:</span> <span class="s2">&quot;profit&quot;</span><span class="p">,</span> <span class="nx">groupAttrs</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;region&quot;</span><span class="p">],</span>
     <span class="nx">colorModel</span><span class="o">:</span> <span class="nx">colorModel</span> <span class="p">},</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;treeMap&quot;</span><span class="p">));</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/ready&quot;, &quot;dojo/dom&quot;, &quot;dojox/treemap/TreeMap&quot;,
  &quot;dojo/store/Memory&quot;, &quot;dojox/color/MeanColorModel&quot;, &quot;dojo/_base/Color&quot;],
  function(ready, dom, TreeMap, Memory, MeanColorModel, Color) {
  ready(function(){
    var dataStore = new Memory({idProperty: &quot;label&quot;, data:
    [
      { label: &quot;France&quot;, sales: 500, profit: 50, region: &quot;EU&quot; },
      { label: &quot;Germany&quot;, sales: 450, profit: 48, region: &quot;EU&quot; },
      { label: &quot;UK&quot;, sales: 700, profit: 60, region: &quot;EU&quot; },
      { label: &quot;USA&quot;, sales: 2000, profit: 250, region: &quot;America&quot; },
      { label: &quot;Canada&quot;, sales: 600, profit: 30, region: &quot;America&quot; },
      { label: &quot;Brazil&quot;, sales: 450, profit: 30, region: &quot;America&quot; },
      { label: &quot;China&quot;, sales: 500, profit: 40, region: &quot;Asia&quot; },
      { label: &quot;Japan&quot;, sales: 900, profit: 100, region: &quot;Asia&quot; }
    ]});
    var colorModel = new MeanColorModel(new Color(Color.named.red), new Color(Color.named.green));
    new TreeMap({store: dataStore,
     areaAttr: &quot;sales&quot;, colorAttr: &quot;profit&quot;, groupAttrs: [&quot;region&quot;],
     colorModel: colorModel }, dom.byId(&quot;treeMap&quot;));
  });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;treeMap&quot;</span> <span class="na">style=</span><span class="s">&quot;width:600px;height:600px&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div id=&quot;treeMap&quot; style=&quot;width:600px;height:600px&quot;&gt;&lt;/div&gt;</textarea></div><div class="highlight"><pre><span class="o">&lt;</span><span class="nt">style</span> <span class="nt">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="o">&gt;</span>
  <span class="k">@import</span> <span class="s2">&quot;{{baseUrl}}/dojox/treemap/themes/TreeMap.css&quot;</span><span class="p">;</span>

  <span class="nc">.dojoxTreeMap</span> <span class="p">{</span>
    <span class="k">font-family</span><span class="o">:</span> <span class="n">Geneva</span><span class="o">,</span> <span class="n">Arial</span><span class="o">,</span> <span class="n">Helvetica</span><span class="o">,</span> <span class="k">sans-serif</span><span class="p">;</span>
    <span class="k">font-size</span><span class="o">:</span> <span class="m">16px</span><span class="p">;</span>
    <span class="k">text-align</span><span class="o">:</span> <span class="k">center</span><span class="p">;</span>
    <span class="k">background</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nc">.dojoxTreeMapLeaf</span> <span class="p">{</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">15px</span> <span class="m">15px</span><span class="p">;</span>
    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">15px</span> <span class="m">15px</span><span class="p">;</span>
    <span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">15px</span> <span class="m">15px</span><span class="p">;</span>
    <span class="k">margin</span><span class="o">:</span> <span class="m">1px</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nc">.dojoxTreeMapHeader</span> <span class="p">{</span>
    <span class="k">text-align</span><span class="o">:</span> <span class="k">center</span><span class="p">;</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">15px</span> <span class="m">15px</span><span class="p">;</span>
    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">15px</span> <span class="m">15px</span><span class="p">;</span>
    <span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">15px</span> <span class="m">15px</span><span class="p">;</span>
    <span class="k">background</span><span class="o">:</span>  <span class="m">#0B8CD4</span><span class="p">;</span>
  <span class="p">}</span>
<span class="o">&lt;/</span><span class="nt">style</span><span class="o">&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="css"><textarea style="display:none">&lt;style type=&quot;text/css&quot;&gt;
  &#64;import &quot;{{baseUrl}}/dojox/treemap/themes/TreeMap.css&quot;;

  .dojoxTreeMap {
    font-family: Geneva, Arial, Helvetica, sans-serif;
    font-size: 16px;
    text-align: center;
    background: none;
  }

  .dojoxTreeMapLeaf {
    -webkit-border-radius: 15px 15px;
    -moz-border-radius: 15px 15px;
    border-radius: 15px 15px;
    margin: 1px;
  }

  .dojoxTreeMapHeader {
    text-align: center;
    -webkit-border-radius: 15px 15px;
    -moz-border-radius: 15px 15px;
    border-radius: 15px 15px;
    background:  #0B8CD4;
  }
&lt;/style&gt;</textarea></div></div></div><p>Other styling can be performed like changing selection border color or adding margins between the cells.</p>
<p>The following CSS class are available for that purpose:</p>
<blockquote>
<div><ul class="simple">
<li>dojoxTreeMap: the TreeMap widget class</li>
<li>dojoxTreeMapLeaf: the TreeMap leaf cells class</li>
<li>dojoxTreeMapGroup: the TreeMap grouping div class which contains:<ul>
<li>dojoxTreeMapHeader: the TreeMap grouping div header class.</li>
<li>dojoxTreeMapHeader_*level*: the class for header of level <em>level</em>.</li>
<li>dojoxTreeMapGroupContent: the TreeMap grouping div content class.</li>
<li>dojoxTreeMapGroupContent_*level*: the class for content of level <em>level</em>.</li>
</ul>
</li>
<li>dojoxTreeMapSelected: for selected TreeMap cells.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="user-interactions">
<h2><a class="toc-backref" href="#id8">User interactions</a><a class="headerlink" href="#user-interactions" title="Permalink to this headline">¶</a></h2>
<p>By default the TreeMap widget only provide mouse &amp; touch selection interaction. In this default configuration the following selection actions are available:</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Function</th>
<th class="head">Action</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Select</td>
<td>Click a cell in the treemap</td>
</tr>
<tr class="row-odd"><td>Extend a selection</td>
<td>Hold down the CTRL key an click a cell</td>
</tr>
<tr class="row-even"><td>Reduce a selection</td>
<td>Hold down the CTRL key and click an already selected cell</td>
</tr>
</tbody>
</table>
<p>Other interaction must be explicitly mixed in the TreeMap in order to be available.</p>
<p>To get drill down ability on double click or double tap:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/declare&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/treemap/TreeMap&quot;</span><span class="p">,</span>
  <span class="s2">&quot;dojo/store/Memory&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/color/MeanColorModel&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/Color&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/treemap/DrillDownUp&quot;</span><span class="p">],</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">ready</span><span class="p">,</span> <span class="nx">dom</span><span class="p">,</span> <span class="nx">declare</span><span class="p">,</span> <span class="nx">TreeMap</span><span class="p">,</span> <span class="nx">Memory</span><span class="p">,</span> <span class="nx">MeanColorModel</span><span class="p">,</span> <span class="nx">Color</span><span class="p">,</span> <span class="nx">DrillDownUp</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="kd">var</span> <span class="nx">dataStore</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Memory</span><span class="p">({</span><span class="nx">idProperty</span><span class="o">:</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span>
        <span class="p">[</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;France&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Germany&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">48</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;UK&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">700</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">60</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;USA&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">2000</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Canada&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">600</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Brazil&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;China&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">40</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Japan&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">900</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">}</span>
        <span class="p">]});</span>
      <span class="kd">var</span> <span class="nx">colorModel</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MeanColorModel</span><span class="p">(</span><span class="k">new</span> <span class="nx">Color</span><span class="p">(</span><span class="nx">Color</span><span class="p">.</span><span class="nx">named</span><span class="p">.</span><span class="nx">red</span><span class="p">),</span> <span class="k">new</span> <span class="nx">Color</span><span class="p">(</span><span class="nx">Color</span><span class="p">.</span><span class="nx">named</span><span class="p">.</span><span class="nx">green</span><span class="p">));</span>
      <span class="k">new</span> <span class="nx">declare</span><span class="p">([</span><span class="nx">TreeMap</span><span class="p">,</span> <span class="nx">DrillDownUp</span><span class="p">])({</span><span class="nx">store</span><span class="o">:</span> <span class="nx">dataStore</span><span class="p">,</span>
        <span class="nx">areaAttr</span><span class="o">:</span> <span class="s2">&quot;sales&quot;</span><span class="p">,</span> <span class="nx">colorAttr</span><span class="o">:</span> <span class="s2">&quot;profit&quot;</span><span class="p">,</span> <span class="nx">tooltipAttr</span><span class="o">:</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="nx">groupAttrs</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;region&quot;</span><span class="p">],</span>
        <span class="nx">colorModel</span><span class="o">:</span> <span class="nx">colorModel</span> <span class="p">},</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;treeMap&quot;</span><span class="p">));</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/ready&quot;, &quot;dojo/dom&quot;, &quot;dojo/_base/declare&quot;, &quot;dojox/treemap/TreeMap&quot;,
  &quot;dojo/store/Memory&quot;, &quot;dojox/color/MeanColorModel&quot;, &quot;dojo/_base/Color&quot;, &quot;dojox/treemap/DrillDownUp&quot;],
  function(ready, dom, declare, TreeMap, Memory, MeanColorModel, Color, DrillDownUp) {
    ready(function(){
        var dataStore = new Memory({idProperty: &quot;label&quot;, data:
        [
          { label: &quot;France&quot;, sales: 500, profit: 50, region: &quot;EU&quot; },
          { label: &quot;Germany&quot;, sales: 450, profit: 48, region: &quot;EU&quot; },
          { label: &quot;UK&quot;, sales: 700, profit: 60, region: &quot;EU&quot; },
          { label: &quot;USA&quot;, sales: 2000, profit: 250, region: &quot;America&quot; },
          { label: &quot;Canada&quot;, sales: 600, profit: 30, region: &quot;America&quot; },
          { label: &quot;Brazil&quot;, sales: 450, profit: 30, region: &quot;America&quot; },
          { label: &quot;China&quot;, sales: 500, profit: 40, region: &quot;Asia&quot; },
          { label: &quot;Japan&quot;, sales: 900, profit: 100, region: &quot;Asia&quot; }
        ]});
      var colorModel = new MeanColorModel(new Color(Color.named.red), new Color(Color.named.green));
      new declare([TreeMap, DrillDownUp])({store: dataStore,
        areaAttr: &quot;sales&quot;, colorAttr: &quot;profit&quot;, tooltipAttr: &quot;label&quot;, groupAttrs: [&quot;region&quot;],
        colorModel: colorModel }, dom.byId(&quot;treeMap&quot;));
    });
});</textarea></div><p>To get keyboard interaction:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/declare&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/treemap/TreeMap&quot;</span><span class="p">,</span>
  <span class="s2">&quot;dojo/store/Memory&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/color/MeanColorModel&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/Color&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/treemap/Keyboard&quot;</span><span class="p">],</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">ready</span><span class="p">,</span> <span class="nx">dom</span><span class="p">,</span> <span class="nx">declare</span><span class="p">,</span> <span class="nx">TreeMap</span><span class="p">,</span> <span class="nx">Memory</span><span class="p">,</span> <span class="nx">MeanColorModel</span><span class="p">,</span> <span class="nx">Color</span><span class="p">,</span> <span class="nx">Keyboard</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="kd">var</span> <span class="nx">dataStore</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Memory</span><span class="p">({</span><span class="nx">idProperty</span><span class="o">:</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span>
        <span class="p">[</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;France&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Germany&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">48</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;UK&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">700</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">60</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;USA&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">2000</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Canada&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">600</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Brazil&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;China&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">40</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Japan&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">900</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">}</span>
        <span class="p">]});</span>
      <span class="kd">var</span> <span class="nx">colorModel</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MeanColorModel</span><span class="p">(</span><span class="k">new</span> <span class="nx">Color</span><span class="p">(</span><span class="nx">Color</span><span class="p">.</span><span class="nx">named</span><span class="p">.</span><span class="nx">red</span><span class="p">),</span> <span class="k">new</span> <span class="nx">Color</span><span class="p">(</span><span class="nx">Color</span><span class="p">.</span><span class="nx">named</span><span class="p">.</span><span class="nx">green</span><span class="p">));</span>
      <span class="k">new</span> <span class="nx">declare</span><span class="p">([</span><span class="nx">TreeMap</span><span class="p">,</span> <span class="nx">Keyboard</span><span class="p">])({</span><span class="nx">store</span><span class="o">:</span> <span class="nx">dataStore</span><span class="p">,</span>
        <span class="nx">areaAttr</span><span class="o">:</span> <span class="s2">&quot;sales&quot;</span><span class="p">,</span> <span class="nx">colorAttr</span><span class="o">:</span> <span class="s2">&quot;profit&quot;</span><span class="p">,</span> <span class="nx">tooltipAttr</span><span class="o">:</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="nx">groupAttrs</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;region&quot;</span><span class="p">],</span>
        <span class="nx">colorModel</span><span class="o">:</span> <span class="nx">colorModel</span> <span class="p">},</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;treeMap&quot;</span><span class="p">));</span>
   <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/ready&quot;, &quot;dojo/dom&quot;, &quot;dojo/_base/declare&quot;, &quot;dojox/treemap/TreeMap&quot;,
  &quot;dojo/store/Memory&quot;, &quot;dojox/color/MeanColorModel&quot;, &quot;dojo/_base/Color&quot;, &quot;dojox/treemap/Keyboard&quot;],
  function(ready, dom, declare, TreeMap, Memory, MeanColorModel, Color, Keyboard) {
    ready(function(){
        var dataStore = new Memory({idProperty: &quot;label&quot;, data:
        [
          { label: &quot;France&quot;, sales: 500, profit: 50, region: &quot;EU&quot; },
          { label: &quot;Germany&quot;, sales: 450, profit: 48, region: &quot;EU&quot; },
          { label: &quot;UK&quot;, sales: 700, profit: 60, region: &quot;EU&quot; },
          { label: &quot;USA&quot;, sales: 2000, profit: 250, region: &quot;America&quot; },
          { label: &quot;Canada&quot;, sales: 600, profit: 30, region: &quot;America&quot; },
          { label: &quot;Brazil&quot;, sales: 450, profit: 30, region: &quot;America&quot; },
          { label: &quot;China&quot;, sales: 500, profit: 40, region: &quot;Asia&quot; },
          { label: &quot;Japan&quot;, sales: 900, profit: 100, region: &quot;Asia&quot; }
        ]});
      var colorModel = new MeanColorModel(new Color(Color.named.red), new Color(Color.named.green));
      new declare([TreeMap, Keyboard])({store: dataStore,
        areaAttr: &quot;sales&quot;, colorAttr: &quot;profit&quot;, tooltipAttr: &quot;label&quot;, groupAttrs: [&quot;region&quot;],
        colorModel: colorModel }, dom.byId(&quot;treeMap&quot;));
   });
});</textarea></div><p>Which enable the following actions:</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Keyboard</th>
<th class="head">Action</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Right/left arrow keys</td>
<td>Select a neighboring item that shares the same parent item.</td>
</tr>
<tr class="row-odd"><td>Up/down arrow keys</td>
<td>Move up or down in the hierarchy to select a parent or child item.</td>
</tr>
<tr class="row-even"><td>Plus key (+)</td>
<td>Drill down the treemap</td>
</tr>
<tr class="row-odd"><td>Minus key (-)</td>
<td>Drill up the treemap</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="using-alternate-rendering-mixins">
<h2><a class="toc-backref" href="#id9">Using alternate rendering mixins</a><a class="headerlink" href="#using-alternate-rendering-mixins" title="Permalink to this headline">¶</a></h2>
<p>By default each cell is drawn with a fixed size label. As demonstrated in the Styling the treemap one can leverage CSS to change the default rendering like changing the font size. However some
more complex customization might not be possible with CSS, that&#8217;s why the TreeMap widget conveniently propose classes that can be mixed in the TreeMap class and will provide alternate rendering.</p>
<p>The first rendering mixin is the GroupLabel mixin. It allows to remove cell labels and only keep group labels centered on the groups:</p>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'inline', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'620', height:'620', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/declare&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/treemap/TreeMap&quot;</span><span class="p">,</span>
  <span class="s2">&quot;dojo/store/Memory&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/color/MeanColorModel&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/Color&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/treemap/GroupLabel&quot;</span><span class="p">],</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">ready</span><span class="p">,</span> <span class="nx">dom</span><span class="p">,</span> <span class="nx">declare</span><span class="p">,</span> <span class="nx">TreeMap</span><span class="p">,</span> <span class="nx">Memory</span><span class="p">,</span> <span class="nx">MeanColorModel</span><span class="p">,</span> <span class="nx">Color</span><span class="p">,</span> <span class="nx">GroupLabel</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="kd">var</span> <span class="nx">dataStore</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Memory</span><span class="p">({</span><span class="nx">idProperty</span><span class="o">:</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span>
        <span class="p">[</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;France&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Germany&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">48</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;UK&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">700</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">60</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;USA&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">2000</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Canada&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">600</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Brazil&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;China&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">40</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Japan&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">900</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">}</span>
        <span class="p">]});</span>
      <span class="kd">var</span> <span class="nx">colorModel</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MeanColorModel</span><span class="p">(</span><span class="k">new</span> <span class="nx">Color</span><span class="p">(</span><span class="nx">Color</span><span class="p">.</span><span class="nx">named</span><span class="p">.</span><span class="nx">red</span><span class="p">),</span> <span class="k">new</span> <span class="nx">Color</span><span class="p">(</span><span class="nx">Color</span><span class="p">.</span><span class="nx">named</span><span class="p">.</span><span class="nx">green</span><span class="p">));</span>
      <span class="k">new</span> <span class="nx">declare</span><span class="p">([</span><span class="nx">TreeMap</span><span class="p">,</span> <span class="nx">GroupLabel</span><span class="p">])({</span><span class="nx">store</span><span class="o">:</span> <span class="nx">dataStore</span><span class="p">,</span>
        <span class="nx">areaAttr</span><span class="o">:</span> <span class="s2">&quot;sales&quot;</span><span class="p">,</span> <span class="nx">colorAttr</span><span class="o">:</span> <span class="s2">&quot;profit&quot;</span><span class="p">,</span> <span class="nx">tooltipAttr</span><span class="o">:</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="nx">groupAttrs</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;region&quot;</span><span class="p">],</span>
        <span class="nx">colorModel</span><span class="o">:</span> <span class="nx">colorModel</span> <span class="p">},</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;treeMap&quot;</span><span class="p">));</span>
   <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/ready&quot;, &quot;dojo/dom&quot;, &quot;dojo/_base/declare&quot;, &quot;dojox/treemap/TreeMap&quot;,
  &quot;dojo/store/Memory&quot;, &quot;dojox/color/MeanColorModel&quot;, &quot;dojo/_base/Color&quot;, &quot;dojox/treemap/GroupLabel&quot;],
  function(ready, dom, declare, TreeMap, Memory, MeanColorModel, Color, GroupLabel) {
    ready(function(){
        var dataStore = new Memory({idProperty: &quot;label&quot;, data:
        [
          { label: &quot;France&quot;, sales: 500, profit: 50, region: &quot;EU&quot; },
          { label: &quot;Germany&quot;, sales: 450, profit: 48, region: &quot;EU&quot; },
          { label: &quot;UK&quot;, sales: 700, profit: 60, region: &quot;EU&quot; },
          { label: &quot;USA&quot;, sales: 2000, profit: 250, region: &quot;America&quot; },
          { label: &quot;Canada&quot;, sales: 600, profit: 30, region: &quot;America&quot; },
          { label: &quot;Brazil&quot;, sales: 450, profit: 30, region: &quot;America&quot; },
          { label: &quot;China&quot;, sales: 500, profit: 40, region: &quot;Asia&quot; },
          { label: &quot;Japan&quot;, sales: 900, profit: 100, region: &quot;Asia&quot; }
        ]});
      var colorModel = new MeanColorModel(new Color(Color.named.red), new Color(Color.named.green));
      new declare([TreeMap, GroupLabel])({store: dataStore,
        areaAttr: &quot;sales&quot;, colorAttr: &quot;profit&quot;, tooltipAttr: &quot;label&quot;, groupAttrs: [&quot;region&quot;],
        colorModel: colorModel }, dom.byId(&quot;treeMap&quot;));
   });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;treeMap&quot;</span> <span class="na">style=</span><span class="s">&quot;width:600px;height:600px&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div id=&quot;treeMap&quot; style=&quot;width:600px;height:600px&quot;&gt;&lt;/div&gt;</textarea></div><div class="highlight"><pre><span class="o">&lt;</span><span class="nt">style</span> <span class="nt">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="o">&gt;</span>
  <span class="k">@import</span> <span class="s2">&quot;{{baseUrl}}/dojox/treemap/themes/TreeMap.css&quot;</span><span class="p">;</span>
  <span class="k">@import</span> <span class="s2">&quot;{{baseUrl}}/dojox/treemap/themes/GroupLabel.css&quot;</span><span class="p">;</span>
<span class="o">&lt;/</span><span class="nt">style</span><span class="o">&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="css"><textarea style="display:none">&lt;style type=&quot;text/css&quot;&gt;
  &#64;import &quot;{{baseUrl}}/dojox/treemap/themes/TreeMap.css&quot;;
  &#64;import &quot;{{baseUrl}}/dojox/treemap/themes/GroupLabel.css&quot;;
&lt;/style&gt;</textarea></div></div></div><p>The second rendering mixin is the ScaledLabel mixin. It allows to scale the cell labels so that they fill as much as possible the cells size:</p>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'inline', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'620', height:'620', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/declare&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/treemap/TreeMap&quot;</span><span class="p">,</span>
  <span class="s2">&quot;dojo/store/Memory&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/color/MeanColorModel&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/Color&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/treemap/ScaledLabel&quot;</span><span class="p">],</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">ready</span><span class="p">,</span> <span class="nx">dom</span><span class="p">,</span> <span class="nx">declare</span><span class="p">,</span> <span class="nx">TreeMap</span><span class="p">,</span> <span class="nx">Memory</span><span class="p">,</span> <span class="nx">MeanColorModel</span><span class="p">,</span> <span class="nx">Color</span><span class="p">,</span> <span class="nx">ScaledLabel</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="kd">var</span> <span class="nx">dataStore</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Memory</span><span class="p">({</span><span class="nx">idProperty</span><span class="o">:</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span>
        <span class="p">[</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;France&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Germany&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">48</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;UK&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">700</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">60</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;USA&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">2000</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Canada&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">600</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Brazil&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;China&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">40</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Japan&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">900</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">}</span>
        <span class="p">]});</span>
      <span class="kd">var</span> <span class="nx">colorModel</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MeanColorModel</span><span class="p">(</span><span class="k">new</span> <span class="nx">Color</span><span class="p">(</span><span class="nx">Color</span><span class="p">.</span><span class="nx">named</span><span class="p">.</span><span class="nx">red</span><span class="p">),</span> <span class="k">new</span> <span class="nx">Color</span><span class="p">(</span><span class="nx">Color</span><span class="p">.</span><span class="nx">named</span><span class="p">.</span><span class="nx">green</span><span class="p">));</span>
      <span class="k">new</span> <span class="nx">declare</span><span class="p">([</span><span class="nx">TreeMap</span><span class="p">,</span> <span class="nx">ScaledLabel</span><span class="p">])({</span><span class="nx">store</span><span class="o">:</span> <span class="nx">dataStore</span><span class="p">,</span>
        <span class="nx">areaAttr</span><span class="o">:</span> <span class="s2">&quot;sales&quot;</span><span class="p">,</span> <span class="nx">colorAttr</span><span class="o">:</span> <span class="s2">&quot;profit&quot;</span><span class="p">,</span> <span class="nx">tooltipAttr</span><span class="o">:</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="nx">groupAttrs</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;region&quot;</span><span class="p">],</span>
        <span class="nx">colorModel</span><span class="o">:</span> <span class="nx">colorModel</span> <span class="p">},</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;treeMap&quot;</span><span class="p">));</span>
   <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/ready&quot;, &quot;dojo/dom&quot;, &quot;dojo/_base/declare&quot;, &quot;dojox/treemap/TreeMap&quot;,
  &quot;dojo/store/Memory&quot;, &quot;dojox/color/MeanColorModel&quot;, &quot;dojo/_base/Color&quot;, &quot;dojox/treemap/ScaledLabel&quot;],
  function(ready, dom, declare, TreeMap, Memory, MeanColorModel, Color, ScaledLabel) {
    ready(function(){
        var dataStore = new Memory({idProperty: &quot;label&quot;, data:
        [
          { label: &quot;France&quot;, sales: 500, profit: 50, region: &quot;EU&quot; },
          { label: &quot;Germany&quot;, sales: 450, profit: 48, region: &quot;EU&quot; },
          { label: &quot;UK&quot;, sales: 700, profit: 60, region: &quot;EU&quot; },
          { label: &quot;USA&quot;, sales: 2000, profit: 250, region: &quot;America&quot; },
          { label: &quot;Canada&quot;, sales: 600, profit: 30, region: &quot;America&quot; },
          { label: &quot;Brazil&quot;, sales: 450, profit: 30, region: &quot;America&quot; },
          { label: &quot;China&quot;, sales: 500, profit: 40, region: &quot;Asia&quot; },
          { label: &quot;Japan&quot;, sales: 900, profit: 100, region: &quot;Asia&quot; }
        ]});
      var colorModel = new MeanColorModel(new Color(Color.named.red), new Color(Color.named.green));
      new declare([TreeMap, ScaledLabel])({store: dataStore,
        areaAttr: &quot;sales&quot;, colorAttr: &quot;profit&quot;, tooltipAttr: &quot;label&quot;, groupAttrs: [&quot;region&quot;],
        colorModel: colorModel }, dom.byId(&quot;treeMap&quot;));
   });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;treeMap&quot;</span> <span class="na">style=</span><span class="s">&quot;width:600px;height:600px&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div id=&quot;treeMap&quot; style=&quot;width:600px;height:600px&quot;&gt;&lt;/div&gt;</textarea></div><div class="highlight"><pre><span class="o">&lt;</span><span class="nt">style</span> <span class="nt">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="o">&gt;</span>
  <span class="k">@import</span> <span class="s2">&quot;{{baseUrl}}/dojox/treemap/themes/TreeMap.css&quot;</span><span class="p">;</span>
<span class="o">&lt;/</span><span class="nt">style</span><span class="o">&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="css"><textarea style="display:none">&lt;style type=&quot;text/css&quot;&gt;
  &#64;import &quot;{{baseUrl}}/dojox/treemap/themes/TreeMap.css&quot;;
&lt;/style&gt;</textarea></div></div></div></div>
<div class="section" id="managing-treemap-events">
<h2><a class="toc-backref" href="#id10">Managing treemap events</a><a class="headerlink" href="#managing-treemap-events" title="Permalink to this headline">¶</a></h2>
<p>The TreeMap widget is firing the following events:</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Event</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>itemRollOver</td>
<td>Indicates that the user rolled the pointer over a cell in the treemap.</td>
</tr>
<tr class="row-odd"><td>itemRollOut</td>
<td>Indicates that the user rolled the pointer over a cell in the treemap.</td>
</tr>
<tr class="row-even"><td>change</td>
<td>Indicates that the selection of a treemap cell has changed (i.e. it has been selected or deselected)</td>
</tr>
<tr class="row-odd"><td>rendererUpdated</td>
<td>Indicates that a given treemap cell renderer has been updated</td>
</tr>
</tbody>
</table>
<p>One can listen to this events and react to them. For example, the following code output the name of the latest selected item in the DOM:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/treemap/TreeMap&quot;</span><span class="p">,</span>
  <span class="s2">&quot;dojo/store/Memory&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/color/MeanColorModel&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/Color&quot;</span><span class="p">],</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">ready</span><span class="p">,</span> <span class="nx">dom</span><span class="p">,</span> <span class="nx">TreeMap</span><span class="p">,</span> <span class="nx">Memory</span><span class="p">,</span> <span class="nx">MeanColorModel</span><span class="p">,</span> <span class="nx">Color</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="kd">var</span> <span class="nx">dataStore</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Memory</span><span class="p">({</span><span class="nx">idProperty</span><span class="o">:</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span>
        <span class="p">[</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;France&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Germany&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">48</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;UK&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">700</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">60</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;EU&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;USA&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">2000</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Canada&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">600</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Brazil&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;America&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;China&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">40</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Japan&quot;</span><span class="p">,</span> <span class="nx">sales</span><span class="o">:</span> <span class="mi">900</span><span class="p">,</span> <span class="nx">profit</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">region</span><span class="o">:</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">}</span>
        <span class="p">]});</span>
      <span class="kd">var</span> <span class="nx">colorModel</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MeanColorModel</span><span class="p">(</span><span class="k">new</span> <span class="nx">Color</span><span class="p">(</span><span class="nx">Color</span><span class="p">.</span><span class="nx">named</span><span class="p">.</span><span class="nx">red</span><span class="p">),</span> <span class="k">new</span> <span class="nx">Color</span><span class="p">(</span><span class="nx">Color</span><span class="p">.</span><span class="nx">named</span><span class="p">.</span><span class="nx">green</span><span class="p">));</span>
      <span class="kd">var</span> <span class="nx">treeMap</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TreeMap</span><span class="p">({</span><span class="nx">store</span><span class="o">:</span> <span class="nx">dataStore</span><span class="p">,</span>
        <span class="nx">areaAttr</span><span class="o">:</span> <span class="s2">&quot;sales&quot;</span><span class="p">,</span> <span class="nx">colorAttr</span><span class="o">:</span> <span class="s2">&quot;profit&quot;</span><span class="p">,</span> <span class="nx">groupAttrs</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;region&quot;</span><span class="p">],</span>
        <span class="nx">colorModel</span><span class="o">:</span> <span class="nx">colorModel</span> <span class="p">},</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;treeMap&quot;</span><span class="p">));</span>
      <span class="nx">treeMap</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;change&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">newValue</span><span class="p">){</span>
          <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;output&quot;</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">newValue</span><span class="p">.</span><span class="nx">label</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">});</span>
   <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/ready&quot;, &quot;dojo/dom&quot;, &quot;dojox/treemap/TreeMap&quot;,
  &quot;dojo/store/Memory&quot;, &quot;dojox/color/MeanColorModel&quot;, &quot;dojo/_base/Color&quot;],
  function(ready, dom, TreeMap, Memory, MeanColorModel, Color) {
    ready(function(){
        var dataStore = new Memory({idProperty: &quot;label&quot;, data:
        [
          { label: &quot;France&quot;, sales: 500, profit: 50, region: &quot;EU&quot; },
          { label: &quot;Germany&quot;, sales: 450, profit: 48, region: &quot;EU&quot; },
          { label: &quot;UK&quot;, sales: 700, profit: 60, region: &quot;EU&quot; },
          { label: &quot;USA&quot;, sales: 2000, profit: 250, region: &quot;America&quot; },
          { label: &quot;Canada&quot;, sales: 600, profit: 30, region: &quot;America&quot; },
          { label: &quot;Brazil&quot;, sales: 450, profit: 30, region: &quot;America&quot; },
          { label: &quot;China&quot;, sales: 500, profit: 40, region: &quot;Asia&quot; },
          { label: &quot;Japan&quot;, sales: 900, profit: 100, region: &quot;Asia&quot; }
        ]});
      var colorModel = new MeanColorModel(new Color(Color.named.red), new Color(Color.named.green));
      var treeMap = new TreeMap({store: dataStore,
        areaAttr: &quot;sales&quot;, colorAttr: &quot;profit&quot;, groupAttrs: [&quot;region&quot;],
        colorModel: colorModel }, dom.byId(&quot;treeMap&quot;));
      treeMap.on(&quot;change&quot;, function(e){
        if(e.newValue){
          dom.byId(&quot;output&quot;).innerHTML = e.newValue.label;
        }
      });
   });
});</textarea></div></div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id11">See also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>A demo is leveraging the Dojo treemap to explore Dojo Trac bug base. Check it out <a class="reference external" href="http://demos.dojotoolkit.org/demos/tracTreemap/">here</a>.</li>
</ul>
</div></blockquote>
</div>
</div>


      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-9 columns offset-3">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
        <div class="footer">
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');

	</script>
</div>
    </div>
  </div>
  
  </body>
</html>