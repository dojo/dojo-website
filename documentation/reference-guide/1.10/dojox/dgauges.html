<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojox.dgauges &mdash; The Dojo Toolkit - Reference Guide</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.10.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>

    <link rel="stylesheet" href="../../../../css/guide.css">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <script src="../../../scripts/dojo/dojo/dojo.js"></script>
    <script src="../../../../scripts/guide/docs/guide.js"></script>
    <link rel="stylesheet" href="../../../../scripts/dojo/dijit/themes/claro/claro.css">

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo"><span>Dojo</span></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="">Get Dojo</a></li>
					<li><a href="/documentation/">Docs</a></li>
					<li><a href="">Help &amp; Support</a></li>
					<li><a href="">Blog</a></li>
					<li><a href="">Get Involved</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <main class="refguide">
    <div class="row">

      <div class="medium-3 columns sideNav">
        <h4>Reference Guide</h4>
        <div id="dtkVersion">
          <label for="refver">Dojo Version</label>
          <select id="refver" name="refver">
            <option value="1.6">1.6</option>
            <option value="1.7">1.7</option>
            <option value="1.8">1.8</option>
            <option value="1.9">1.9</option>
            <option value="1.10" selected="selected">1.10</option>
          </select>
        </div>
        <ul>
          <li><a href="../index.html">Startpage</a></li>
          <li><a href="../dojo/index.html">Dojo</a></li>
          <li><a href="../dijit/index.html">Dijit</a></li>
          <li><a href="index.html">DojoX</a></li>
        </ul>
        <ul>
<li><a class="reference internal" href="#">dojox.dgauges</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#using-predefined-gauges">Using predefined gauges</a><ul>
<li><a class="reference internal" href="#id2">Introduction</a></li>
<li><a class="reference internal" href="#setting-properties-using-markup">Setting properties using markup</a></li>
</ul>
</li>
<li><a class="reference internal" href="#main-framework-classes">Main framework classes</a><ul>
<li><a class="reference internal" href="#gauge-base-classes">Gauge Base Classes</a><ul>
<li><a class="reference internal" href="#using-gauge-events">Using gauge events</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scalers">Scalers</a></li>
<li><a class="reference internal" href="#scales">Scales</a></li>
<li><a class="reference internal" href="#value-and-range-indicators">Value and Range Indicators</a></li>
<li><a class="reference internal" href="#text-indicator-class">Text Indicator class</a></li>
<li><a class="reference internal" href="#drawing-functions">Drawing functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-custom-gauges">Creating custom gauges</a><ul>
<li><a class="reference internal" href="#example-of-a-custom-circular-gauge">Example of a custom circular gauge</a></li>
<li><a class="reference internal" href="#example-of-a-custom-horizontal-gauge">Example of a custom horizontal gauge</a></li>
</ul>
</li>
<li><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
</ul>

        

            <div id="searchbox" style="display: none">
                <h3>Quick search</h3>
                <form class="search" action="../search.html" method="get">
                    <input type="text" name="q" size="18" />
                    <input type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                 </form>
                 <p class="searchtip" style="font-size: 90%">
                     Enter search terms or a module, class or function name.
                 </p>
            </div>
      </div>
      <div class="medium-9 columns content">
        
  <div class="section" id="dojox-dgauges">
<span id="id1"></span><h1><a class="toc-backref" href="#id3">dojox.dgauges</a><a class="headerlink" href="#dojox-dgauges" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Version:</th><td class="field-body">1.0</td>
</tr>
<tr class="field-even field"><th class="field-name">Available:</th><td class="field-body">since V1.8</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dojox-dgauges" id="id3">dojox.dgauges</a><ul>
<li><a class="reference internal" href="#introduction" id="id4">Introduction</a></li>
<li><a class="reference internal" href="#using-predefined-gauges" id="id5">Using predefined gauges</a><ul>
<li><a class="reference internal" href="#id2" id="id6">Introduction</a></li>
<li><a class="reference internal" href="#setting-properties-using-markup" id="id7">Setting properties using markup</a></li>
</ul>
</li>
<li><a class="reference internal" href="#main-framework-classes" id="id8">Main framework classes</a><ul>
<li><a class="reference internal" href="#gauge-base-classes" id="id9">Gauge Base Classes</a></li>
<li><a class="reference internal" href="#scalers" id="id10">Scalers</a></li>
<li><a class="reference internal" href="#scales" id="id11">Scales</a></li>
<li><a class="reference internal" href="#value-and-range-indicators" id="id12">Value and Range Indicators</a></li>
<li><a class="reference internal" href="#text-indicator-class" id="id13">Text Indicator class</a></li>
<li><a class="reference internal" href="#drawing-functions" id="id14">Drawing functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-custom-gauges" id="id15">Creating custom gauges</a><ul>
<li><a class="reference internal" href="#example-of-a-custom-circular-gauge" id="id16">Example of a custom circular gauge</a></li>
<li><a class="reference internal" href="#example-of-a-custom-horizontal-gauge" id="id17">Example of a custom horizontal gauge</a></li>
</ul>
</li>
<li><a class="reference internal" href="#see-also" id="id18">See also</a></li>
</ul>
</li>
</ul>
</div>
<p>This page describes how to use and extend the Dojo Gauges Framework.</p>
<img alt="../_images/all_gauges.png" src="../_images/all_gauges.png" />
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id4">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Dojo&#8217;s Gauges module provides a framework of classes for creating gauges as well as predefined, ready to use gauge widgets.
Both circular and rectangular gauges (horizontal and vertical) are supported.</p>
<dl class="docutils">
<dt>The main features for this framework are:</dt>
<dd><ul class="first last simple">
<li>Rich set of new gauges, circular, semi circular, vertical and horizontal that can be used with markups,</li>
<li>Interact with the gauges with mouse and touch gestures,</li>
<li>Ability to easily create new gauges by assembling pre-existing elements (scales, indicators, drawings),</li>
<li>Predefined gauges extensibility,</li>
<li>Ability to create non-linear scales and thus non linear gauges,</li>
<li>All gauges are implemented as dijits that work nicely with dijit layouts,</li>
<li>Gauges work in both desktop and mobile environments (dojox.mobile).</li>
</ul>
</dd>
<dt>The three ways to use the module:</dt>
<dd><ul class="first last simple">
<li>Using predefined gauges as-is,</li>
<li>Extending/modifying predefined gauges,</li>
<li>Creating custom gauges using the framework.</li>
</ul>
</dd>
</dl>
<img alt="../_images/gaugesLevels.png" src="../_images/gaugesLevels.png" />
</div>
<div class="section" id="using-predefined-gauges">
<h2><a class="toc-backref" href="#id5">Using predefined gauges</a><a class="headerlink" href="#using-predefined-gauges" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id6">Introduction</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Predefined gauges are available in the dojox.dgauges.components package. There are 5 sets of gauges; each set contains 4 gauges: a circular, a semi-circular, a horizontal and a vertical gauge. All these gauges contain one linear scale and one marker.</p>
<p>This example shows how to add a gauge to a Dojo application using markup:</p>
<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
  <span class="nx">require</span><span class="p">([</span>
     <span class="s2">&quot;dojo/_base/kernel&quot;</span><span class="p">,</span>
     <span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span>
     <span class="s2">&quot;dojox/dgauges/components/default/CircularLinearGauge&quot;</span><span class="p">]</span>
  <span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;script type=&quot;text/javascript&quot;&gt;
  require([
     &quot;dojo/_base/kernel&quot;,
     &quot;dojo/parser&quot;,
     &quot;dojox/dgauges/components/default/CircularLinearGauge&quot;]
  );
&lt;/script&gt;</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dojox/dgauges/components/default/CircularLinearGauge&quot;</span>
     <span class="na">value=</span><span class="s">&quot;20&quot;</span> <span class="na">minimum=</span><span class="s">&quot;-50&quot;</span> <span class="na">maximum=</span><span class="s">&quot;50&quot;</span>
     <span class="na">style=</span><span class="s">&quot;width:300px; height:300px&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=&quot;dojox/dgauges/components/default/CircularLinearGauge&quot;
     value=&quot;20&quot; minimum=&quot;-50&quot; maximum=&quot;50&quot;
     style=&quot;width:300px; height:300px&quot;&gt;
&lt;/div&gt;</textarea></div></div>
<div class="section" id="setting-properties-using-markup">
<h3><a class="toc-backref" href="#id7">Setting properties using markup</a><a class="headerlink" href="#setting-properties-using-markup" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Predefined gauges inherit from DefaultPropertiesMixin which wraps the main properties of sub-elements on the top-level widget. Supported properties are:</dt>
<dd><ul class="first last simple">
<li>value: The value of the marker. Default: 0</li>
<li>minimum: The minimum value of the scale. Default: 0</li>
<li>maximum: The maximum value of the scale. Default: 100</li>
<li>snapInterval: The snapping interval (only used on mouse and gesture interactions). Default: 1</li>
<li>majorTickInterval: The interval between two major ticks. Default: 10</li>
<li>minorTickInterval: The interval between two minor ticks. Default: 1</li>
<li>minorTicksEnabled: Show/Hide minor ticks. Default: true</li>
<li>interactionArea: The area that reacts to user interaction. Valid values are &#8220;indicator&#8221;, &#8220;gauge&#8221;, &#8220;area&#8221; and &#8220;none&#8221;. Default: &#8220;gauge&#8221;</li>
<li>interactionMode: The interaction method, &#8220;mouse&#8221; or &#8220;touch&#8221;. Default: &#8220;mouse&#8221;</li>
<li>animationDuration: The duration of the animation in milliseconds. Default: 0</li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section" id="main-framework-classes">
<h2><a class="toc-backref" href="#id8">Main framework classes</a><a class="headerlink" href="#main-framework-classes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="gauge-base-classes">
<h3><a class="toc-backref" href="#id9">Gauge Base Classes</a><a class="headerlink" href="#gauge-base-classes" title="Permalink to this headline">¶</a></h3>
<p><strong>CircularGauge</strong> and <strong>RectangularGauge</strong></p>
<p>These classes are Dijits responsible for holding the elements of the gauge. They provide a layout mechanism to control the size and position of elements.
A gauge is made of GFX decorations, text indicators and scales (subclasses of ScaleBase). Scales hold one or more indicators (value or range indicators). These elements are added to the scale using the addElement method.</p>
<p>There is a noticeable difference between circular and rectangular gauges about their drawing/layout mechanisms:</p>
<p>Circular gauges have a fixed aspect ratio; the gauge visual representation is scaled to use as much room as possible, and then translated to be centered.</p>
<p><em>Note:</em> To create a circular gauge with no background, add a drawing function which return a &#8220;ghost&#8221; shape (no fill and no stroke) of the desired gauge size.</p>
<p>Rectangular gauges use a different approach; they are redrawn when the widget is resized. This allows having &#8220;elastic&#8221; components that can have any size. A rectangular gauge can be separated into 3 parts: &#8220;leading&#8221;, &#8220;middle&#8221; and &#8220;trailing&#8221;. The &#8220;leading&#8221; and &#8220;trailing&#8221; areas have fixed size; the &#8220;middle&#8221; area fills the remaining room. When adding an element to a rectangular gauge, set the third argument of addElement method to &#8220;leading&#8221;, &#8220;middle&#8221; or &#8220;trailing&#8221;. If the third argument is not specified, the element uses all the room. For an example of rectangular gauge layout, see gauge.components.default.LinearHorizontalGauge implementation.</p>
<img alt="../_images/gaugesRect.png" src="../_images/gaugesRect.png" />
<div class="section" id="using-gauge-events">
<h4>Using gauge events<a class="headerlink" href="#using-gauge-events" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>The framework provides 2 events:</dt>
<dd><ul class="first last simple">
<li>&#8220;startEditing&#8221; dispatched when an indicator&#8217;s value change; programmatically or by user interaction.</li>
<li>&#8220;endEditing&#8221; dispatched when an indicator&#8217;s value has changed; programmatically or by user interaction.</li>
</ul>
</dd>
</dl>
<div class="highlight"><pre><span class="kd">var</span> <span class="nx">gauge</span> <span class="o">=</span> <span class="nx">registry</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;g1&quot;</span><span class="p">);</span>
<span class="nx">gauge</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;startEditing&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">indicator</span><span class="p">.</span><span class="nx">value</span><span class="p">);});</span>
<span class="nx">gauge</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;endEditing&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">indicator</span><span class="p">.</span><span class="nx">value</span><span class="p">);});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">var gauge = registry.byId(&quot;g1&quot;);
gauge.on(&quot;startEditing&quot;, function(event){console.log(event.indicator.value);});
gauge.on(&quot;endEditing&quot;, function(event){console.log(event.indicator.value);});</textarea></div></div>
</div>
<div class="section" id="scalers">
<h3><a class="toc-backref" href="#id10">Scalers</a><a class="headerlink" href="#scalers" title="Permalink to this headline">¶</a></h3>
<p><strong>LinearScaler</strong>, <strong>MultiLinearScaler</strong> and <strong>LogScaler</strong></p>
<p>Scalers are used by scales to generate logical ticks (ticks are drawn by scales) and data-transform operations. Logical ticks are rendered by scales; they are passed as argument to the tickShapeFunc of the scale which is called for each tick generated by the scaler.</p>
<dl class="docutils">
<dt>The current version provides 3 types of scalers:</dt>
<dd><ul class="first last simple">
<li>LinearScaler: The most common type of scaler, mainly characterized by &#8220;minimum&#8221;, &#8220;maximum&#8221;, &#8220;majorTickInterval&#8221; and &#8220;minorTickInterval&#8221;.</li>
<li>MultiLinearScaler: This type of scaler is useful to display very large value intervals that are difficult to render with a linear scale. This type of scaler is configured with an array of numbers representing the major tick values.</li>
<li>LogScaler: A common logarithmic implementation.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="scales">
<h3><a class="toc-backref" href="#id11">Scales</a><a class="headerlink" href="#scales" title="Permalink to this headline">¶</a></h3>
<p><strong>CircularScale</strong> and <strong>RectangularScale</strong></p>
<p>A scale handles a scaler (mandatory) and one or more value or range indicators.
A scale and its scaler collaborate to handle the ticks. The scale provides a tick drawing function which can be redefined by the user. This function takes a tick and a GFX Group as arguments; the following code snippet shows the default tick rendering function used in the library:</p>
<div class="highlight"><pre><span class="nx">scale</span><span class="p">.</span><span class="nx">tickShapeFunc</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">group</span><span class="p">,</span> <span class="nx">scale</span><span class="p">,</span> <span class="nx">tick</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">group</span><span class="p">.</span><span class="nx">createLine</span><span class="p">({</span>
    <span class="nx">x1</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">y1</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">x2</span><span class="o">:</span> <span class="nx">tick</span><span class="p">.</span><span class="nx">isMinor</span> <span class="o">?</span> <span class="mi">6</span> <span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="nx">y2</span><span class="o">:</span> <span class="mi">0</span>
  <span class="p">}).</span><span class="nx">setStroke</span><span class="p">({</span>
    <span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="nx">width</span><span class="o">:</span> <span class="mi">1</span>
  <span class="p">});</span>
<span class="p">};</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">scale.tickShapeFunc = function(group, scale, tick){
  return group.createLine({
    x1: 0,
    y1: 0,
    x2: tick.isMinor ? 6 : 10,
    y2: 0
  }).setStroke({
    color: &quot;black&quot;,
    width: 1
  });
};</textarea></div><p>Ticks labeling is handled in a similar way using the tickLabelFunc method:</p>
<div class="highlight"><pre><span class="nx">scale</span><span class="p">.</span><span class="nx">tickLabelFunc</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">tick</span><span class="p">){</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">tick</span><span class="p">.</span><span class="nx">isMinor</span><span class="p">){</span>
    <span class="k">return</span> <span class="nx">tick</span><span class="p">.</span><span class="nx">value</span> <span class="o">+</span> <span class="s2">&quot;°&quot;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">scale.tickLabelFunc = function(tick){
  if (!tick.isMinor){
    return tick.value + &quot;°&quot;;
  }
};</textarea></div></div>
<div class="section" id="value-and-range-indicators">
<h3><a class="toc-backref" href="#id12">Value and Range Indicators</a><a class="headerlink" href="#value-and-range-indicators" title="Permalink to this headline">¶</a></h3>
<p><strong>CircularValueIndicator</strong>, <strong>RectangularValueIndicator</strong>, <strong>CircularRangeIndicator</strong> and  <strong>RectangularRangeIndicator</strong></p>
<p>Indicators are responsible for displaying one or two values (range indicators) according to the scale properties. These indicators are always associated to a scale. A single value indicator is typically used for needles in circular gauge and thumbs in rectangular gauges.
Range indicators display a range of values defined by start and value properties. They can be used as decorations to give information on the range (i.e. Low/Normal/High) or as dynamic indicators by changing value programmatically or using interactions.</p>
<p>A value indicator is drawn by its indicatorShapeFunc. The following code show a needle drawn around its (0, 0) coordinates origin. The origin is used as center for rotation of needles in circular gauges. For rectangular gauges, the origin is aligned with the rendered value.</p>
<div class="highlight"><pre><span class="nx">indicator1</span><span class="p">.</span><span class="nx">indicatorShapeFunc</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">group</span><span class="p">,</span> <span class="nx">indicator</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">group</span><span class="p">.</span><span class="nx">createPolyline</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">]).</span><span class="nx">setStroke</span><span class="p">({</span>
    <span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span>
    <span class="nx">width</span><span class="o">:</span> <span class="mf">0.25</span>
  <span class="p">}).</span><span class="nx">setFill</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">1</span><span class="p">]);</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">indicator1.indicatorShapeFunc = function(group, indicator){
  return group.createPolyline([0, -3, 30, 0, 0, 3, 0, -3]).setStroke({
    color: &quot;blue&quot;,
    width: 0.25
  }).setFill([100, 100, 255, 1]);
}</textarea></div><p>Note: Due to VML limitations, circular range indicators are displayed quite distorded.</p>
</div>
<div class="section" id="text-indicator-class">
<h3><a class="toc-backref" href="#id13">Text Indicator class</a><a class="headerlink" href="#text-indicator-class" title="Permalink to this headline">¶</a></h3>
<p><strong>TextIndicator</strong></p>
<p>Text can be added to a gauge using addElement with a TextIndicator instance as argument.
A text indicator can be configured in two ways:</p>
<blockquote>
<div><ul class="simple">
<li>By setting the value property with an arbitrary text,</li>
<li>By setting the indicator property to a value or a range indicator. In this case, the text is automatically updated when the value of the indicator changes. The labelFunc can be used to customize the rendered text.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="drawing-functions">
<h3><a class="toc-backref" href="#id14">Drawing functions</a><a class="headerlink" href="#drawing-functions" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>The <em>drawing function</em> pattern is widely used in the framework:</dt>
<dd><ul class="first last simple">
<li>as anonymous function for decorating the gauge, typically for defining the background of a gauge,</li>
<li>for drawing ticks, see <em>Scales</em> section,</li>
<li>for drawing indicators, see <em>Value and Range Indicators</em> section.</li>
</ul>
</dd>
</dl>
<p>The first argument of a drawing function is always a GFX group. It is the only mandatory argument; other arguments depend on the context.</p>
</div>
</div>
<div class="section" id="creating-custom-gauges">
<h2><a class="toc-backref" href="#id15">Creating custom gauges</a><a class="headerlink" href="#creating-custom-gauges" title="Permalink to this headline">¶</a></h2>
<p>The first thing to decide is the type of gauge to create, i.e. circular or rectangular.</p>
<p>For creating a circular gauges, subclass CircularGauge:</p>
<div class="highlight"><pre><span class="nx">define</span><span class="p">([</span><span class="s2">&quot;dojo/_base/lang&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/declare&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/dgauges/CircularGauge&quot;</span><span class="p">],</span>
   <span class="kd">function</span><span class="p">(</span><span class="nx">lang</span><span class="p">,</span> <span class="nx">declare</span><span class="p">,</span> <span class="nx">CircularGauge</span><span class="p">){</span>
     <span class="k">return</span> <span class="nx">declare</span><span class="p">(</span><span class="s2">&quot;MyGauge&quot;</span><span class="p">,</span> <span class="nx">CircularGauge</span><span class="p">,</span> <span class="p">{</span>
        <span class="nx">constructor</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
          <span class="c1">// Add your elements here</span>
       <span class="p">}</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">define([&quot;dojo/_base/lang&quot;, &quot;dojo/_base/declare&quot;, &quot;dojox/dgauges/CircularGauge&quot;],
   function(lang, declare, CircularGauge){
     return declare(&quot;MyGauge&quot;, CircularGauge, {
        constructor: function(){
          // Add your elements here
       }
    });
});</textarea></div><p>For creating a horizontal or vertical gauge, subclass RectangularGauge and set the orientation property:</p>
<div class="highlight"><pre><span class="nx">define</span><span class="p">([</span><span class="s2">&quot;dojo/_base/lang&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/declare&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/dgauges/RectangularGauge&quot;</span><span class="p">],</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">lang</span><span class="p">,</span> <span class="nx">declare</span><span class="p">,</span> <span class="nx">RectangularGauge</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">declare</span><span class="p">(</span><span class="s2">&quot;MyGauge&quot;</span><span class="p">,</span> <span class="nx">RectangularGauge</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">orientation</span> <span class="o">=</span> <span class="s2">&quot;vertical&quot;</span> <span class="c1">// or &quot;horizontal&quot; (default)</span>
      <span class="c1">// Add your elements here</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">define([&quot;dojo/_base/lang&quot;, &quot;dojo/_base/declare&quot;, &quot;dojox/dgauges/RectangularGauge&quot;],
  function(lang, declare, RectangularGauge){
  return declare(&quot;MyGauge&quot;, RectangularGauge, {
    constructor: function(){
      this.orientation = &quot;vertical&quot; // or &quot;horizontal&quot; (default)
      // Add your elements here
    }
  });
});</textarea></div><p>Then you define the logic and the visual representation of the gauge in the constructor by adding elements.
The addElement() method accepts three kinds of arguments:</p>
<blockquote>
<div><ul class="simple">
<li>A scale instance (CircularScale or RectangularScale instance),</li>
<li>A text instance (TextIndicator),</li>
<li>A drawing function.</li>
</ul>
</div></blockquote>
<div class="section" id="example-of-a-custom-circular-gauge">
<h3><a class="toc-backref" href="#id16">Example of a custom circular gauge</a><a class="headerlink" href="#example-of-a-custom-circular-gauge" title="Permalink to this headline">¶</a></h3>
<div class="highlight"><pre><span class="nx">define</span><span class="p">([</span><span class="s2">&quot;dojo/_base/lang&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/declare&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/dgauges/CircularGauge&quot;</span><span class="p">,</span>
      <span class="s2">&quot;dojox/dgauges/LinearScaler&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/dgauges/CircularScale&quot;</span><span class="p">,</span>
      <span class="s2">&quot;dojox/dgauges/CircularValueIndicator&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/dgauges/CircularRangeIndicator&quot;</span><span class="p">,</span>
      <span class="s2">&quot;dojox/dgauges/TextIndicator&quot;</span><span class="p">],</span>
<span class="kd">function</span><span class="p">(</span><span class="nx">lang</span><span class="p">,</span> <span class="nx">declare</span><span class="p">,</span> <span class="nx">CircularGauge</span><span class="p">,</span> <span class="nx">LinearScaler</span><span class="p">,</span> <span class="nx">CircularScale</span><span class="p">,</span> <span class="nx">CircularValueIndicator</span><span class="p">,</span>
        <span class="nx">CircularRangeIndicator</span><span class="p">,</span> <span class="nx">TextIndicator</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">declare</span><span class="p">(</span><span class="s2">&quot;dojox.dgauges.tests.gauges.SimpleCircularGauge&quot;</span><span class="p">,</span> <span class="nx">CircularGauge</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
      <span class="c1">// Changes the font</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">font</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">family</span><span class="o">:</span> <span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span>
        <span class="nx">style</span><span class="o">:</span> <span class="s2">&quot;normal&quot;</span><span class="p">,</span>
        <span class="nx">size</span><span class="o">:</span> <span class="s2">&quot;10pt&quot;</span><span class="p">,</span>
        <span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;white&quot;</span>
      <span class="p">};</span>

      <span class="c1">// Draws the background</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">addElement</span><span class="p">(</span><span class="s2">&quot;background&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">g</span><span class="p">){</span>
        <span class="nx">g</span><span class="p">.</span><span class="nx">createEllipse</span><span class="p">({</span>
          <span class="nx">cx</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
          <span class="nx">cy</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
          <span class="nx">rx</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
          <span class="nx">ry</span><span class="o">:</span> <span class="mi">100</span>
        <span class="p">}).</span><span class="nx">setFill</span><span class="p">(</span><span class="s2">&quot;#444444&quot;</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="c1">// The scaler</span>
      <span class="kd">var</span> <span class="nx">scaler</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LinearScaler</span><span class="p">({</span>
        <span class="nx">minimum</span><span class="o">:</span> <span class="o">-</span><span class="mi">100</span><span class="p">,</span>
        <span class="nx">maximum</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="nx">majorTickInterval</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
        <span class="nx">minorTickInterval</span><span class="o">:</span> <span class="mi">5</span>
      <span class="p">});</span>

      <span class="c1">// The scale</span>
      <span class="kd">var</span> <span class="nx">scale</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CircularScale</span><span class="p">({</span>
        <span class="nx">scaler</span><span class="o">:</span> <span class="nx">scaler</span><span class="p">,</span>
        <span class="nx">originX</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="nx">originY</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="nx">startAngle</span><span class="o">:</span> <span class="mi">110</span><span class="p">,</span>
        <span class="nx">endAngle</span><span class="o">:</span> <span class="mi">70</span><span class="p">,</span>
        <span class="nx">radius</span><span class="o">:</span> <span class="mi">75</span><span class="p">,</span>
        <span class="nx">labelPosition</span><span class="o">:</span> <span class="s2">&quot;outside&quot;</span><span class="p">,</span>
        <span class="nx">tickShapeFunc</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">group</span><span class="p">,</span> <span class="nx">scale</span><span class="p">,</span> <span class="nx">tick</span><span class="p">){</span>
          <span class="k">return</span> <span class="nx">group</span><span class="p">.</span><span class="nx">createLine</span><span class="p">({</span>
            <span class="nx">x1</span><span class="o">:</span> <span class="nx">tick</span><span class="p">.</span><span class="nx">isMinor</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="nx">y1</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="nx">x2</span><span class="o">:</span> <span class="nx">tick</span><span class="p">.</span><span class="nx">isMinor</span> <span class="o">?</span> <span class="mi">8</span> <span class="o">:</span> <span class="mi">12</span><span class="p">,</span>
            <span class="nx">y2</span><span class="o">:</span> <span class="mi">0</span>
          <span class="p">}).</span><span class="nx">setStroke</span><span class="p">({</span>
            <span class="nx">color</span><span class="o">:</span> <span class="nx">tick</span><span class="p">.</span><span class="nx">isMinor</span> <span class="o">?</span> <span class="s2">&quot;black&quot;</span> <span class="o">:</span> <span class="s2">&quot;white&quot;</span><span class="p">,</span>
            <span class="nx">width</span><span class="o">:</span> <span class="nx">tick</span><span class="p">.</span><span class="nx">isMinor</span> <span class="o">?</span> <span class="mf">0.5</span> <span class="o">:</span> <span class="mi">1</span>
          <span class="p">})</span>
        <span class="p">}</span>
      <span class="p">});</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">addElement</span><span class="p">(</span><span class="s2">&quot;scale&quot;</span><span class="p">,</span> <span class="nx">scale</span><span class="p">);</span>

      <span class="c1">// A value indicator</span>
      <span class="kd">var</span> <span class="nx">indicator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CircularValueIndicator</span><span class="p">({</span>
        <span class="nx">interactionArea</span><span class="o">:</span> <span class="s2">&quot;indicator&quot;</span><span class="p">,</span>
        <span class="nx">indicatorShapeFunc</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">group</span><span class="p">){</span>
          <span class="k">return</span> <span class="nx">group</span><span class="p">.</span><span class="nx">createPolyline</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">]).</span><span class="nx">setFill</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">).</span><span class="nx">setStroke</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="nx">value</span><span class="o">:</span> <span class="mi">50</span>
      <span class="p">});</span>
      <span class="nx">scale</span><span class="p">.</span><span class="nx">addIndicator</span><span class="p">(</span><span class="s2">&quot;indicator&quot;</span><span class="p">,</span> <span class="nx">indicator</span><span class="p">);</span>

      <span class="c1">// A green range indicator</span>
      <span class="kd">var</span> <span class="nx">rangeIndicator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CircularRangeIndicator</span><span class="p">({</span>
        <span class="nx">start</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">value</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="nx">radius</span><span class="o">:</span> <span class="mi">62</span><span class="p">,</span>
        <span class="nx">startThickness</span><span class="o">:</span><span class="mi">10</span><span class="p">,</span>
        <span class="nx">endThickness</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span>
        <span class="nx">fill</span><span class="o">:</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span>
        <span class="nx">interactionMode</span><span class="o">:</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span>
      <span class="p">});</span>
      <span class="nx">scale</span><span class="p">.</span><span class="nx">addIndicator</span><span class="p">(</span><span class="s2">&quot;rangeIndicator&quot;</span><span class="p">,</span> <span class="nx">rangeIndicator</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>


      <span class="c1">// Indicator Text&quot;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">addElement</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="k">new</span> <span class="nx">TextIndicator</span><span class="p">({</span>
        <span class="nx">value</span><span class="o">:</span> <span class="s2">&quot;G&quot;</span><span class="p">,</span> <span class="nx">x</span><span class="o">:</span><span class="mi">100</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span><span class="mi">100</span>
      <span class="p">}));</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">define([&quot;dojo/_base/lang&quot;, &quot;dojo/_base/declare&quot;, &quot;dojox/dgauges/CircularGauge&quot;,
      &quot;dojox/dgauges/LinearScaler&quot;, &quot;dojox/dgauges/CircularScale&quot;,
      &quot;dojox/dgauges/CircularValueIndicator&quot;, &quot;dojox/dgauges/CircularRangeIndicator&quot;,
      &quot;dojox/dgauges/TextIndicator&quot;],
function(lang, declare, CircularGauge, LinearScaler, CircularScale, CircularValueIndicator,
        CircularRangeIndicator, TextIndicator){
  return declare(&quot;dojox.dgauges.tests.gauges.SimpleCircularGauge&quot;, CircularGauge, {
    constructor: function(){
      // Changes the font
      this.font = {
        family: &quot;Helvetica&quot;,
        style: &quot;normal&quot;,
        size: &quot;10pt&quot;,
        color: &quot;white&quot;
      };

      // Draws the background
      this.addElement(&quot;background&quot;, function(g){
        g.createEllipse({
          cx: 100,
          cy: 100,
          rx: 100,
          ry: 100
        }).setFill(&quot;#444444&quot;);
      });

      // The scaler
      var scaler = new LinearScaler({
        minimum: -100,
        maximum: 100,
        majorTickInterval: 20,
        minorTickInterval: 5
      });

      // The scale
      var scale = new CircularScale({
        scaler: scaler,
        originX: 100,
        originY: 100,
        startAngle: 110,
        endAngle: 70,
        radius: 75,
        labelPosition: &quot;outside&quot;,
        tickShapeFunc: function(group, scale, tick){
          return group.createLine({
            x1: tick.isMinor ? 2 : 0,
            y1: 0,
            x2: tick.isMinor ? 8 : 12,
            y2: 0
          }).setStroke({
            color: tick.isMinor ? &quot;black&quot; : &quot;white&quot;,
            width: tick.isMinor ? 0.5 : 1
          })
        }
      });
      this.addElement(&quot;scale&quot;, scale);

      // A value indicator
      var indicator = new CircularValueIndicator({
        interactionArea: &quot;indicator&quot;,
        indicatorShapeFunc: function(group){
          return group.createPolyline([20, -6, 60, 0, 20, 6, 20, -6]).setFill(&quot;black&quot;).setStroke(&quot;white&quot;);
        },
        value: 50
      });
      scale.addIndicator(&quot;indicator&quot;, indicator);

      // A green range indicator
      var rangeIndicator = new CircularRangeIndicator({
        start: 0,
        value: 100,
        radius: 62,
        startThickness:10,
        endThickness: 30,
        fill: &quot;green&quot;,
        interactionMode: &quot;none&quot;,
      });
      scale.addIndicator(&quot;rangeIndicator&quot;, rangeIndicator, true);


      // Indicator Text&quot;
      this.addElement(&quot;text&quot;, new TextIndicator({
        value: &quot;G&quot;, x:100, y:100
      }));
    }
  });
});</textarea></div></div>
<div class="section" id="example-of-a-custom-horizontal-gauge">
<h3><a class="toc-backref" href="#id17">Example of a custom horizontal gauge</a><a class="headerlink" href="#example-of-a-custom-horizontal-gauge" title="Permalink to this headline">¶</a></h3>
<div class="highlight"><pre><span class="nx">define</span><span class="p">([</span><span class="s2">&quot;dojo/_base/lang&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/declare&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/dgauges/RectangularGauge&quot;</span><span class="p">,</span>
       <span class="s2">&quot;dojox/dgauges/LinearScaler&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/dgauges/RectangularScale&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/dgauges/RectangularValueIndicator&quot;</span><span class="p">,</span>
       <span class="s2">&quot;dojox/dgauges/RectangularRangeIndicator&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/dgauges/TextIndicator&quot;</span><span class="p">],</span>
      <span class="kd">function</span><span class="p">(</span><span class="nx">lang</span><span class="p">,</span> <span class="nx">declare</span><span class="p">,</span> <span class="nx">RectangularGauge</span><span class="p">,</span> <span class="nx">LinearScaler</span><span class="p">,</span> <span class="nx">RectangularScale</span><span class="p">,</span> <span class="nx">RectangularValueIndicator</span><span class="p">,</span>
             <span class="nx">RectangularRangeIndicator</span><span class="p">,</span> <span class="nx">TextIndicator</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">declare</span><span class="p">(</span><span class="s2">&quot;dojox.dgauges.tests.gauges.SimpleRectangularGauge&quot;</span><span class="p">,</span> <span class="nx">RectangularGauge</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
      <span class="c1">// Draw background</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">addElement</span><span class="p">(</span><span class="s2">&quot;background&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span> <span class="nx">w</span><span class="p">){</span>
        <span class="k">return</span> <span class="nx">g</span><span class="p">.</span><span class="nx">createRect</span><span class="p">({</span>
          <span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
          <span class="nx">y</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
          <span class="nx">width</span><span class="o">:</span> <span class="nx">w</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span>
          <span class="nx">height</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span>
          <span class="nx">r</span><span class="o">:</span> <span class="mi">3</span>
        <span class="p">}).</span><span class="nx">setFill</span><span class="p">(</span><span class="s2">&quot;#CBCBCB&quot;</span><span class="p">).</span><span class="nx">setStroke</span><span class="p">({</span>
          <span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
          <span class="nx">width</span><span class="o">:</span> <span class="mi">2</span>
        <span class="p">});</span>
      <span class="p">});</span>

      <span class="k">this</span><span class="p">.</span><span class="nx">addElement</span><span class="p">(</span><span class="s2">&quot;leadingArea&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span> <span class="nx">w</span><span class="p">){</span>
        <span class="k">return</span> <span class="nx">g</span><span class="p">.</span><span class="nx">createRect</span><span class="p">({</span>
          <span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
          <span class="nx">y</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
          <span class="nx">width</span><span class="o">:</span> <span class="mi">60</span><span class="p">,</span>
          <span class="nx">height</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span>
          <span class="nx">r</span><span class="o">:</span> <span class="mi">3</span>
        <span class="p">}).</span><span class="nx">setFill</span><span class="p">(</span><span class="s2">&quot;#ABABAB&quot;</span><span class="p">).</span><span class="nx">setStroke</span><span class="p">({</span>
          <span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
          <span class="nx">width</span><span class="o">:</span> <span class="mi">2</span>
        <span class="p">});</span>
      <span class="p">},</span> <span class="s2">&quot;leading&quot;</span><span class="p">);</span>

      <span class="k">this</span><span class="p">.</span><span class="nx">addElement</span><span class="p">(</span><span class="s2">&quot;trailingArea&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span> <span class="nx">w</span><span class="p">){</span>
        <span class="c1">// A spacer to take into account the width of the stroke on the right;</span>
        <span class="nx">g</span><span class="p">.</span><span class="nx">createLine</span><span class="p">({</span>
          <span class="nx">x2</span><span class="o">:</span> <span class="mi">62</span>
        <span class="p">});</span>
        <span class="k">return</span> <span class="nx">g</span><span class="p">.</span><span class="nx">createRect</span><span class="p">({</span>
          <span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
          <span class="nx">y</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
          <span class="nx">width</span><span class="o">:</span> <span class="mi">60</span><span class="p">,</span>
          <span class="nx">height</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span>
          <span class="nx">r</span><span class="o">:</span> <span class="mi">3</span>
        <span class="p">}).</span><span class="nx">setFill</span><span class="p">(</span><span class="s2">&quot;#ABABAB&quot;</span><span class="p">).</span><span class="nx">setStroke</span><span class="p">({</span>
          <span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
          <span class="nx">width</span><span class="o">:</span> <span class="mi">2</span>
        <span class="p">});</span>
      <span class="p">},</span> <span class="s2">&quot;trailing&quot;</span><span class="p">);</span>

      <span class="c1">// Scale</span>
      <span class="kd">var</span> <span class="nx">scale</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RectangularScale</span><span class="p">({</span>
        <span class="nx">scaler</span><span class="o">:</span> <span class="k">new</span> <span class="nx">LinearScaler</span><span class="p">({</span>
          <span class="nx">minimum</span><span class="o">:</span> <span class="o">-</span><span class="mi">100</span>
        <span class="p">}),</span>
        <span class="nx">labelPosition</span><span class="o">:</span> <span class="s2">&quot;trailing&quot;</span><span class="p">,</span>
        <span class="nx">paddingTop</span><span class="o">:</span> <span class="mi">15</span>
      <span class="p">});</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">addElement</span><span class="p">(</span><span class="s2">&quot;scale&quot;</span><span class="p">,</span> <span class="nx">scale</span><span class="p">);</span>

      <span class="c1">// Value indicator</span>
      <span class="kd">var</span> <span class="nx">indicator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RectangularValueIndicator</span><span class="p">();</span>
      <span class="nx">indicator</span><span class="p">.</span><span class="nx">indicatorShapeFunc</span> <span class="o">=</span> <span class="nx">lang</span><span class="p">.</span><span class="nx">hitch</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">group</span><span class="p">){</span>
        <span class="nx">group</span><span class="p">.</span><span class="nx">createPolyline</span><span class="p">([</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">]).</span><span class="nx">setFill</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="nx">group</span><span class="p">;</span>
      <span class="p">});</span>
      <span class="nx">indicator</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;paddingTop&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
      <span class="nx">indicator</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;interactionArea&quot;</span><span class="p">,</span> <span class="s2">&quot;gauge&quot;</span><span class="p">);</span>
      <span class="nx">scale</span><span class="p">.</span><span class="nx">addIndicator</span><span class="p">(</span><span class="s2">&quot;indicator&quot;</span><span class="p">,</span> <span class="nx">indicator</span><span class="p">);</span>

      <span class="c1">// Indicator Text</span>
      <span class="kd">var</span> <span class="nx">trailingText</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TextIndicator</span><span class="p">({</span>
        <span class="nx">x</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span>
        <span class="nx">y</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span>
        <span class="nx">indicator</span><span class="o">:</span> <span class="nx">indicator</span><span class="p">,</span>
        <span class="nx">labelFunc</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">v</span><span class="p">){</span>
          <span class="k">return</span> <span class="nx">v</span> <span class="o">+</span> <span class="s2">&quot; °C&quot;</span>
        <span class="p">}</span>
      <span class="p">});</span>

      <span class="k">this</span><span class="p">.</span><span class="nx">addElement</span><span class="p">(</span><span class="s2">&quot;trailingText&quot;</span><span class="p">,</span> <span class="nx">trailingText</span><span class="p">,</span> <span class="s2">&quot;trailing&quot;</span><span class="p">);</span>
      <span class="kd">var</span> <span class="nx">leadingText</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TextIndicator</span><span class="p">({</span>
        <span class="nx">x</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span>
        <span class="nx">y</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span>
        <span class="nx">indicator</span><span class="o">:</span> <span class="nx">indicator</span><span class="p">,</span>
        <span class="nx">labelFunc</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">v</span><span class="p">){</span>
          <span class="k">return</span> <span class="p">((</span><span class="mi">9</span> <span class="o">/</span> <span class="mi">5</span><span class="p">)</span> <span class="o">*</span> <span class="nx">v</span> <span class="o">+</span> <span class="mi">32</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot; °F&quot;</span>
        <span class="p">}</span>
      <span class="p">});</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">addElement</span><span class="p">(</span><span class="s2">&quot;leadingText&quot;</span><span class="p">,</span> <span class="nx">leadingText</span><span class="p">,</span> <span class="s2">&quot;leading&quot;</span><span class="p">);</span>

      <span class="nx">scale</span><span class="p">.</span><span class="nx">addIndicator</span><span class="p">(</span><span class="s2">&quot;gradientIndicator&quot;</span><span class="p">,</span> <span class="k">new</span> <span class="nx">RectangularRangeIndicator</span><span class="p">({</span>
        <span class="nx">start</span><span class="o">:</span> <span class="o">-</span><span class="mi">100</span><span class="p">,</span>
        <span class="nx">value</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="nx">paddingTop</span><span class="o">:</span> <span class="mi">15</span><span class="p">,</span>
        <span class="nx">stroke</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nx">fill</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;linear&quot;</span><span class="p">,</span>
          <span class="nx">x1</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
          <span class="nx">y1</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
          <span class="nx">x2</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
          <span class="nx">y2</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
          <span class="nx">colors</span><span class="o">:</span> <span class="p">[{</span>
            <span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;#7FB2F0&quot;</span><span class="p">,</span>
            <span class="nx">offset</span><span class="o">:</span> <span class="mi">0</span>
          <span class="p">},</span> <span class="p">{</span>
            <span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;#FFFFFF&quot;</span><span class="p">,</span>
            <span class="nx">offset</span><span class="o">:</span> <span class="p">.</span><span class="mi">5</span>
          <span class="p">},</span> <span class="p">{</span>
            <span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;#F03221&quot;</span><span class="p">,</span>
            <span class="nx">offset</span><span class="o">:</span> <span class="mi">1</span>
          <span class="p">}]</span>
        <span class="p">}</span>
      <span class="p">}),</span> <span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">define([&quot;dojo/_base/lang&quot;, &quot;dojo/_base/declare&quot;, &quot;dojox/dgauges/RectangularGauge&quot;,
       &quot;dojox/dgauges/LinearScaler&quot;, &quot;dojox/dgauges/RectangularScale&quot;, &quot;dojox/dgauges/RectangularValueIndicator&quot;,
       &quot;dojox/dgauges/RectangularRangeIndicator&quot;, &quot;dojox/dgauges/TextIndicator&quot;],
      function(lang, declare, RectangularGauge, LinearScaler, RectangularScale, RectangularValueIndicator,
             RectangularRangeIndicator, TextIndicator){
  return declare(&quot;dojox.dgauges.tests.gauges.SimpleRectangularGauge&quot;, RectangularGauge, {
    constructor: function(){
      // Draw background
      this.addElement(&quot;background&quot;, function(g, w){
        return g.createRect({
          x: 1,
          y: 1,
          width: w - 2,
          height: 50,
          r: 3
        }).setFill(&quot;#CBCBCB&quot;).setStroke({
          color: &quot;black&quot;,
          width: 2
        });
      });

      this.addElement(&quot;leadingArea&quot;, function(g, w){
        return g.createRect({
          x: 1,
          y: 1,
          width: 60,
          height: 50,
          r: 3
        }).setFill(&quot;#ABABAB&quot;).setStroke({
          color: &quot;black&quot;,
          width: 2
        });
      }, &quot;leading&quot;);

      this.addElement(&quot;trailingArea&quot;, function(g, w){
        // A spacer to take into account the width of the stroke on the right;
        g.createLine({
          x2: 62
        });
        return g.createRect({
          x: 1,
          y: 1,
          width: 60,
          height: 50,
          r: 3
        }).setFill(&quot;#ABABAB&quot;).setStroke({
          color: &quot;black&quot;,
          width: 2
        });
      }, &quot;trailing&quot;);

      // Scale
      var scale = new RectangularScale({
        scaler: new LinearScaler({
          minimum: -100
        }),
        labelPosition: &quot;trailing&quot;,
        paddingTop: 15
      });
      this.addElement(&quot;scale&quot;, scale);

      // Value indicator
      var indicator = new RectangularValueIndicator();
      indicator.indicatorShapeFunc = lang.hitch(this, function(group){
        group.createPolyline([-5, 0, 5, 0, 0, 10, -5, 0]).setFill(&quot;black&quot;);
        return group;
      });
      indicator.set(&quot;paddingTop&quot;, 5);
      indicator.set(&quot;interactionArea&quot;, &quot;gauge&quot;);
      scale.addIndicator(&quot;indicator&quot;, indicator);

      // Indicator Text
      var trailingText = new TextIndicator({
        x: 30,
        y: 30,
        indicator: indicator,
        labelFunc: function(v){
          return v + &quot; °C&quot;
        }
      });

      this.addElement(&quot;trailingText&quot;, trailingText, &quot;trailing&quot;);
      var leadingText = new TextIndicator({
        x: 30,
        y: 30,
        indicator: indicator,
        labelFunc: function(v){
          return ((9 / 5) * v + 32).toFixed() + &quot; °F&quot;
        }
      });
      this.addElement(&quot;leadingText&quot;, leadingText, &quot;leading&quot;);

      scale.addIndicator(&quot;gradientIndicator&quot;, new RectangularRangeIndicator({
        start: -100,
        value: 100,
        paddingTop: 15,
        stroke: null,
        fill: {
          type: &quot;linear&quot;,
          x1: 0,
          y1: 0,
          x2: 1,
          y2: 0,
          colors: [{
            color: &quot;#7FB2F0&quot;,
            offset: 0
          }, {
            color: &quot;#FFFFFF&quot;,
            offset: .5
          }, {
            color: &quot;#F03221&quot;,
            offset: 1
          }]
        }
      }), true);
    }
  });
});</textarea></div></div>
</div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id18">See also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://www.ibm.com/developerworks/mydeveloperworks/blogs/94e7fded-7162-445e-8ceb-97a2140866a9/entry/creating_bullet_graphs_in_dojo_with_the_gauges_package195?lang=en">Creating Bullet Graphs in Dojo with the gauges package</a></li>
</ul>
</div>
</div>


      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-9 columns offset-3">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
        <div class="footer">
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');

	</script>
</div>
    </div>
  </div>
  
  </body>
</html>