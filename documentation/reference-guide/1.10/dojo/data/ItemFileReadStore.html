<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojo/data/ItemFileReadStore &mdash; The Dojo Toolkit - Reference Guide</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.10.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>

    <link rel="stylesheet" href="../../../../../css/guide.css">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <script src="../../../scripts/dojo/dojo/dojo.js"></script>
    <script src="../../../../../scripts/guide/docs/guide.js"></script>
    <link rel="stylesheet" href="../../../../../scripts/dojo/dijit/themes/claro/claro.css">

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo"><span>Dojo</span></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="">Get Dojo</a></li>
					<li><a href="/documentation/">Docs</a></li>
					<li><a href="">Help &amp; Support</a></li>
					<li><a href="">Blog</a></li>
					<li><a href="">Get Involved</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <main class="refguide">
    <div class="row">

      <div class="medium-3 columns sideNav">
        <h4>Reference Guide</h4>
        <div id="dtkVersion">
          <label for="refver">Dojo Version</label>
          <select id="refver" name="refver">
            <option value="1.6">1.6</option>
            <option value="1.7">1.7</option>
            <option value="1.8">1.8</option>
            <option value="1.9">1.9</option>
            <option value="1.10" selected="selected">1.10</option>
          </select>
        </div>
        <ul>
          <li><a href="../../index.html">Startpage</a></li>
          <li><a href="../index.html">Dojo</a></li>
          <li><a href="../../dijit/index.html">Dijit</a></li>
          <li><a href="../../dojox/index.html">DojoX</a></li>
        </ul>
        <ul>
<li><a class="reference internal" href="#">dojo/data/ItemFileReadStore</a><ul>
<li><a class="reference internal" href="#supported-apis">Supported APIs</a></li>
<li><a class="reference internal" href="#constructor-parameters">Constructor Parameters</a></li>
<li><a class="reference internal" href="#input-data-format">Input Data Format</a><ul>
<li><a class="reference internal" href="#general-structure">General Structure</a></li>
<li><a class="reference internal" href="#item-structure">Item Structure</a></li>
</ul>
</li>
<li><a class="reference internal" href="#item-structure-examples">Item Structure Examples</a><ul>
<li><a class="reference internal" href="#items-with-references">Items with References</a></li>
<li><a class="reference internal" href="#items-with-hierarchy">Items with Hierarchy</a></li>
<li><a class="reference internal" href="#items-with-custom-types">Items with Custom Types</a></li>
</ul>
</li>
<li><a class="reference internal" href="#custom-types">Custom Types</a><ul>
<li><a class="reference internal" href="#general-case-type-map">General Case Type Map</a></li>
<li><a class="reference internal" href="#example-general-case-type-map-for-javascript-date-objects">Example: General Case Type Map for JavaScript Date Objects</a></li>
<li><a class="reference internal" href="#simplified-form-type-map">Simplified Form Type Map</a></li>
<li><a class="reference internal" href="#example-simplified-form-type-map-for-dojo-color-objects">Example: Simplified Form Type Map for dojo.Color Objects</a></li>
<li><a class="reference internal" href="#functional-example-using-custom-type-maps-with-itemfilereadstore">Functional Example: Using custom type maps with ItemFileReadStore</a></li>
</ul>
</li>
<li><a class="reference internal" href="#custom-sorting">Custom Sorting</a></li>
<li><a class="reference internal" href="#query-syntax">Query Syntax</a></li>
<li><a class="reference internal" href="#query-examples">Query Examples</a><ul>
<li><a class="reference internal" href="#match-items-with-multi-character-wildcard">Match items with multi-character wildcard</a></li>
<li><a class="reference internal" href="#match-items-with-single-character-wildcard">Match items with single character wildcard</a></li>
<li><a class="reference internal" href="#match-items-on-multiple-attributes">Match items on multiple attributes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#query-options">Query Options</a></li>
<li><a class="reference internal" href="#usage-examples">Usage Examples</a><ul>
<li><a class="reference internal" href="#how-many-items-are-in-my-store">How many items are in my store?</a></li>
<li><a class="reference internal" href="#connecting-itemfilereadstore-to-combobox">Connecting ItemFileReadStore to ComboBox</a></li>
<li><a class="reference internal" href="#searching-for-all-continents">Searching for all continents</a></li>
<li><a class="reference internal" href="#doing-wildcard-searches-and-option-setting">Doing wildcard searches and option setting</a></li>
<li><a class="reference internal" href="#demonstrating-custom-sorting">Demonstrating custom sorting</a></li>
<li><a class="reference internal" href="#clearing-out-the-existing-data-in-a-store-and-populating-it-with-new-data">Clearing out the existing Data in a store, and populating it with new Data</a></li>
<li><a class="reference internal" href="#reloading-refreshing-itemfilereadstore-from-a-data-object-dojo-toolkit-1-4">Reloading/Refreshing ItemFileReadStore from a &#8216;data&#8217; object (Dojo Toolkit 1.4+)</a></li>
<li><a class="reference internal" href="#reloading-refreshing-itemfilereadstore-from-a-url-dojo-toolkit-1-4">Reloading/Refreshing ItemFileReadStore from a url (Dojo Toolkit 1.4+)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

        

            <div id="searchbox" style="display: none">
                <h3>Quick search</h3>
                <form class="search" action="../../search.html" method="get">
                    <input type="text" name="q" size="18" />
                    <input type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                 </form>
                 <p class="searchtip" style="font-size: 90%">
                     Enter search terms or a module, class or function name.
                 </p>
            </div>
      </div>
      <div class="medium-9 columns content">
        
  <div class="section" id="dojo-data-itemfilereadstore">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">dojo/data/ItemFileReadStore</a><a class="headerlink" href="#dojo-data-itemfilereadstore" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Jared Jurkiewicz</td>
</tr>
<tr class="field-even field"><th class="field-name">since:</th><td class="field-body">V1.0</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dojo-data-itemfilereadstore" id="id2">dojo/data/ItemFileReadStore</a><ul>
<li><a class="reference internal" href="#supported-apis" id="id3">Supported APIs</a></li>
<li><a class="reference internal" href="#constructor-parameters" id="id4">Constructor Parameters</a></li>
<li><a class="reference internal" href="#input-data-format" id="id5">Input Data Format</a></li>
<li><a class="reference internal" href="#item-structure-examples" id="id6">Item Structure Examples</a></li>
<li><a class="reference internal" href="#custom-types" id="id7">Custom Types</a></li>
<li><a class="reference internal" href="#custom-sorting" id="id8">Custom Sorting</a></li>
<li><a class="reference internal" href="#query-syntax" id="id9">Query Syntax</a></li>
<li><a class="reference internal" href="#query-examples" id="id10">Query Examples</a></li>
<li><a class="reference internal" href="#query-options" id="id11">Query Options</a></li>
<li><a class="reference internal" href="#usage-examples" id="id12">Usage Examples</a></li>
<li><a class="reference internal" href="#see-also" id="id13">See Also</a></li>
</ul>
</li>
</ul>
</div>
<p><em>Deprecated</em>, <a class="reference internal" href="../store.html#dojo-store"><span>dojo/store</span></a> will eventually replace the <code class="docutils literal"><span class="pre">dojo/data</span></code> API.</p>
<p>Dojo core provides an implementation of a read-only datastore, ItemFileReadStore. This store reads the JSON structured contents from an http endpoint (service or URL), or from an in-memory JavaScript object, and stores all the items in-memory for simple and quick access. ItemFileReadStore is designed to allow for flexibility in how it represents item hierarchy, references, and custom data types. It also provides options for which an attribute can act as the unique identifier (for dojo.data.api.Identity), and which attribute can be used as a general label for an item. This store has an expectation that data is provided to in a specific though very flexible, format. All of the examples on this page demonstrate the general format expected.</p>
<p><strong>Points of Consideration:</strong></p>
<ol class="arabic simple">
<li>The format used by ItemFileReadStore is <em>not</em> a requirement of the dojo.data API. The format it uses is designed to work well for the specific situations ItemFileReadStore is used for, which are moderately sized data sets that can be easily represented in a JavaScript Object tree.
Again, please do not take the storage format used by ItemFileReadStore as a definitive format all data stores use; <em>it is not</em>. Other stores use different formats, such as CSV structured data, XML, Opml, HTML, raw text, etc. The point of a data store is to hide the internal structure and always expose the data through the same API.</li>
<li>This is an in-memory store. It is not designed to operate as a remote server store and often trying to make it work with specific remote services ends up far more work than simply implementing a completely new data store that conforms to the dojo.data APIs. So, if you find it extremely complicated to modify for your needs, take a step back and look at what you&#8217;re trying to do. It may be simpler to implement the data store interface over your services.</li>
</ol>
<div class="section" id="supported-apis">
<h2><a class="toc-backref" href="#id3">Supported APIs</a><a class="headerlink" href="#supported-apis" title="Permalink to this headline">¶</a></h2>
<p>The following dojo.data APIs are implemented by ItemFileReadStore</p>
<ul class="simple">
<li><a class="reference internal" href="api/Read.html#dojo-data-api-read"><span>dojo.data.api.Read</span></a></li>
<li><a class="reference internal" href="api/Identity.html#dojo-data-api-identity"><span>dojo.data.api.Identity</span></a></li>
</ul>
</div>
<div class="section" id="constructor-parameters">
<h2><a class="toc-backref" href="#id4">Constructor Parameters</a><a class="headerlink" href="#constructor-parameters" title="Permalink to this headline">¶</a></h2>
<p><strong>NOTE:</strong> &#8216;Since&#8217; refers to which version of dojo the parameter was added to the data store.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="10%" />
<col width="70%" />
<col width="8%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Parameter</strong></td>
<td><strong>Required</strong></td>
<td><strong>Description</strong></td>
<td><strong>Since</strong></td>
</tr>
<tr class="row-even"><td>url</td>
<td>No</td>
<td>This optional parameter specifies what URL from which to load the structured JSON data. Note
that this URL is only loaded one time, as this is an in-memory data store. Only when combined
with parameters <em>clearOnClose</em> and <em>urlPreventCache</em>, is it possible to reload the store
instance with new data.</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>data</td>
<td>No</td>
<td>A structured JavaScript Object to use to populate the store. This parameter can be used instead
of <em>url</em> when you wish to load data differently then modify it to fit the expected
ItemFileReadStore format. This parameter is ignored if <em>url</em> is set.  The data object passed in
is directly used <strong>and</strong> modified.  If you want to reuse a data object, make sure you copy it
before you pass it in.</td>
<td>1.0</td>
</tr>
<tr class="row-even"><td>typeMap</td>
<td>No</td>
<td>This is a JavaScript Object that defines how to deserialize custom types. For more information
on custom types, please refer to the section in this page on them. They are effectively a way
to control how certain values of attributes are processed.</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>clearOnClose</td>
<td>No</td>
<td><p class="first">This boolean parameter controls the close() behavior of the store. If set, calling close() will
erase all items stored in the internal structures. A new call to fetch will invoke the URL
to fetch a new set of items or reload data from a new data object assigned to &#8216;data&#8217;</p>
<p><strong>:</strong>
<strong>Prior to 1.4:</strong> The clearOnCloseflag would only allow resetting of url loaded data.</p>
<p><strong>:</strong>
<strong>Dojo Toolkit 1.4 Notes:</strong></p>
<p class="last">As of the Dojo Toolkit, version 1.4, this parameter works better.  This parameter now allows
for clearing and resetting of both URL and data object provided content of a store instance.
Please refer to the examples section for demonstration of usage. Please
note that when resetting &#8216;data&#8217; for data object provided loads, you must use new instances of
data objects.  Reusing an object from a previous store will cause failures.</p>
</td>
<td>1.2</td>
</tr>
<tr class="row-even"><td>urlPreventCache</td>
<td>No</td>
<td>This boolean value controls whether dojo attempts to prevent the browser caching mechanism from
caching values loaded from a webserver. This parameter is especially useful when combined with
<em>clearOnClose</em> to force a data reload.</td>
<td>1.2</td>
</tr>
<tr class="row-odd"><td>hierarchical</td>
<td>No</td>
<td><p class="first">This boolean value controls whether or not the ItemFileReadStore will treat the data as
hierarchical.  The default value is true for backwards compatibility.</p>
<blockquote class="last">
<div>Prior to dojo 1.4, ItemFileReadStore, when loading the initial data set, treated attributes
that are JavaScript objects as data store items and processed them accordingly.  As of Dojo
1.4 this function can be disabled by setting this to false in the constructor or on the store
before the first fetch.  Note that &#8216;custom types&#8217; and &#8216;references&#8217; are still processed.</div></blockquote>
</td>
<td>1.4</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="input-data-format">
<h2><a class="toc-backref" href="#id5">Input Data Format</a><a class="headerlink" href="#input-data-format" title="Permalink to this headline">¶</a></h2>
<p>While the data exposed from a data store is agnostic and consumable by many sources in an usually interchangeable way, the input data formats of a data store may vary. The ItemFileReadStore expects a specific structure to its data, as defined below:</p>
<div class="section" id="general-structure">
<h3>General Structure<a class="headerlink" href="#general-structure" title="Permalink to this headline">¶</a></h3>
<div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;label&quot;</span><span class="o">:</span> <span class="s2">&quot;some attribute&quot;</span><span class="p">,</span>   <span class="c1">// Optional attribute used to indicate which attribute on an item should act as a human-readable label for display purposes.</span>


  <span class="s2">&quot;identifier&quot;</span><span class="o">:</span> <span class="s2">&quot;some attribute&quot;</span><span class="p">,</span>  <span class="c1">// Optional attribute used to indicate which attribute on an item acts as a unique identifier for that item. If it is not defined, then the ItemFileReadStore will simply number the items and use that number as a unique index to the item.</span>


  <span class="s2">&quot;items:&quot;</span> <span class="p">[</span>  <span class="c1">// The array of JavaScript objects that act as the root items of the data store</span>
    <span class="p">{</span> <span class="cm">/* Some set of name/value attributes */</span> <span class="p">},</span>
    <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">},</span>
    <span class="p">...</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{
  &quot;label&quot;: &quot;some attribute&quot;,   // Optional attribute used to indicate which attribute on an item should act as a human-readable label for display purposes.


  &quot;identifier&quot;: &quot;some attribute&quot;,  // Optional attribute used to indicate which attribute on an item acts as a unique identifier for that item. If it is not defined, then the ItemFileReadStore will simply number the items and use that number as a unique index to the item.


  &quot;items:&quot; [  // The array of JavaScript objects that act as the root items of the data store
    { /* Some set of name/value attributes */ },
    { /* ... */ },
    ...
  ]
}</textarea></div></div>
<div class="section" id="item-structure">
<h3>Item Structure<a class="headerlink" href="#item-structure" title="Permalink to this headline">¶</a></h3>
<p>To ItemFileReadStore, any JavaScript object is treated as an item. This includes any value of an attribute that is also a JavaScript object. This allows the format to be extremely flexible in what sort of data it can represent.</p>
<p>Aside from regular, string, boolean, integer, object, etc, types that can be assigned as attribute values, there are special structures that when detected are treated differently from regular values.</p>
<p><strong>References:</strong></p>
<p>The first is the <em>_reference</em> structure. The <em>_reference</em> structure is a JavaScript Object with a single, special attribute of <em>_reference</em>. Its value should always be the identity of another item. With this structure, ItemFileReadStore can read in and set up relationships between items. An example of such a data structure is below:</p>
<div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;identifier&quot;</span><span class="o">:</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span>
  <span class="s2">&quot;items&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;spouse&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_reference&quot;</span><span class="o">:</span><span class="s2">&quot;Sally&quot;</span><span class="p">},</span>  <span class="s2">&quot;children&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="p">{</span> <span class="s2">&quot;_reference&quot;</span><span class="o">:</span><span class="s2">&quot;Nancy&quot;</span><span class="p">}]},</span>
    <span class="p">{</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Sally&quot;</span><span class="p">,</span> <span class="s2">&quot;spouse&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_reference&quot;</span><span class="o">:</span><span class="s2">&quot;Bob&quot;</span><span class="p">},</span>  <span class="s2">&quot;children&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="p">{</span> <span class="s2">&quot;_reference&quot;</span><span class="o">:</span><span class="s2">&quot;Nancy&quot;</span><span class="p">}]},</span>
    <span class="p">{</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Nancy&quot;</span><span class="p">},</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{
  &quot;identifier&quot;: &quot;name&quot;,
  &quot;items&quot;: [
    { &quot;name&quot;: &quot;Bob&quot;, &quot;spouse&quot;: {&quot;_reference&quot;:&quot;Sally&quot;},  &quot;children&quot;: [ { &quot;_reference&quot;:&quot;Nancy&quot;}]},
    { &quot;name&quot;: &quot;Sally&quot;, &quot;spouse&quot;: {&quot;_reference&quot;:&quot;Bob&quot;},  &quot;children&quot;: [ { &quot;_reference&quot;:&quot;Nancy&quot;}]},
    { &quot;name&quot;: &quot;Nancy&quot;},
  ]
}</textarea></div><p>So, by calling store.getValue(bobItem, &#8220;spouse&#8221;), the return will be the datastore item identified by <em>Sally</em>.</p>
<p><strong>Custom Types:</strong></p>
<p>The other special structure is the custom type structure. The purpose of the custom type structure is a mechanism by which you can define JavaScript Objects that you do not which to be created and handled as a data store item. A good example of this is a JavaScript Date object. You likely do not wish it to be treated as another item, but as simply its JavaScript object. Another good example is the dojo.Color object. Again, it is unlikely you would wish this to be treated as a datastore item. So, ItemFileReadStore provides a mechanism by which these sort of objects can be represented in JSON and reconstructed back into their JavaScript equivalents. The custom type format is defined below:</p>
<div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;items&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;birthdate&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;Date&quot;</span><span class="p">,</span> <span class="s2">&quot;_value&quot;</span><span class="o">:</span> <span class="s2">&quot;1965-08-20T00:00:00Z&quot;</span><span class="p">})</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{
  &quot;items&quot;: [
    { &quot;name&quot;: &quot;Bob&quot;, &quot;birthdate&quot;: { &quot;_type&quot;: &quot;Date&quot;, &quot;_value&quot;: &quot;1965-08-20T00:00:00Z&quot;})
  ]
}</textarea></div><p>When ItemFileReadStore parses that structure, it detects the JavaScript Object value for attribute <em>birthdate</em> has the special attributes <em>_type</em> and <em>_value</em>. what it then does with this is look into the type map of the store and determines if any deserializer has been defined for the value of <em>_type</em>. If it has, it takes the value of <em>_value</em>, and calls the deserializer function with it. The return of the deserializer will be a Date() object.</p>
</div>
</div>
<div class="section" id="item-structure-examples">
<h2><a class="toc-backref" href="#id6">Item Structure Examples</a><a class="headerlink" href="#item-structure-examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="items-with-references">
<h3>Items with References<a class="headerlink" href="#items-with-references" title="Permalink to this headline">¶</a></h3>
<div class="highlight"><pre><span class="p">{</span>
  <span class="s1">&#39;identifier&#39;</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
  <span class="s1">&#39;label&#39;</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
  <span class="s1">&#39;items&#39;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Africa&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span>
      <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Egypt&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Kenya&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Sudan&#39;</span><span class="p">}]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Egypt&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Kenya&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span>
      <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Nairobi&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Mombasa&#39;</span><span class="p">}]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Nairobi&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Mombasa&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Sudan&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span>
      <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Khartoum&#39;</span><span class="p">}</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Khartoum&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;city&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Asia&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span>
      <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;China&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;India&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Russia&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Mongolia&#39;</span><span class="p">}]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;China&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;India&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Russia&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Mongolia&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Australia&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;21 million&#39;</span><span class="p">,</span>
      <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Commonwealth of Australia&#39;</span><span class="p">}},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Commonwealth of Australia&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;21 million&#39;</span><span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Europe&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span>
      <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Germany&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;France&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Spain&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Italy&#39;</span><span class="p">}]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Germany&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;France&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Spain&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Italy&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;North America&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span>
      <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Mexico&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Canada&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;United States of America&#39;</span><span class="p">}]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Mexico&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;108 million&#39;</span><span class="p">,</span> <span class="s1">&#39;area&#39;</span><span class="o">:</span><span class="s1">&#39;1,972,550 sq km&#39;</span><span class="p">,</span>
      <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Mexico City&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Guadalajara&#39;</span><span class="p">}]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Mexico City&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;19 million&#39;</span><span class="p">,</span> <span class="s1">&#39;timezone&#39;</span><span class="o">:</span><span class="s1">&#39;-6 UTC&#39;</span><span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Guadalajara&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;4 million&#39;</span><span class="p">,</span> <span class="s1">&#39;timezone&#39;</span><span class="o">:</span><span class="s1">&#39;-6 UTC&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Canada&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span>  <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;33 million&#39;</span><span class="p">,</span> <span class="s1">&#39;area&#39;</span><span class="o">:</span><span class="s1">&#39;9,984,670 sq km&#39;</span><span class="p">,</span>
      <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Ottawa&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Toronto&#39;</span><span class="p">}]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Ottawa&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;0.9 million&#39;</span><span class="p">,</span> <span class="s1">&#39;timezone&#39;</span><span class="o">:</span><span class="s1">&#39;-5 UTC&#39;</span><span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Toronto&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;2.5 million&#39;</span><span class="p">,</span> <span class="s1">&#39;timezone&#39;</span><span class="o">:</span><span class="s1">&#39;-5 UTC&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;United States of America&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;South America&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span>
      <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Brazil&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;_reference&#39;</span><span class="o">:</span><span class="s1">&#39;Argentina&#39;</span><span class="p">}]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Brazil&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;186 million&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Argentina&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;40 million&#39;</span> <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{
  'identifier': 'name',
  'label': 'name',
  'items': [
    { 'name':'Africa', 'type':'continent',
      'children':[{'_reference':'Egypt'}, {'_reference':'Kenya'}, {'_reference':'Sudan'}] },
    { 'name':'Egypt', 'type':'country' },
    { 'name':'Kenya', 'type':'country',
      'children':[{'_reference':'Nairobi'}, {'_reference':'Mombasa'}] },
    { 'name':'Nairobi', 'type':'city' },
    { 'name':'Mombasa', 'type':'city' },
    { 'name':'Sudan', 'type':'country',
      'children':{'_reference':'Khartoum'} },
    { 'name':'Khartoum', type:'city' },
    { 'name':'Asia', 'type':'continent',
      'children':[{'_reference':'China'}, {'_reference':'India'}, {'_reference':'Russia'}, {'_reference':'Mongolia'}] },
    { 'name':'China', 'type':'country' },
    { 'name':'India', 'type':'country' },
    { 'name':'Russia', 'type':'country' },
    { 'name':'Mongolia', 'type':'country' },
    { 'name':'Australia', 'type':'continent', 'population':'21 million',
      'children':{'_reference':'Commonwealth of Australia'}},
    { 'name':'Commonwealth of Australia', 'type':'country', 'population':'21 million'},
    { 'name':'Europe', 'type':'continent',
      'children':[{'_reference':'Germany'}, {'_reference':'France'}, {'_reference':'Spain'}, {'_reference':'Italy'}] },
    { 'name':'Germany', 'type':'country' },
    { 'name':'France', 'type':'country' },
    { 'name':'Spain', 'type':'country' },
    { 'name':'Italy', 'type':'country' },
    { 'name':'North America', 'type':'continent',
      'children':[{'_reference':'Mexico'}, {'_reference':'Canada'}, {'_reference':'United States of America'}] },
    { 'name':'Mexico', 'type':'country', 'population':'108 million', 'area':'1,972,550 sq km',
      'children':[{'_reference':'Mexico City'}, {'_reference':'Guadalajara'}] },
    { 'name':'Mexico City', 'type':'city', 'population':'19 million', 'timezone':'-6 UTC'},
    { 'name':'Guadalajara', 'type':'city', 'population':'4 million', 'timezone':'-6 UTC' },
    { 'name':'Canada', 'type':'country',  'population':'33 million', 'area':'9,984,670 sq km',
      'children':[{'_reference':'Ottawa'}, {'_reference':'Toronto'}] },
    { 'name':'Ottawa', 'type':'city', 'population':'0.9 million', 'timezone':'-5 UTC'},
    { 'name':'Toronto', 'type':'city', 'population':'2.5 million', 'timezone':'-5 UTC' },
    { 'name':'United States of America', 'type':'country' },
    { 'name':'South America', 'type':'continent',
      'children':[{'_reference':'Brazil'}, {'_reference':'Argentina'}] },
    { 'name':'Brazil', 'type':'country', 'population':'186 million' },
    { 'name':'Argentina', 'type':'country', 'population':'40 million' }
  ]
}</textarea></div></div>
<div class="section" id="items-with-hierarchy">
<h3>Items with Hierarchy<a class="headerlink" href="#items-with-hierarchy" title="Permalink to this headline">¶</a></h3>
<div class="highlight"><pre><span class="p">{</span>
  <span class="s1">&#39;identifier&#39;</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
  <span class="s1">&#39;label&#39;</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
  <span class="s1">&#39;items&#39;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Africa&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Egypt&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Kenya&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[</span>
        <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Nairobi&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Mombasa&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span> <span class="p">}</span> <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Sudan&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span>
        <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Khartoum&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span> <span class="p">}</span>
      <span class="p">}</span> <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Asia&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;China&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;India&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Russia&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Mongolia&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">}</span> <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Australia&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;21 million&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Commonwealth of Australia&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;21 million&#39;</span><span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Europe&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Germany&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;France&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Spain&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Italy&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">}</span> <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;North America&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Mexico&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span>  <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;108 million&#39;</span><span class="p">,</span> <span class="s1">&#39;area&#39;</span><span class="o">:</span><span class="s1">&#39;1,972,550 sq km&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[</span>
        <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Mexico City&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;19 million&#39;</span><span class="p">,</span> <span class="s1">&#39;timezone&#39;</span><span class="o">:</span><span class="s1">&#39;-6 UTC&#39;</span><span class="p">},</span>
        <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Guadalajara&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;4 million&#39;</span><span class="p">,</span> <span class="s1">&#39;timezone&#39;</span><span class="o">:</span><span class="s1">&#39;-6 UTC&#39;</span> <span class="p">}</span> <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Canada&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;33 million&#39;</span><span class="p">,</span> <span class="s1">&#39;area&#39;</span><span class="o">:</span><span class="s1">&#39;9,984,670 sq km&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[</span>
        <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Ottawa&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;0.9 million&#39;</span><span class="p">,</span> <span class="s1">&#39;timezone&#39;</span><span class="o">:</span><span class="s1">&#39;-5 UTC&#39;</span><span class="p">},</span>
        <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Toronto&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;2.5 million&#39;</span><span class="p">,</span> <span class="s1">&#39;timezone&#39;</span><span class="o">:</span><span class="s1">&#39;-5 UTC&#39;</span> <span class="p">}]</span>
      <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;United States of America&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">}</span> <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;South America&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Brazil&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;186 million&#39;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Argentina&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;40 million&#39;</span> <span class="p">}</span> <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{
  'identifier': 'name',
  'label': 'name',
  'items': [
    { 'name':'Africa', 'type':'continent', 'children':[
      { 'name':'Egypt', 'type':'country' },
      { 'name':'Kenya', 'type':'country', 'children':[
        { 'name':'Nairobi', 'type':'city' },
        { 'name':'Mombasa', 'type':'city' } ]
      },
      { 'name':'Sudan', 'type':'country', 'children':
        { 'name':'Khartoum', 'type':'city' }
      } ]
    },
    { 'name':'Asia', 'type':'continent', 'children':[
      { 'name':'China', 'type':'country' },
      { 'name':'India', 'type':'country' },
      { 'name':'Russia', 'type':'country' },
      { 'name':'Mongolia', 'type':'country' } ]
    },
    { 'name':'Australia', 'type':'continent', 'population':'21 million', 'children':
      { 'name':'Commonwealth of Australia', 'type':'country', 'population':'21 million'}
    },
    { 'name':'Europe', 'type':'continent', 'children':[
      { 'name':'Germany', 'type':'country' },
      { 'name':'France', 'type':'country' },
      { 'name':'Spain', 'type':'country' },
      { 'name':'Italy', 'type':'country' } ]
    },
    { 'name':'North America', 'type':'continent', 'children':[
      { 'name':'Mexico', 'type':'country',  'population':'108 million', 'area':'1,972,550 sq km', 'children':[
        { 'name':'Mexico City', 'type':'city', 'population':'19 million', 'timezone':'-6 UTC'},
        { 'name':'Guadalajara', 'type':'city', 'population':'4 million', 'timezone':'-6 UTC' } ]
      },
      { 'name':'Canada', 'type':'country', 'population':'33 million', 'area':'9,984,670 sq km', 'children':[
        { 'name':'Ottawa', 'type':'city', 'population':'0.9 million', 'timezone':'-5 UTC'},
        { 'name':'Toronto', 'type':'city', 'population':'2.5 million', 'timezone':'-5 UTC' }]
      },
      { 'name':'United States of America', 'type':'country' } ]
    },
    { 'name':'South America', 'type':'continent', 'children':[
      { 'name':'Brazil', 'type':'country', 'population':'186 million' },
      { 'name':'Argentina', 'type':'country', 'population':'40 million' } ]
    }
  ]
}</textarea></div></div>
<div class="section" id="items-with-custom-types">
<h3>Items with Custom Types<a class="headerlink" href="#items-with-custom-types" title="Permalink to this headline">¶</a></h3>
<div class="highlight"><pre><span class="p">{</span>
  <span class="s1">&#39;identifier&#39;</span><span class="o">:</span> <span class="s1">&#39;abbr&#39;</span><span class="p">,</span>
  <span class="s1">&#39;label&#39;</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
  <span class="s1">&#39;items&#39;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="s1">&#39;abbr&#39;</span><span class="o">:</span><span class="s1">&#39;ec&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Ecuador&#39;</span><span class="p">,</span>           <span class="s1">&#39;capital&#39;</span><span class="o">:</span><span class="s1">&#39;Quito&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;abbr&#39;</span><span class="o">:</span><span class="s1">&#39;eg&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Egypt&#39;</span><span class="p">,</span>             <span class="s1">&#39;capital&#39;</span><span class="o">:</span><span class="s1">&#39;Cairo&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;abbr&#39;</span><span class="o">:</span><span class="s1">&#39;sv&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;El Salvador&#39;</span><span class="p">,</span>       <span class="s1">&#39;capital&#39;</span><span class="o">:</span><span class="s1">&#39;San Salvador&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;abbr&#39;</span><span class="o">:</span><span class="s1">&#39;gq&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Equatorial Guinea&#39;</span><span class="p">,</span> <span class="s1">&#39;capital&#39;</span><span class="o">:</span><span class="s1">&#39;Malabo&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;abbr&#39;</span><span class="o">:</span><span class="s1">&#39;er&#39;</span><span class="p">,</span>
      <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Eritrea&#39;</span><span class="p">,</span>
      <span class="s1">&#39;capital&#39;</span><span class="o">:</span><span class="s1">&#39;Asmara&#39;</span><span class="p">,</span>
      <span class="s1">&#39;independence&#39;</span><span class="o">:</span><span class="p">{</span><span class="s1">&#39;_type&#39;</span><span class="o">:</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;_value&#39;</span><span class="o">:</span><span class="s2">&quot;1993-05-24T00:00:00Z&quot;</span><span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;abbr&#39;</span><span class="o">:</span><span class="s1">&#39;ee&#39;</span><span class="p">,</span>
      <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Estonia&#39;</span><span class="p">,</span>
      <span class="s1">&#39;capital&#39;</span><span class="o">:</span><span class="s1">&#39;Tallinn&#39;</span><span class="p">,</span>
      <span class="s1">&#39;independence&#39;</span><span class="o">:</span><span class="p">{</span><span class="s1">&#39;_type&#39;</span><span class="o">:</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;_value&#39;</span><span class="o">:</span><span class="s2">&quot;1991-08-20T00:00:00Z&quot;</span><span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;abbr&#39;</span><span class="o">:</span><span class="s1">&#39;et&#39;</span><span class="p">,</span>
      <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Ethiopia&#39;</span><span class="p">,</span>
      <span class="s1">&#39;capital&#39;</span><span class="o">:</span><span class="s1">&#39;Addis Ababa&#39;</span> <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{
  'identifier': 'abbr',
  'label': 'name',
  'items': [
    { 'abbr':'ec', 'name':'Ecuador',           'capital':'Quito' },
    { 'abbr':'eg', 'name':'Egypt',             'capital':'Cairo' },
    { 'abbr':'sv', 'name':'El Salvador',       'capital':'San Salvador' },
    { 'abbr':'gq', 'name':'Equatorial Guinea', 'capital':'Malabo' },
    { 'abbr':'er',
      'name':'Eritrea',
      'capital':'Asmara',
      'independence':{'_type':'Date', '_value':&quot;1993-05-24T00:00:00Z&quot;}
    },
    { 'abbr':'ee',
      'name':'Estonia',
      'capital':'Tallinn',
      'independence':{'_type':'Date', '_value':&quot;1991-08-20T00:00:00Z&quot;}
    },
    { 'abbr':'et',
      'name':'Ethiopia',
      'capital':'Addis Ababa' }
  ]
}</textarea></div></div>
</div>
<div class="section" id="custom-types">
<h2><a class="toc-backref" href="#id7">Custom Types</a><a class="headerlink" href="#custom-types" title="Permalink to this headline">¶</a></h2>
<p>As mentioned in the Item Structure section, custom types are possible to create and use as values of attributes with this store. The caveat is, you have to tell the store, through a typeMap object, how to deserialize the custom type value back into its object form. This is not as difficult as it first may sound. Below is the general structure information for creating a custom type map. There is a general format for all cases, and a compact format when the value can be directly used as a constructor argument.</p>
<p><strong>Note:</strong> You can mix simplified form type maps with general case type maps in the same type map object. Therefore, you can use whatever is the easiest representation required to handle the custom object construction.</p>
<p><strong>Note:</strong> dojo.data.ItemFileReadStore implements a custom type map for JavaScript Date already. It uses the ISO-8601 serialization format for dates to keep it consistent with other date operations in dojo. If you wish to see how ItemFileReadStore defines it, refer to the source of dojo/data/ItemFileReadStore.js. The type mapping occurs in the constructor function.</p>
<div class="section" id="general-case-type-map">
<h3>General Case Type Map<a class="headerlink" href="#general-case-type-map" title="Permalink to this headline">¶</a></h3>
<p>The general case type map handles the situation where some processing on the value of an attribute must occur before it can be converted back into its Object form. This often the case where a single value cannot be used as a constructor argument.</p>
<p><strong>General Form Type Map</strong></p>
<div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;type0&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="nx">constructorFunction</span><span class="p">(),</span>
    <span class="s2">&quot;deserialize&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="s2">&quot;type1&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="nx">constructorFunction</span><span class="p">(),</span>
    <span class="s2">&quot;deserialize&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="s2">&quot;type2&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="nx">constructorFunction</span><span class="p">(),</span>
    <span class="s2">&quot;deserialize&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="p">...</span>
  <span class="s2">&quot;typeN&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="nx">constructorFunction</span><span class="p">(),</span>
    <span class="s2">&quot;deserialize&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{
  &quot;type0&quot;: {
    &quot;type&quot;: constructorFunction(),
    &quot;deserialize&quot;: function(value)
  },
  &quot;type1&quot;: {
    &quot;type&quot;: constructorFunction(),
    &quot;deserialize&quot;: function(value)
  },
  &quot;type2&quot;: {
    &quot;type&quot;: constructorFunction(),
    &quot;deserialize&quot;: function(value)
  },
  ...
  &quot;typeN&quot;: {
    &quot;type&quot;: constructorFunction(),
    &quot;deserialize&quot;: function(value)
  }
}</textarea></div></div>
<div class="section" id="example-general-case-type-map-for-javascript-date-objects">
<h3>Example: General Case Type Map for JavaScript Date Objects<a class="headerlink" href="#example-general-case-type-map-for-javascript-date-objects" title="Permalink to this headline">¶</a></h3>
<div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;Date&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">type</span><span class="o">:</span> <span class="nb">Date</span><span class="p">,</span>
    <span class="nx">deserialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
      <span class="c1">// supposing object is in require function and you required dojo/date/stamp module</span>
      <span class="k">return</span> <span class="nx">stamp</span><span class="p">.</span><span class="nx">fromISOString</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{
  &quot;Date&quot;: {
    type: Date,
    deserialize: function(value){
      // supposing object is in require function and you required dojo/date/stamp module
      return stamp.fromISOString(value);
    }
  }
}</textarea></div></div>
<div class="section" id="simplified-form-type-map">
<h3>Simplified Form Type Map<a class="headerlink" href="#simplified-form-type-map" title="Permalink to this headline">¶</a></h3>
<p>The simplified form is more compact to write and works well when the value held by the custom type structure can be directly passed into a constructor to convert it back into its Object form. This often the case where a single value can be used as a constructor argument.</p>
<p><strong>Simplified Form Type Map</strong></p>
<div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;type0&quot;</span><span class="o">:</span> <span class="nx">constructorFunction</span><span class="p">(),</span>
  <span class="s2">&quot;type1&quot;</span><span class="o">:</span> <span class="nx">constructorFunction</span><span class="p">(),</span>
  <span class="s2">&quot;type2&quot;</span><span class="o">:</span> <span class="nx">constructorFunction</span><span class="p">(),</span>
  <span class="p">...</span>
  <span class="s2">&quot;typeN&quot;</span><span class="o">:</span> <span class="nx">constructorFunction</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{
  &quot;type0&quot;: constructorFunction(),
  &quot;type1&quot;: constructorFunction(),
  &quot;type2&quot;: constructorFunction(),
  ...
  &quot;typeN&quot;: constructorFunction()
}</textarea></div></div>
<div class="section" id="example-simplified-form-type-map-for-dojo-color-objects">
<h3>Example: Simplified Form Type Map for dojo.Color Objects<a class="headerlink" href="#example-simplified-form-type-map-for-dojo-color-objects" title="Permalink to this headline">¶</a></h3>
<div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;Color&quot;</span><span class="o">:</span> <span class="nx">Color</span> <span class="c1">// supposing this object is in require function and you required dojo/_base/Color module</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{
  &quot;Color&quot;: Color // supposing this object is in require function and you required dojo/_base/Color module
}</textarea></div></div>
<div class="section" id="functional-example-using-custom-type-maps-with-itemfilereadstore">
<h3>Functional Example: Using custom type maps with ItemFileReadStore<a class="headerlink" href="#functional-example-using-custom-type-maps-with-itemfilereadstore" title="Permalink to this headline">¶</a></h3>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">colorData</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">identifier</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
    <span class="nx">items</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;DojoRed&#39;</span><span class="p">,</span> <span class="nx">color</span><span class="o">:</span><span class="p">{</span><span class="nx">_type</span><span class="o">:</span><span class="s1">&#39;Color&#39;</span><span class="p">,</span> <span class="nx">_value</span><span class="o">:</span><span class="s1">&#39;red&#39;</span><span class="p">}</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;DojoGreen&#39;</span><span class="p">,</span> <span class="nx">color</span><span class="o">:</span><span class="p">{</span><span class="nx">_type</span><span class="o">:</span><span class="s1">&#39;Color&#39;</span><span class="p">,</span> <span class="nx">_value</span><span class="o">:</span><span class="s1">&#39;green&#39;</span><span class="p">}</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;DojoBlue&#39;</span><span class="p">,</span> <span class="nx">color</span><span class="o">:</span><span class="p">{</span><span class="nx">_type</span><span class="o">:</span><span class="s1">&#39;Color&#39;</span><span class="p">,</span> <span class="nx">_value</span><span class="o">:</span><span class="s1">&#39;blue&#39;</span><span class="p">}</span> <span class="p">}</span>
    <span class="p">]</span>
<span class="p">};</span>

<span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/data/ItemFileReadStore&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/Color&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/on&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/Button&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/parser&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ready</span><span class="p">,</span> <span class="nx">ItemFileReadStore</span><span class="p">,</span> <span class="nx">Color</span><span class="p">,</span> <span class="nx">dom</span><span class="p">,</span> <span class="nx">on</span><span class="p">){</span>
    <span class="c1">// This function performs some basic dojo initialization. In this case it connects the button</span>
    <span class="c1">// onClick to a function which invokes the fetch(). The fetch function queries for all items</span>
    <span class="c1">// and provides callbacks to use for completion of data retrieval or reporting of errors.</span>
    <span class="c1">// Set the init function to run when dojo loading and page parsing has completed.</span>
    <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="kd">var</span> <span class="nx">colorStore</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ItemFileReadStore</span><span class="p">({</span><span class="nx">data</span><span class="o">:</span> <span class="nx">colorData</span><span class="p">,</span> <span class="nx">typeMap</span><span class="o">:</span> <span class="p">{</span><span class="s1">&#39;Color&#39;</span><span class="o">:</span> <span class="nx">Color</span><span class="p">}});</span>

        <span class="c1">// Function to perform a fetch on the datastore when a button is clicked</span>
        <span class="kd">function</span> <span class="nx">getItems</span><span class="p">(){</span>
            <span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;list&quot;</span><span class="p">);</span>

            <span class="c1">// Callback to perform an action when the data items are starting to be returned:</span>
            <span class="kd">function</span> <span class="nx">clearOldList</span><span class="p">(</span><span class="nx">size</span><span class="p">,</span> <span class="nx">request</span><span class="p">){</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">list</span><span class="p">){</span>
                    <span class="k">while</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">){</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="c1">// Callback for processing a single returned item.</span>
            <span class="kd">function</span> <span class="nx">gotItem</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">request</span><span class="p">){</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">list</span><span class="p">){</span>
                    <span class="k">if</span><span class="p">(</span><span class="nx">item</span><span class="p">){</span>
                        <span class="kd">var</span> <span class="nx">bold</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">);</span>
                        <span class="nx">bold</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s2">&quot;Item Name: &quot;</span><span class="p">));</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">bold</span><span class="p">);</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">colorStore</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">)));</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;br&quot;</span><span class="p">));</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s2">&quot;Attribute color is of type: &quot;</span> <span class="o">+</span> <span class="k">typeof</span> <span class="nx">colorStore</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="p">)));</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;br&quot;</span><span class="p">));</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s2">&quot;Attribute color value is: &quot;</span> <span class="o">+</span> <span class="nx">colorStore</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="p">)));</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;br&quot;</span><span class="p">));</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s2">&quot;Attribute color is instance of dojo/_base/Color? &quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">colorStore</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="p">)</span> <span class="k">instanceof</span> <span class="nx">dojo</span><span class="p">.</span><span class="nx">Color</span><span class="p">)));</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;br&quot;</span><span class="p">));</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;br&quot;</span><span class="p">));</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="c1">// Callback for if the lookup fails.</span>
            <span class="kd">function</span> <span class="nx">fetchFailed</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">request</span><span class="p">){</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;lookup failed.&quot;</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="c1">// Fetch the data.</span>
            <span class="nx">colorStore</span><span class="p">.</span><span class="nx">fetch</span><span class="p">({</span><span class="nx">onBegin</span><span class="o">:</span> <span class="nx">clearOldList</span><span class="p">,</span> <span class="nx">onItem</span><span class="o">:</span> <span class="nx">gotItem</span><span class="p">,</span> <span class="nx">onError</span><span class="o">:</span> <span class="nx">fetchFailed</span><span class="p">});</span>
        <span class="p">}</span>

        <span class="c1">// Link the click event of the button to driving the fetch.</span>
        <span class="nx">on</span><span class="p">(</span><span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;myButton&quot;</span><span class="p">),</span> <span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="nx">getItems</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">var colorData = { identifier: 'name',
    items: [
        { name:'DojoRed', color:{_type:'Color', _value:'red'} },
        { name:'DojoGreen', color:{_type:'Color', _value:'green'} },
        { name:'DojoBlue', color:{_type:'Color', _value:'blue'} }
    ]
};

require([&quot;dojo/ready&quot;, &quot;dojo/data/ItemFileReadStore&quot;, &quot;dojo/_base/Color&quot;, &quot;dojo/dom&quot;, &quot;dojo/on&quot;, &quot;dijit/form/Button&quot;, &quot;dojo/parser&quot;], function(ready, ItemFileReadStore, Color, dom, on){
    // This function performs some basic dojo initialization. In this case it connects the button
    // onClick to a function which invokes the fetch(). The fetch function queries for all items
    // and provides callbacks to use for completion of data retrieval or reporting of errors.
    // Set the init function to run when dojo loading and page parsing has completed.
    ready(function(){
        var colorStore = new ItemFileReadStore({data: colorData, typeMap: {'Color': Color}});

        // Function to perform a fetch on the datastore when a button is clicked
        function getItems(){
            var list = dom.byId(&quot;list&quot;);

            // Callback to perform an action when the data items are starting to be returned:
            function clearOldList(size, request){
                if(list){
                    while(list.firstChild){
                        list.removeChild(list.firstChild);
                    }
                }
            }

            // Callback for processing a single returned item.
            function gotItem(item, request){
                if(list){
                    if(item){
                        var bold = document.createElement(&quot;b&quot;);
                        bold.appendChild(document.createTextNode(&quot;Item Name: &quot;));
                        list.appendChild(bold);
                        list.appendChild(document.createTextNode(colorStore.getValue(item, &quot;name&quot;)));
                        list.appendChild(document.createElement(&quot;br&quot;));
                        list.appendChild(document.createTextNode(&quot;Attribute color is of type: &quot; + typeof colorStore.getValue(item, &quot;color&quot;)));
                        list.appendChild(document.createElement(&quot;br&quot;));
                        list.appendChild(document.createTextNode(&quot;Attribute color value is: &quot; + colorStore.getValue(item, &quot;color&quot;)));
                        list.appendChild(document.createElement(&quot;br&quot;));
                        list.appendChild(document.createTextNode(&quot;Attribute color is instance of dojo/_base/Color? &quot; + (colorStore.getValue(item, &quot;color&quot;) instanceof dojo.Color)));
                        list.appendChild(document.createElement(&quot;br&quot;));
                        list.appendChild(document.createElement(&quot;br&quot;));
                    }
                }
            }

            // Callback for if the lookup fails.
            function fetchFailed(error, request){
                console.log(error);
                alert(&quot;lookup failed.&quot;);
            }

            // Fetch the data.
            colorStore.fetch({onBegin: clearOldList, onItem: gotItem, onError: fetchFailed});
        }

        // Link the click event of the button to driving the fetch.
        on(dom.byId(&quot;myButton&quot;), &quot;click&quot;, getItems);
    });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/Button&quot;</span> <span class="na">id=</span><span class="s">&quot;myButton&quot;</span><span class="nt">&gt;</span>Click me to examine items and what the color attribute is!<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;list&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=&quot;dijit/form/Button&quot; id=&quot;myButton&quot;&gt;Click me to examine items and what the color attribute is!&lt;/div&gt;
&lt;div id=&quot;list&quot;&gt;&lt;/div&gt;</textarea></div></div></div></div>
</div>
<div class="section" id="custom-sorting">
<h2><a class="toc-backref" href="#id8">Custom Sorting</a><a class="headerlink" href="#custom-sorting" title="Permalink to this headline">¶</a></h2>
<p>ItemFileReadStore uses the dojo.data.util.sorter helper functions to implement item sorting. These functions provide a mechanism by which end users can customize how attributes are sorted. This is done by defining a <em>comparatorMap</em> on the store class. The comparator map maps an attribute name to some sorting function. The sorting function is expected to return 1, -1, or 0, base on whether the value for two items for the attribute was greater than, less than, or equal to, each other. An example of a custom sorter for attribute &#8216;foo&#8217; is shown below:</p>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/data/ItemFileReadStore&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ItemFileReadStore</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">store</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ItemFileReadStore</span><span class="p">({</span><span class="nx">data</span><span class="o">:</span> <span class="p">{</span> <span class="nx">identifier</span><span class="o">:</span> <span class="s2">&quot;uniqueId&quot;</span><span class="p">,</span>
        <span class="nx">items</span><span class="o">:</span> <span class="p">[</span> <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;CLOSED&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>  <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;OPEN&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>  <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;PENDING&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span>  <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;BLOCKED&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>  <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;CLOSED&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">6</span><span class="p">,</span>  <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;OPEN&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">7</span><span class="p">,</span>  <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;PENDING&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">8</span><span class="p">,</span>  <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;PENDING&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;BLOCKED&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">12</span><span class="p">,</span> <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;BLOCKED&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">11</span><span class="p">,</span> <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;OPEN&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">9</span><span class="p">,</span>  <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;CLOSED&quot;</span><span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}});</span>

    <span class="c1">// Define the comparator function for status.</span>
    <span class="nx">store</span><span class="p">.</span><span class="nx">comparatorMap</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="nx">store</span><span class="p">.</span><span class="nx">comparatorMap</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">){</span>
        <span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="c1">// We want to map these by what the priority of these items are, not by alphabetical.</span>
        <span class="c1">// So, custom comparator.</span>
        <span class="kd">var</span> <span class="nx">enumMap</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">OPEN</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">BLOCKED</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">PENDING</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">CLOSED</span><span class="o">:</span> <span class="mi">0</span><span class="p">};</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">enumMap</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span> <span class="o">&gt;</span> <span class="nx">enumMap</span><span class="p">[</span><span class="nx">b</span><span class="p">]){</span>
            <span class="nx">ret</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">enumMap</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nx">enumMap</span><span class="p">[</span><span class="nx">b</span><span class="p">]){</span>
            <span class="nx">ret</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
    <span class="p">};</span>

    <span class="kd">var</span> <span class="nx">sortAttributes</span> <span class="o">=</span> <span class="p">[{</span><span class="nx">attribute</span><span class="o">:</span> <span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="nx">descending</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span> <span class="p">{</span> <span class="nx">attribute</span><span class="o">:</span> <span class="s2">&quot;uniqueId&quot;</span><span class="p">,</span> <span class="nx">descending</span><span class="o">:</span> <span class="kc">true</span><span class="p">}];</span>
    <span class="kd">function</span> <span class="nx">completed</span><span class="p">(</span><span class="nx">items</span><span class="p">,</span> <span class="nx">findResult</span><span class="p">){</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
            <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">store</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="s2">&quot;uniqueId&quot;</span><span class="p">);</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Item ID: [&quot;</span> <span class="o">+</span> <span class="nx">store</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="s2">&quot;uniqueId&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;] with status: [&quot;</span> <span class="o">+</span> <span class="nx">store</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="s2">&quot;status&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">error</span><span class="p">(</span><span class="nx">errData</span><span class="p">,</span> <span class="nx">request</span><span class="p">){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Failed in sorting data.&quot;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Invoke the fetch.</span>
    <span class="nx">store</span><span class="p">.</span><span class="nx">fetch</span><span class="p">({</span><span class="nx">onComplete</span><span class="o">:</span> <span class="nx">completed</span><span class="p">,</span> <span class="nx">onError</span><span class="o">:</span> <span class="nx">error</span><span class="p">,</span> <span class="nx">sort</span><span class="o">:</span> <span class="nx">sortAttributes</span><span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/data/ItemFileReadStore&quot;], function(ItemFileReadStore){
    var store = new ItemFileReadStore({data: { identifier: &quot;uniqueId&quot;,
        items: [ {uniqueId: 1, status:&quot;CLOSED&quot;},
            {uniqueId: 2,  status:&quot;OPEN&quot;},
            {uniqueId: 3,  status:&quot;PENDING&quot;},
            {uniqueId: 4,  status:&quot;BLOCKED&quot;},
            {uniqueId: 5,  status:&quot;CLOSED&quot;},
            {uniqueId: 6,  status:&quot;OPEN&quot;},
            {uniqueId: 7,  status:&quot;PENDING&quot;},
            {uniqueId: 8,  status:&quot;PENDING&quot;},
            {uniqueId: 10, status:&quot;BLOCKED&quot;},
            {uniqueId: 12, status:&quot;BLOCKED&quot;},
            {uniqueId: 11, status:&quot;OPEN&quot;},
            {uniqueId: 9,  status:&quot;CLOSED&quot;}
        ]
    }});

    // Define the comparator function for status.
    store.comparatorMap = {};
    store.comparatorMap[&quot;status&quot;] = function(a, b){
        var ret = 0;
        // We want to map these by what the priority of these items are, not by alphabetical.
        // So, custom comparator.
        var enumMap = { OPEN: 3, BLOCKED: 2, PENDING: 1, CLOSED: 0};
        if(enumMap[a] &gt; enumMap[b]){
            ret = 1;
        }
        if(enumMap[a] &lt; enumMap[b]){
            ret = -1;
        }
        return ret;
    };

    var sortAttributes = [{attribute: &quot;status&quot;, descending: true}, { attribute: &quot;uniqueId&quot;, descending: true}];
    function completed(items, findResult){
        for(var i = 0; i &lt; items.length; i++){
            var value = store.getValue(items[i], &quot;uniqueId&quot;);
            console.log(&quot;Item ID: [&quot; + store.getValue(items[i], &quot;uniqueId&quot;) + &quot;] with status: [&quot; + store.getValue(items[i], &quot;status&quot;) + &quot;]&quot;);
        }
    }
    function error(errData, request){
        console.log(&quot;Failed in sorting data.&quot;);
    }

    // Invoke the fetch.
    store.fetch({onComplete: completed, onError: error, sort: sortAttributes});
});</textarea></div></div></div></div>
<div class="section" id="query-syntax">
<h2><a class="toc-backref" href="#id9">Query Syntax</a><a class="headerlink" href="#query-syntax" title="Permalink to this headline">¶</a></h2>
<p>The fetch method query syntax for ItemFileReadStore is simple and straightforward. It allows a list of attributes to match against in an AND fashion. For example, a query object to locate all items with attribute foo that has value bar and attribute bit that has value bite, would look like</p>
<div class="highlight"><pre><span class="p">{</span> <span class="nx">foo</span><span class="o">:</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="nx">bit</span><span class="o">:</span><span class="s2">&quot;bite&quot;</span><span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{ foo:&quot;bar&quot;, bit:&quot;bite&quot;}</textarea></div><p>Okay, easy. Now what if I want to do a fuzzy match of items?  Can this be done?   Yes. ItemFileReadStore supports wildcard matching. Specifically, it supports multi-character * and single character ? as wildcards in attribute value queries.</p>
<p><strong>NOTE:</strong>  As of The dojo Toolkit 1.4, a RegularExpression object can also be passed as a query on an attribute.  This is not dojo.data.api specified, but a feature specific to ItemFileReadStore.   Do not expect other stores to implement it.  Some may, some may not.  Always refer to their documentation on their query syntax.</p>
<div class="highlight"><pre><span class="p">{</span> <span class="nx">foo</span><span class="o">:</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">&quot;/^bar$/&quot;</span><span class="p">),</span> <span class="nx">bit</span><span class="o">:</span><span class="sr">/^bite$/</span><span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{ foo:new RegExp(&quot;/^bar$/&quot;), bit:/^bite$/}</textarea></div></div>
<div class="section" id="query-examples">
<h2><a class="toc-backref" href="#id10">Query Examples</a><a class="headerlink" href="#query-examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="match-items-with-multi-character-wildcard">
<h3>Match items with multi-character wildcard<a class="headerlink" href="#match-items-with-multi-character-wildcard" title="Permalink to this headline">¶</a></h3>
<p><em>Matching attribute foo that has a value starting with bar</em></p>
<div class="highlight"><pre><span class="p">{</span> <span class="nx">foo</span><span class="o">:</span><span class="s2">&quot;bar*&quot;</span><span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{ foo:&quot;bar*&quot;}</textarea></div></div>
<div class="section" id="match-items-with-single-character-wildcard">
<h3>Match items with single character wildcard<a class="headerlink" href="#match-items-with-single-character-wildcard" title="Permalink to this headline">¶</a></h3>
<p><em>Matching attribute foo the value of which ends with ar and starts with any character.</em></p>
<div class="highlight"><pre><span class="p">{</span> <span class="nx">foo</span><span class="o">:</span><span class="s2">&quot;?ar&quot;</span><span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{ foo:&quot;?ar&quot;}</textarea></div></div>
<div class="section" id="match-items-on-multiple-attributes">
<h3>Match items on multiple attributes<a class="headerlink" href="#match-items-on-multiple-attributes" title="Permalink to this headline">¶</a></h3>
<p><em>Matching multiple attributes with various wildcards.</em></p>
<div class="highlight"><pre><span class="p">{</span> <span class="nx">foo</span><span class="o">:</span><span class="s2">&quot;?ar&quot;</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span><span class="s2">&quot;bob&quot;</span><span class="p">,</span> <span class="nx">bit</span><span class="o">:</span><span class="s2">&quot;*it*&quot;</span><span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{ foo:&quot;?ar&quot;, bar:&quot;bob&quot;, bit:&quot;*it*&quot;}</textarea></div></div>
</div>
<div class="section" id="query-options">
<h2><a class="toc-backref" href="#id11">Query Options</a><a class="headerlink" href="#query-options" title="Permalink to this headline">¶</a></h2>
<p>Dojo.data defines support for a &#8216;queryOptions&#8217; modifier object that affects the behavior of the query. The two defined options listed by the API are <em>ignoreCase</em> and <em>deep</em>. ItemFileReadStore supports these options. The affect of these options on a query is defined below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Option</strong></td>
<td><strong>Result</strong></td>
</tr>
<tr class="row-even"><td>ignoreCase</td>
<td>The default is <strong>false</strong>. When set to true, the match on attributes is done in a case-insensitive fashion. This means
with ignoreCase: true, a query of A* would match <em>Apple</em> and <em>acorn</em></td>
</tr>
<tr class="row-odd"><td>deep</td>
<td>This option affects searching when the structure passed to ItemFileReadStore has hierarchy. For an example of that,
refer to <em>Item Structure Example: Items with Hierarchy</em>. the default value for this option is <strong>false</strong>, which means the
query is only applied against root items in the tree of data items. If it is set to true, then the query is applied to
root items and <em>all</em> child data items. Think of it as a recursive search.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="usage-examples">
<h2><a class="toc-backref" href="#id12">Usage Examples</a><a class="headerlink" href="#usage-examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="how-many-items-are-in-my-store">
<h3>How many items are in my store?<a class="headerlink" href="#how-many-items-are-in-my-store" title="Permalink to this headline">¶</a></h3>
<p>There is no simple method call to return the number of items, and without digging into private variables (which one should never do) you have to do something like the following:</p>
<div class="highlight"><pre><span class="nx">store</span><span class="p">.</span><span class="nx">fetch</span><span class="p">({</span> <span class="nx">onBegin</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">total</span><span class="p">){</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;There are &quot;</span><span class="p">,</span> <span class="nx">total</span><span class="p">,</span> <span class="s2">&quot; items in this store.&quot;</span><span class="p">);</span> <span class="p">}</span> <span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">store.fetch({ onBegin: function(total){ console.log(&quot;There are &quot;, total, &quot; items in this store.&quot;); } });</textarea></div></div>
<div class="section" id="connecting-itemfilereadstore-to-combobox">
<h3>Connecting ItemFileReadStore to ComboBox<a class="headerlink" href="#connecting-itemfilereadstore-to-combobox" title="Permalink to this headline">¶</a></h3>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/data/ItemFileReadStore&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/ComboBox&quot;</span><span class="p">]);</span>

<span class="kd">var</span> <span class="nx">storeData2</span> <span class="o">=</span> <span class="p">{</span><span class="nx">identifier</span><span class="o">:</span> <span class="s1">&#39;abbr&#39;</span><span class="p">,</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
    <span class="nx">items</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;ec&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Ecuador&#39;</span><span class="p">,</span>           <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Quito&#39;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;eg&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Egypt&#39;</span><span class="p">,</span>             <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Cairo&#39;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;sv&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;El Salvador&#39;</span><span class="p">,</span>       <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;San Salvador&#39;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;gq&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Equatorial Guinea&#39;</span><span class="p">,</span> <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Malabo&#39;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;er&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Eritrea&#39;</span><span class="p">,</span>           <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Asmara&#39;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;ee&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Estonia&#39;</span><span class="p">,</span>           <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Tallinn&#39;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;et&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Ethiopia&#39;</span><span class="p">,</span>          <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Addis Ababa&#39;</span><span class="p">}</span>
<span class="p">]};</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;, &quot;dojo/data/ItemFileReadStore&quot;, &quot;dijit/form/ComboBox&quot;]);

var storeData2 = {identifier: 'abbr',
    label: 'name',
    items: [
        {abbr:'ec', name:'Ecuador',           capital:'Quito'},
        {abbr:'eg', name:'Egypt',             capital:'Cairo'},
        {abbr:'sv', name:'El Salvador',       capital:'San Salvador'},
        {abbr:'gq', name:'Equatorial Guinea', capital:'Malabo'},
        {abbr:'er', name:'Eritrea',           capital:'Asmara'},
        {abbr:'ee', name:'Estonia',           capital:'Tallinn'},
        {abbr:'et', name:'Ethiopia',          capital:'Addis Ababa'}
]};</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dojo/data/ItemFileReadStore&quot;</span> <span class="na">data-dojo-props=</span><span class="s">&quot;data:storeData2&quot;</span> <span class="na">data-dojo-id=</span><span class="s">&quot;countryStore&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/ComboBox&quot;</span> <span class="na">data-dojo-props=</span><span class="s">&quot;store:countryStore, searchAttr:&#39;name&#39;&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=&quot;dojo/data/ItemFileReadStore&quot; data-dojo-props=&quot;data:storeData2&quot; data-dojo-id=&quot;countryStore&quot;&gt;&lt;/div&gt;
&lt;div data-dojo-type=&quot;dijit/form/ComboBox&quot; data-dojo-props=&quot;store:countryStore, searchAttr:'name'&quot;&gt;&lt;/div&gt;</textarea></div></div></div></div>
<div class="section" id="searching-for-all-continents">
<h3>Searching for all continents<a class="headerlink" href="#searching-for-all-continents" title="Permalink to this headline">¶</a></h3>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">geoData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;identifier&#39;</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
    <span class="s1">&#39;label&#39;</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
    <span class="s1">&#39;items&#39;</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Africa&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[</span>
            <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Egypt&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
            <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Kenya&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[</span>
                <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Nairobi&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span> <span class="p">},</span>
                <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Mombasa&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span> <span class="p">}</span> <span class="p">]</span>
            <span class="p">},</span>
            <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Sudan&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span>
                <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Khartoum&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span> <span class="p">}</span>
            <span class="p">}</span> <span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Asia&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[</span>
            <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;China&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;India&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Russia&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Mongolia&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">}</span> <span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Australia&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;21 million&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span>
            <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Commonwealth of Australia&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;21 million&#39;</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Europe&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[</span>
            <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Germany&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;France&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Spain&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Italy&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">}</span> <span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;North America&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[</span>
            <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Mexico&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span>  <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;108 million&#39;</span><span class="p">,</span> <span class="s1">&#39;area&#39;</span><span class="o">:</span><span class="s1">&#39;1,972,550 sq km&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[</span>
                <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Mexico City&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;19 million&#39;</span><span class="p">,</span> <span class="s1">&#39;timezone&#39;</span><span class="o">:</span><span class="s1">&#39;-6 UTC&#39;</span><span class="p">},</span>
                <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Guadalajara&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;4 million&#39;</span><span class="p">,</span> <span class="s1">&#39;timezone&#39;</span><span class="o">:</span><span class="s1">&#39;-6 UTC&#39;</span> <span class="p">}</span> <span class="p">]</span>
            <span class="p">},</span>
            <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Canada&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;33 million&#39;</span><span class="p">,</span> <span class="s1">&#39;area&#39;</span><span class="o">:</span><span class="s1">&#39;9,984,670 sq km&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="o">:</span><span class="p">[</span>
                <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Ottawa&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;0.9 million&#39;</span><span class="p">,</span> <span class="s1">&#39;timezone&#39;</span><span class="o">:</span><span class="s1">&#39;-5 UTC&#39;</span><span class="p">},</span>
                <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Toronto&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;2.5 million&#39;</span><span class="p">,</span> <span class="s1">&#39;timezone&#39;</span><span class="o">:</span><span class="s1">&#39;-5 UTC&#39;</span> <span class="p">}]</span>
            <span class="p">},</span>
            <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;United States of America&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">}</span> <span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;South America&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span><span class="p">[</span>
            <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Brazil&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;186 million&#39;</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="s1">&#39;Argentina&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="o">:</span><span class="s1">&#39;40 million&#39;</span> <span class="p">}</span> <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">};</span>

<span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/data/ItemFileReadStore&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/on&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/Button&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/parser&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ready</span><span class="p">,</span> <span class="nx">ItemFileReadStore</span><span class="p">,</span> <span class="nx">dom</span><span class="p">,</span> <span class="nx">on</span><span class="p">){</span>
    <span class="c1">// This function performs some basic dojo initialization. In this case it connects the button</span>
    <span class="c1">// onClick to a function which invokes the fetch(). The fetch function queries for all items</span>
    <span class="c1">// and provides callbacks to use for completion of data retrieval or reporting of errors.</span>
    <span class="c1">// Set the init function to run when dojo loading and page parsing has completed.</span>
    <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="c1">// Function to perform a fetch on the datastore when a button is clicked</span>
        <span class="kd">function</span> <span class="nx">getContinents</span><span class="p">(){</span>

            <span class="c1">// Callback to perform an action when the data items are starting to be returned:</span>
            <span class="kd">function</span> <span class="nx">clearOldCList</span><span class="p">(</span><span class="nx">size</span><span class="p">,</span> <span class="nx">request</span><span class="p">){</span>
                <span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;list2&quot;</span><span class="p">);</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">list</span><span class="p">){</span>
                    <span class="k">while</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">){</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="c1">// Callback for processing a returned list of items.</span>
            <span class="kd">function</span> <span class="nx">gotContinents</span><span class="p">(</span><span class="nx">items</span><span class="p">,</span> <span class="nx">request</span><span class="p">){</span>
                <span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;list2&quot;</span><span class="p">);</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">list</span><span class="p">){</span>
                    <span class="kd">var</span> <span class="nx">i</span><span class="p">;</span>
                    <span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
                        <span class="kd">var</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">geoStore</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">)));</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;br&quot;</span><span class="p">));</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="c1">// Callback for if the lookup fails.</span>
            <span class="kd">function</span> <span class="nx">fetchFailed</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">request</span><span class="p">){</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;lookup failed.&quot;</span><span class="p">);</span>
                <span class="nx">alert</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="c1">// Fetch the data.</span>
            <span class="nx">geoStore</span><span class="p">.</span><span class="nx">fetch</span><span class="p">({</span><span class="nx">query</span><span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;continent&quot;</span><span class="p">},</span> <span class="nx">onBegin</span><span class="o">:</span> <span class="nx">clearOldCList</span><span class="p">,</span> <span class="nx">onComplete</span><span class="o">:</span> <span class="nx">gotContinents</span><span class="p">,</span> <span class="nx">onError</span><span class="o">:</span> <span class="nx">fetchFailed</span><span class="p">,</span> <span class="nx">queryOptions</span><span class="o">:</span> <span class="p">{</span><span class="nx">deep</span><span class="o">:</span><span class="kc">true</span><span class="p">}});</span>
        <span class="p">}</span>
        <span class="c1">// Link the click event of the button to driving the fetch.</span>
        <span class="nx">on</span><span class="p">(</span><span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;button2&quot;</span><span class="p">),</span> <span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="nx">getContinents</span> <span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">var geoData = {
    'identifier': 'name',
    'label': 'name',
    'items': [
        {'name':'Africa', 'type':'continent', 'children':[
            {'name':'Egypt', 'type':'country' },
            {'name':'Kenya', 'type':'country', 'children':[
                {'name':'Nairobi', 'type':'city' },
                {'name':'Mombasa', 'type':'city' } ]
            },
            { 'name':'Sudan', 'type':'country', 'children':
                { 'name':'Khartoum', 'type':'city' }
            } ]
        },
        { 'name':'Asia', 'type':'continent', 'children':[
            { 'name':'China', 'type':'country' },
            { 'name':'India', 'type':'country' },
            { 'name':'Russia', 'type':'country' },
            { 'name':'Mongolia', 'type':'country' } ]
        },
        { 'name':'Australia', 'type':'continent', 'population':'21 million', 'children':
            { 'name':'Commonwealth of Australia', 'type':'country', 'population':'21 million'}
        },
        { 'name':'Europe', 'type':'continent', 'children':[
            { 'name':'Germany', 'type':'country' },
            { 'name':'France', 'type':'country' },
            { 'name':'Spain', 'type':'country' },
            { 'name':'Italy', 'type':'country' } ]
        },
        { 'name':'North America', 'type':'continent', 'children':[
            { 'name':'Mexico', 'type':'country',  'population':'108 million', 'area':'1,972,550 sq km', 'children':[
                { 'name':'Mexico City', 'type':'city', 'population':'19 million', 'timezone':'-6 UTC'},
                { 'name':'Guadalajara', 'type':'city', 'population':'4 million', 'timezone':'-6 UTC' } ]
            },
            { 'name':'Canada', 'type':'country', 'population':'33 million', 'area':'9,984,670 sq km', 'children':[
                { 'name':'Ottawa', 'type':'city', 'population':'0.9 million', 'timezone':'-5 UTC'},
                { 'name':'Toronto', 'type':'city', 'population':'2.5 million', 'timezone':'-5 UTC' }]
            },
            { 'name':'United States of America', 'type':'country' } ]
        },
        { 'name':'South America', 'type':'continent', children:[
            { 'name':'Brazil', 'type':'country', 'population':'186 million' },
            { 'name':'Argentina', 'type':'country', 'population':'40 million' } ]
        }
    ]
};

require([&quot;dojo/ready&quot;, &quot;dojo/data/ItemFileReadStore&quot;, &quot;dojo/dom&quot;, &quot;dojo/on&quot;, &quot;dijit/form/Button&quot;, &quot;dojo/parser&quot;], function(ready, ItemFileReadStore, dom, on){
    // This function performs some basic dojo initialization. In this case it connects the button
    // onClick to a function which invokes the fetch(). The fetch function queries for all items
    // and provides callbacks to use for completion of data retrieval or reporting of errors.
    // Set the init function to run when dojo loading and page parsing has completed.
    ready(function(){
        // Function to perform a fetch on the datastore when a button is clicked
        function getContinents(){

            // Callback to perform an action when the data items are starting to be returned:
            function clearOldCList(size, request){
                var list = dom.byId(&quot;list2&quot;);
                if(list){
                    while(list.firstChild){
                        list.removeChild(list.firstChild);
                    }
                }
            }

            // Callback for processing a returned list of items.
            function gotContinents(items, request){
                var list = dom.byId(&quot;list2&quot;);
                if(list){
                    var i;
                    for(i = 0; i &lt; items.length; i++){
                        var item = items[i];
                        list.appendChild(document.createTextNode(geoStore.getValue(item, &quot;name&quot;)));
                        list.appendChild(document.createElement(&quot;br&quot;));
                    }
                }
            }

            // Callback for if the lookup fails.
            function fetchFailed(error, request){
                alert(&quot;lookup failed.&quot;);
                alert(error);
            }

            // Fetch the data.
            geoStore.fetch({query: { type: &quot;continent&quot;}, onBegin: clearOldCList, onComplete: gotContinents, onError: fetchFailed, queryOptions: {deep:true}});
        }
        // Link the click event of the button to driving the fetch.
        on(dom.byId(&quot;button2&quot;), &quot;click&quot;, getContinents );
    });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dojo/data/ItemFileReadStore&quot;</span> <span class="na">data-dojo-props=</span><span class="s">&quot;data:geoData&quot;</span> <span class="na">data-dojo-id=</span><span class="s">&quot;geoStore&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/Button&quot;</span> <span class="na">id=</span><span class="s">&quot;button2&quot;</span><span class="nt">&gt;</span>Find continents!<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;list2&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=&quot;dojo/data/ItemFileReadStore&quot; data-dojo-props=&quot;data:geoData&quot; data-dojo-id=&quot;geoStore&quot;&gt;&lt;/div&gt;
&lt;div data-dojo-type=&quot;dijit/form/Button&quot; id=&quot;button2&quot;&gt;Find continents!&lt;/div&gt;
&lt;div id=&quot;list2&quot;&gt;&lt;/div&gt;</textarea></div></div></div></div>
<div class="section" id="doing-wildcard-searches-and-option-setting">
<h3>Doing wildcard searches and option setting<a class="headerlink" href="#doing-wildcard-searches-and-option-setting" title="Permalink to this headline">¶</a></h3>
<p><em>Wildcards * and ? are supported by the dojo.data.ItemFileReadStore:</em></p>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">storeData3</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">identifier</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
    <span class="nx">items</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Adobo&#39;</span><span class="p">,</span> <span class="nx">aisle</span><span class="o">:</span> <span class="s1">&#39;Mexican&#39;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="mf">3.01</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Balsamic vinegar&#39;</span><span class="p">,</span> <span class="nx">aisle</span><span class="o">:</span> <span class="s1">&#39;Condiments&#39;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="mf">4.01</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Basil&#39;</span><span class="p">,</span> <span class="nx">aisle</span><span class="o">:</span> <span class="s1">&#39;Spices&#39;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="mf">3.59</span>  <span class="p">},</span>
        <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Bay leaf&#39;</span><span class="p">,</span> <span class="nx">aisle</span><span class="o">:</span> <span class="s1">&#39;Spices&#39;</span><span class="p">,</span>  <span class="nx">price</span><span class="o">:</span> <span class="mf">2.01</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Beef Bouillon Granules&#39;</span><span class="p">,</span> <span class="nx">aisle</span><span class="o">:</span> <span class="s1">&#39;Soup&#39;</span><span class="p">,</span>  <span class="nx">price</span><span class="o">:</span> <span class="mf">5.01</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Vinegar&#39;</span><span class="p">,</span> <span class="nx">aisle</span><span class="o">:</span> <span class="s1">&#39;Condiments&#39;</span><span class="p">,</span>  <span class="nx">price</span><span class="o">:</span> <span class="mf">1.99</span>  <span class="p">},</span>
        <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;White cooking wine&#39;</span><span class="p">,</span> <span class="nx">aisle</span><span class="o">:</span> <span class="s1">&#39;Condiments&#39;</span><span class="p">,</span>  <span class="nx">price</span><span class="o">:</span> <span class="mf">2.01</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Worcestershire Sauce&#39;</span><span class="p">,</span> <span class="nx">aisle</span><span class="o">:</span> <span class="s1">&#39;Condiments&#39;</span><span class="p">,</span>  <span class="nx">price</span><span class="o">:</span> <span class="mf">3.99</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;white pepper&#39;</span><span class="p">,</span> <span class="nx">aisle</span><span class="o">:</span> <span class="s1">&#39;Spices&#39;</span><span class="p">,</span>  <span class="nx">price</span><span class="o">:</span> <span class="mf">1.01</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Black Pepper&#39;</span><span class="p">,</span> <span class="nx">aisle</span><span class="o">:</span> <span class="s1">&#39;Spices&#39;</span><span class="p">,</span>  <span class="nx">price</span><span class="o">:</span> <span class="mf">1.01</span> <span class="p">}</span>
<span class="p">]};</span>

<span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/lang&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/json&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/on&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/data/ItemFileReadStore&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/Button&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/TextBox&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/CheckBox&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/parser&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ready</span><span class="p">,</span> <span class="nx">dom</span><span class="p">,</span> <span class="nx">lang</span><span class="p">,</span> <span class="nx">json</span><span class="p">,</span> <span class="nx">on</span><span class="p">){</span>
    <span class="c1">// This function performs some basic dojo initialization. In this case it connects the button</span>
    <span class="c1">// onClick to a function which invokes the fetch(). The fetch function queries for all items</span>
    <span class="c1">// and provides callbacks to use for completion of data retrieval or reporting of errors.</span>
    <span class="c1">// Set the init function to run when dojo loading and page parsing has completed.</span>
    <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="c1">// Function to perform a fetch on the datastore when a button is clicked</span>
        <span class="kd">function</span> <span class="nx">search</span><span class="p">(){</span>
            <span class="kd">var</span> <span class="nx">queryObj</span> <span class="o">=</span> <span class="p">{};</span>

            <span class="c1">// Build up the query from the input boxes.</span>
            <span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">nameBox</span><span class="p">.</span><span class="nx">getValue</span><span class="p">();</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">name</span> <span class="o">&amp;&amp;</span> <span class="nx">lang</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="o">!==</span> <span class="s2">&quot;&quot;</span> <span class="p">){</span>
                <span class="nx">queryObj</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="kd">var</span> <span class="nx">aisle</span> <span class="o">=</span> <span class="nx">aisleBox</span><span class="p">.</span><span class="nx">getValue</span><span class="p">();</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">aisle</span> <span class="o">&amp;&amp;</span> <span class="nx">lang</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">aisle</span><span class="p">)</span> <span class="o">!==</span> <span class="s2">&quot;&quot;</span> <span class="p">){</span>
                <span class="nx">queryObj</span><span class="p">[</span><span class="s2">&quot;aisle&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">aisle</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="kd">var</span> <span class="nx">qNode</span> <span class="o">=</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">qNode</span> <span class="p">){</span>
                <span class="nx">qNode</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">dojo</span><span class="p">.</span><span class="nx">toJson</span><span class="p">(</span><span class="nx">queryObj</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="c1">// Build up query options, if any.</span>
            <span class="kd">var</span> <span class="nx">queryOptionsObj</span> <span class="o">=</span> <span class="p">{};</span>

            <span class="k">if</span><span class="p">(</span> <span class="nx">checkBox</span><span class="p">.</span><span class="nx">getValue</span><span class="p">()){</span>
                <span class="nx">queryOptionsObj</span><span class="p">[</span><span class="s2">&quot;ignoreCase&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="kd">var</span> <span class="nx">qoNode</span> <span class="o">=</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;queryOptions&quot;</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">qoNode</span> <span class="p">){</span>
                <span class="nx">qoNode</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">json</span><span class="p">.</span><span class="nx">toJson</span><span class="p">(</span><span class="nx">queryOptionsObj</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="c1">// Callback to perform an action when the data items are starting to be returned:</span>
            <span class="kd">function</span> <span class="nx">clearOldList</span><span class="p">(</span><span class="nx">size</span><span class="p">,</span> <span class="nx">request</span><span class="p">){</span>
                <span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;list3&quot;</span><span class="p">);</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">list</span><span class="p">){</span>
                    <span class="k">while</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">){</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="c1">// Callback for processing a returned list of items.</span>
            <span class="kd">function</span> <span class="nx">gotItems</span><span class="p">(</span><span class="nx">items</span><span class="p">,</span> <span class="nx">request</span><span class="p">){</span>
                <span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;list3&quot;</span><span class="p">);</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">list</span><span class="p">){</span>
                    <span class="kd">var</span> <span class="nx">i</span><span class="p">;</span>
                    <span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
                        <span class="kd">var</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">foodStore3</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">)));</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;br&quot;</span><span class="p">));</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="c1">// Callback for if the lookup fails.</span>
            <span class="kd">function</span> <span class="nx">fetchFailed</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">request</span><span class="p">){</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;lookup failed.&quot;</span><span class="p">);</span>
                <span class="nx">alert</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="c1">// Fetch the data.</span>
            <span class="nx">foodStore3</span><span class="p">.</span><span class="nx">fetch</span><span class="p">({</span><span class="nx">query</span><span class="o">:</span> <span class="nx">queryObj</span><span class="p">,</span> <span class="nx">queryOptions</span><span class="o">:</span> <span class="nx">queryOptionsObj</span><span class="p">,</span> <span class="nx">onBegin</span><span class="o">:</span> <span class="nx">clearOldList</span><span class="p">,</span> <span class="nx">onComplete</span><span class="o">:</span> <span class="nx">gotItems</span><span class="p">,</span> <span class="nx">onError</span><span class="o">:</span> <span class="nx">fetchFailed</span><span class="p">});</span>
        <span class="p">}</span>
        <span class="c1">// Link the click event of the button to driving the fetch.</span>
        <span class="nx">on</span><span class="p">(</span><span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;myButton&quot;</span><span class="p">),</span> <span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="nx">search</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">var storeData3 = { identifier: 'name',
    items: [
        { name: 'Adobo', aisle: 'Mexican', price: 3.01 },
        { name: 'Balsamic vinegar', aisle: 'Condiments', price: 4.01 },
        { name: 'Basil', aisle: 'Spices', price: 3.59  },
        { name: 'Bay leaf', aisle: 'Spices',  price: 2.01 },
        { name: 'Beef Bouillon Granules', aisle: 'Soup',  price: 5.01 },
        { name: 'Vinegar', aisle: 'Condiments',  price: 1.99  },
        { name: 'White cooking wine', aisle: 'Condiments',  price: 2.01 },
        { name: 'Worcestershire Sauce', aisle: 'Condiments',  price: 3.99 },
        { name: 'white pepper', aisle: 'Spices',  price: 1.01 },
        { name: 'Black Pepper', aisle: 'Spices',  price: 1.01 }
]};

require([&quot;dojo/ready&quot;, &quot;dojo/dom&quot;, &quot;dojo/_base/lang&quot;, &quot;dojo/_base/json&quot;, &quot;dojo/on&quot;, &quot;dojo/data/ItemFileReadStore&quot;, &quot;dijit/form/Button&quot;, &quot;dijit/form/TextBox&quot;, &quot;dijit/form/CheckBox&quot;, &quot;dojo/parser&quot;], function(ready, dom, lang, json, on){
    // This function performs some basic dojo initialization. In this case it connects the button
    // onClick to a function which invokes the fetch(). The fetch function queries for all items
    // and provides callbacks to use for completion of data retrieval or reporting of errors.
    // Set the init function to run when dojo loading and page parsing has completed.
    ready(function(){
        // Function to perform a fetch on the datastore when a button is clicked
        function search(){
            var queryObj = {};

            // Build up the query from the input boxes.
            var name = nameBox.getValue();
            if( name &amp;&amp; lang.trim(name) !== &quot;&quot; ){
                queryObj[&quot;name&quot;] = name;
            }
            var aisle = aisleBox.getValue();
            if( aisle &amp;&amp; lang.trim(aisle) !== &quot;&quot; ){
                queryObj[&quot;aisle&quot;] = aisle;
            }

            var qNode = dom.byId(&quot;query&quot;);
            if(qNode ){
                qNode.innerHTML = dojo.toJson(queryObj);
            }

            // Build up query options, if any.
            var queryOptionsObj = {};

            if( checkBox.getValue()){
                queryOptionsObj[&quot;ignoreCase&quot;] = true;
            }

            var qoNode = dom.byId(&quot;queryOptions&quot;);
            if(qoNode ){
                qoNode.innerHTML = json.toJson(queryOptionsObj);
            }

            // Callback to perform an action when the data items are starting to be returned:
            function clearOldList(size, request){
                var list = dom.byId(&quot;list3&quot;);
                if(list){
                    while(list.firstChild){
                        list.removeChild(list.firstChild);
                    }
                }
            }

            // Callback for processing a returned list of items.
            function gotItems(items, request){
                var list = dom.byId(&quot;list3&quot;);
                if(list){
                    var i;
                    for(i = 0; i &lt; items.length; i++){
                        var item = items[i];
                        list.appendChild(document.createTextNode(foodStore3.getValue(item, &quot;name&quot;)));
                        list.appendChild(document.createElement(&quot;br&quot;));
                    }
                }
            }

            // Callback for if the lookup fails.
            function fetchFailed(error, request){
                alert(&quot;lookup failed.&quot;);
                alert(error);
            }

            // Fetch the data.
            foodStore3.fetch({query: queryObj, queryOptions: queryOptionsObj, onBegin: clearOldList, onComplete: gotItems, onError: fetchFailed});
        }
        // Link the click event of the button to driving the fetch.
        on(dom.byId(&quot;myButton&quot;), &quot;click&quot;, search);
    });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;b&gt;</span>Name: <span class="nt">&lt;/b&gt;&lt;input</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/TextBox&quot;</span> <span class="na">data-dojo-id=</span><span class="s">&quot;nameBox&quot;</span> <span class="na">value=</span><span class="s">&quot;*&quot;</span> <span class="nt">/&gt;&lt;br</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;b&gt;</span>Aisle: <span class="nt">&lt;/b&gt;&lt;input</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/TextBox&quot;</span> <span class="na">data-dojo-id=</span><span class="s">&quot;aisleBox&quot;</span> <span class="na">value=</span><span class="s">&quot;*&quot;</span> <span class="nt">/&gt;&lt;br</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;b&gt;</span>Case Insensitive: <span class="nt">&lt;/b&gt;&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/CheckBox&quot;</span> <span class="na">checked=</span><span class="s">&quot;false&quot;</span> <span class="na">data-dojo-id=</span><span class="s">&quot;checkBox&quot;</span><span class="nt">&gt;&lt;/div&gt;&lt;br</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dojo/data/ItemFileReadStore&quot;</span> <span class="na">data-dojo-props=</span><span class="s">&quot;data:storeData3&quot;</span> <span class="na">data-dojo-id=</span><span class="s">&quot;foodStore3&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/Button&quot;</span> <span class="na">id=</span><span class="s">&quot;myButton&quot;</span><span class="nt">&gt;</span>Click to search!<span class="nt">&lt;/div&gt;&lt;br</span> <span class="nt">/&gt;&lt;br</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;b&gt;</span>Query used: <span class="nt">&lt;/b&gt;&lt;span</span> <span class="na">id=</span><span class="s">&quot;query&quot;</span><span class="nt">&gt;&lt;/span&gt;&lt;br</span> <span class="nt">/&gt;&lt;br</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;b&gt;</span>Query Options used: <span class="nt">&lt;/b&gt;&lt;span</span> <span class="na">id=</span><span class="s">&quot;queryOptions&quot;</span><span class="nt">&gt;&lt;/span&gt;&lt;br</span> <span class="nt">/&gt;&lt;br</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;b&gt;</span>Items located:<span class="nt">&lt;/b&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;list3&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;b&gt;Name: &lt;/b&gt;&lt;input data-dojo-type=&quot;dijit/form/TextBox&quot; data-dojo-id=&quot;nameBox&quot; value=&quot;*&quot; /&gt;&lt;br /&gt;
&lt;b&gt;Aisle: &lt;/b&gt;&lt;input data-dojo-type=&quot;dijit/form/TextBox&quot; data-dojo-id=&quot;aisleBox&quot; value=&quot;*&quot; /&gt;&lt;br /&gt;
&lt;b&gt;Case Insensitive: &lt;/b&gt;&lt;div data-dojo-type=&quot;dijit/form/CheckBox&quot; checked=&quot;false&quot; data-dojo-id=&quot;checkBox&quot;&gt;&lt;/div&gt;&lt;br /&gt;
&lt;div data-dojo-type=&quot;dojo/data/ItemFileReadStore&quot; data-dojo-props=&quot;data:storeData3&quot; data-dojo-id=&quot;foodStore3&quot;&gt;&lt;/div&gt;
&lt;div data-dojo-type=&quot;dijit/form/Button&quot; id=&quot;myButton&quot;&gt;Click to search!&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;
&lt;b&gt;Query used: &lt;/b&gt;&lt;span id=&quot;query&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;
&lt;b&gt;Query Options used: &lt;/b&gt;&lt;span id=&quot;queryOptions&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;
&lt;b&gt;Items located:&lt;/b&gt;
&lt;div id=&quot;list3&quot;&gt;&lt;/div&gt;</textarea></div></div></div></div>
<div class="section" id="demonstrating-custom-sorting">
<h3>Demonstrating custom sorting<a class="headerlink" href="#demonstrating-custom-sorting" title="Permalink to this headline">¶</a></h3>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">sortData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">identifier</span><span class="o">:</span> <span class="s2">&quot;uniqueId&quot;</span><span class="p">,</span>
    <span class="nx">items</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;CLOSED&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>  <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;OPEN&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>  <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;PENDING&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span>  <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;BLOCKED&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>  <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;CLOSED&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">6</span><span class="p">,</span>  <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;OPEN&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">7</span><span class="p">,</span>  <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;PENDING&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">8</span><span class="p">,</span>  <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;PENDING&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;BLOCKED&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">12</span><span class="p">,</span> <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;BLOCKED&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">11</span><span class="p">,</span> <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;OPEN&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">uniqueId</span><span class="o">:</span> <span class="mi">9</span><span class="p">,</span>  <span class="nx">status</span><span class="o">:</span><span class="s2">&quot;CLOSED&quot;</span><span class="p">}</span>
    <span class="p">]</span>
<span class="p">};</span>

<span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/on&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/data/ItemFileReadStore&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/Button&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/parser&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ready</span><span class="p">,</span> <span class="nx">dom</span><span class="p">,</span> <span class="nx">on</span><span class="p">){</span>
    <span class="c1">// This function performs some basic dojo initialization. In this case it connects the button</span>
    <span class="c1">// onClick to a function which invokes the fetch(). The fetch function queries for all items</span>
    <span class="c1">// and provides callbacks to use for completion of data retrieval or reporting of errors.</span>
    <span class="c1">// Set the init function to run when dojo loading and page parsing has completed.</span>
    <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="c1">// Define the comparator function for status.</span>
        <span class="nx">sortStore</span><span class="p">.</span><span class="nx">comparatorMap</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="nx">sortStore</span><span class="p">.</span><span class="nx">comparatorMap</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">){</span>
            <span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="c1">// We want to map these by what the priority of these items are, not by alphabetical.</span>
            <span class="c1">// So, custom comparator.</span>
            <span class="kd">var</span> <span class="nx">enumMap</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">OPEN</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">BLOCKED</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">PENDING</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">CLOSED</span><span class="o">:</span> <span class="mi">0</span><span class="p">};</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">enumMap</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span> <span class="o">&gt;</span> <span class="nx">enumMap</span><span class="p">[</span><span class="nx">b</span><span class="p">]){</span>
                <span class="nx">ret</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">enumMap</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nx">enumMap</span><span class="p">[</span><span class="nx">b</span><span class="p">]){</span>
                <span class="nx">ret</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
        <span class="p">};</span>

        <span class="c1">// Function to perform a fetch on the datastore when a button is clicked</span>
        <span class="kd">function</span> <span class="nx">getItems</span><span class="p">(){</span>
            <span class="c1">// Callback to perform an action when the data items are starting to be returned:</span>
            <span class="kd">function</span> <span class="nx">clearOldCList</span><span class="p">(</span><span class="nx">size</span><span class="p">,</span> <span class="nx">request</span><span class="p">){</span>
                <span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;list4&quot;</span><span class="p">);</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">list</span><span class="p">){</span>
                    <span class="k">while</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">){</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="c1">// Callback for processing a returned list of items.</span>
            <span class="kd">function</span> <span class="nx">gotItems</span><span class="p">(</span><span class="nx">items</span><span class="p">,</span> <span class="nx">request</span><span class="p">){</span>
                <span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;list4&quot;</span><span class="p">);</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">list</span><span class="p">){</span>
                    <span class="kd">var</span> <span class="nx">i</span><span class="p">;</span>
                    <span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
                        <span class="kd">var</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s2">&quot;Item ID: [&quot;</span> <span class="o">+</span> <span class="nx">sortStore</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="s2">&quot;uniqueId&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;] with status: [&quot;</span> <span class="o">+</span> <span class="nx">sortStore</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="s2">&quot;status&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span><span class="p">));</span>
                        <span class="nx">list</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;br&quot;</span><span class="p">));</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="c1">// Callback for if the lookup fails.</span>
            <span class="kd">function</span> <span class="nx">fetchFailed</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">request</span><span class="p">){</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;lookup failed.&quot;</span><span class="p">);</span>
                <span class="nx">alert</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="kd">var</span> <span class="nx">sortAttributes</span> <span class="o">=</span> <span class="p">[{</span><span class="nx">attribute</span><span class="o">:</span> <span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="nx">descending</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span> <span class="p">{</span> <span class="nx">attribute</span><span class="o">:</span> <span class="s2">&quot;uniqueId&quot;</span><span class="p">,</span> <span class="nx">descending</span><span class="o">:</span> <span class="kc">true</span><span class="p">}];</span>
            <span class="c1">// Fetch the data.</span>
            <span class="nx">sortStore</span><span class="p">.</span><span class="nx">fetch</span><span class="p">({</span><span class="nx">query</span><span class="o">:</span> <span class="p">{},</span> <span class="nx">onBegin</span><span class="o">:</span> <span class="nx">clearOldCList</span><span class="p">,</span> <span class="nx">onComplete</span><span class="o">:</span> <span class="nx">gotItems</span><span class="p">,</span> <span class="nx">onError</span><span class="o">:</span> <span class="nx">fetchFailed</span><span class="p">,</span> <span class="nx">queryOptions</span><span class="o">:</span> <span class="p">{</span><span class="nx">deep</span><span class="o">:</span><span class="kc">true</span><span class="p">},</span> <span class="nx">sort</span><span class="o">:</span> <span class="nx">sortAttributes</span><span class="p">});</span>
        <span class="p">}</span>
        <span class="c1">// Link the click event of the button to driving the fetch.</span>
        <span class="nx">on</span><span class="p">(</span><span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;myButton&quot;</span><span class="p">),</span> <span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="nx">getItems</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">var sortData = {
    identifier: &quot;uniqueId&quot;,
    items: [
        {uniqueId: 1, status:&quot;CLOSED&quot;},
        {uniqueId: 2,  status:&quot;OPEN&quot;},
        {uniqueId: 3,  status:&quot;PENDING&quot;},
        {uniqueId: 4,  status:&quot;BLOCKED&quot;},
        {uniqueId: 5,  status:&quot;CLOSED&quot;},
        {uniqueId: 6,  status:&quot;OPEN&quot;},
        {uniqueId: 7,  status:&quot;PENDING&quot;},
        {uniqueId: 8,  status:&quot;PENDING&quot;},
        {uniqueId: 10, status:&quot;BLOCKED&quot;},
        {uniqueId: 12, status:&quot;BLOCKED&quot;},
        {uniqueId: 11, status:&quot;OPEN&quot;},
        {uniqueId: 9,  status:&quot;CLOSED&quot;}
    ]
};

require([&quot;dojo/ready&quot;, &quot;dojo/dom&quot;, &quot;dojo/on&quot;, &quot;dojo/data/ItemFileReadStore&quot;, &quot;dijit/form/Button&quot;, &quot;dojo/parser&quot;], function(ready, dom, on){
    // This function performs some basic dojo initialization. In this case it connects the button
    // onClick to a function which invokes the fetch(). The fetch function queries for all items
    // and provides callbacks to use for completion of data retrieval or reporting of errors.
    // Set the init function to run when dojo loading and page parsing has completed.
    ready(function(){
        // Define the comparator function for status.
        sortStore.comparatorMap = {};
        sortStore.comparatorMap[&quot;status&quot;] = function(a, b){
            var ret = 0;
            // We want to map these by what the priority of these items are, not by alphabetical.
            // So, custom comparator.
            var enumMap = { OPEN: 3, BLOCKED: 2, PENDING: 1, CLOSED: 0};
            if(enumMap[a] &gt; enumMap[b]){
                ret = 1;
            }
            if(enumMap[a] &lt; enumMap[b]){
                ret = -1;
            }
            return ret;
        };

        // Function to perform a fetch on the datastore when a button is clicked
        function getItems(){
            // Callback to perform an action when the data items are starting to be returned:
            function clearOldCList(size, request){
                var list = dom.byId(&quot;list4&quot;);
                if(list){
                    while(list.firstChild){
                        list.removeChild(list.firstChild);
                    }
                }
            }

            // Callback for processing a returned list of items.
            function gotItems(items, request){
                var list = dom.byId(&quot;list4&quot;);
                if(list){
                    var i;
                    for(i = 0; i &lt; items.length; i++){
                        var item = items[i];
                        list.appendChild(document.createTextNode(&quot;Item ID: [&quot; + sortStore.getValue(items[i], &quot;uniqueId&quot;) + &quot;] with status: [&quot; + sortStore.getValue(items[i], &quot;status&quot;) + &quot;]&quot;));
                        list.appendChild(document.createElement(&quot;br&quot;));
                    }
                }
            }

            // Callback for if the lookup fails.
            function fetchFailed(error, request){
                alert(&quot;lookup failed.&quot;);
                alert(error);
            }

            var sortAttributes = [{attribute: &quot;status&quot;, descending: true}, { attribute: &quot;uniqueId&quot;, descending: true}];
            // Fetch the data.
            sortStore.fetch({query: {}, onBegin: clearOldCList, onComplete: gotItems, onError: fetchFailed, queryOptions: {deep:true}, sort: sortAttributes});
        }
        // Link the click event of the button to driving the fetch.
        on(dom.byId(&quot;myButton&quot;), &quot;click&quot;, getItems);
    });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dojo/data/ItemFileReadStore&quot;</span> <span class="na">data-dojo-props=</span><span class="s">&quot;data:sortData&quot;</span> <span class="na">data-dojo-id=</span><span class="s">&quot;sortStore&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/Button&quot;</span> <span class="na">id=</span><span class="s">&quot;myButton&quot;</span><span class="nt">&gt;</span>Custom sort!<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;list4&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=&quot;dojo/data/ItemFileReadStore&quot; data-dojo-props=&quot;data:sortData&quot; data-dojo-id=&quot;sortStore&quot;&gt;&lt;/div&gt;
&lt;div data-dojo-type=&quot;dijit/form/Button&quot; id=&quot;myButton&quot;&gt;Custom sort!&lt;/div&gt;
&lt;div id=&quot;list4&quot;&gt;&lt;/div&gt;</textarea></div></div></div></div>
<div class="section" id="clearing-out-the-existing-data-in-a-store-and-populating-it-with-new-data">
<h3>Clearing out the existing Data in a store, and populating it with new Data<a class="headerlink" href="#clearing-out-the-existing-data-in-a-store-and-populating-it-with-new-data" title="Permalink to this headline">¶</a></h3>
<p>This is a pretty common need with a pretty simple solution.  How do you clear out the existing Data in a store, and
populate it with new Data?  The solution is pretty easy.  Let&#8217;s assume you have an ItemFileReadStore (this works with
ItemFileWriteStore as well) named myStore.</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dojo/data/ItemFileReadStore&quot;</span> <span class="na">data-dojo-props=</span><span class="s">&quot;url:&#39;myData.json&#39;, clearOnClose:true&quot;</span> <span class="na">id=</span><span class="s">&quot;myStore&quot;</span> <span class="na">data-dojo-id=</span><span class="s">&quot;myStore&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=&quot;dojo/data/ItemFileReadStore&quot; data-dojo-props=&quot;url:'myData.json', clearOnClose:true&quot; id=&quot;myStore&quot; data-dojo-id=&quot;myStore&quot;&gt;&lt;/div&gt;</textarea></div><p>This creates an ItemFileRead store and assigns it to the global variable myStore.</p>
<p>Then you can force it to reload as such:</p>
<div class="highlight"><pre><span class="nx">myStore</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="nx">myStore</span><span class="p">.</span><span class="nx">fetch</span><span class="p">();</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">myStore.close();
myStore.fetch();</textarea></div><p>If you need to change the url of the store you can do it like this:</p>
<div class="highlight"><pre><span class="nx">myStore</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="nx">myStore</span><span class="p">.</span><span class="nx">_jsonFileUrl</span> <span class="o">=</span> <span class="s1">&#39;myNewData.json&#39;</span><span class="p">;</span>
<span class="nx">myStore</span><span class="p">.</span><span class="nx">fetch</span><span class="p">();</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">myStore.close();
myStore._jsonFileUrl = 'myNewData.json';
myStore.fetch();</textarea></div><p>And if you have a grid bound to the store, force it to reload:</p>
<div class="highlight"><pre><span class="nx">myStore</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="nx">myStore</span><span class="p">.</span><span class="nx">fetch</span><span class="p">();</span>
<span class="nx">myGrid</span><span class="p">.</span><span class="nx">_refresh</span><span class="p">();</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">myStore.close();
myStore.fetch();
myGrid._refresh();</textarea></div></div>
<div class="section" id="reloading-refreshing-itemfilereadstore-from-a-data-object-dojo-toolkit-1-4">
<h3>Reloading/Refreshing ItemFileReadStore from a &#8216;data&#8217; object (Dojo Toolkit 1.4+)<a class="headerlink" href="#reloading-refreshing-itemfilereadstore-from-a-data-object-dojo-toolkit-1-4" title="Permalink to this headline">¶</a></h3>
<p><em>Note that you must set data to a new object.  Reusing a data object that had already been processed by the datastore will cause errors.</em></p>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">storeData10</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">identifier</span><span class="o">:</span> <span class="s1">&#39;abbr&#39;</span><span class="p">,</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
    <span class="nx">items</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;ec&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Ecuador&#39;</span><span class="p">,</span>           <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Quito&#39;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;eg&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Egypt&#39;</span><span class="p">,</span>             <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Cairo&#39;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;sv&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;El Salvador&#39;</span><span class="p">,</span>       <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;San Salvador&#39;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;gq&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Equatorial Guinea&#39;</span><span class="p">,</span> <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Malabo&#39;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;er&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Eritrea&#39;</span><span class="p">,</span>           <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Asmara&#39;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;ee&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Estonia&#39;</span><span class="p">,</span>           <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Tallinn&#39;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;et&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Ethiopia&#39;</span><span class="p">,</span>          <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Addis Ababa&#39;</span> <span class="p">}</span>
<span class="p">]};</span>
<span class="kd">var</span> <span class="nx">reloadCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// Simple global so we can show how many times the data gets reset.</span>

<span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/on&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/registry&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/data/ItemFileReadStore&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/ComboBox&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/Button&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/parser&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ready</span><span class="p">,</span> <span class="nx">on</span><span class="p">,</span> <span class="nx">registry</span><span class="p">){</span>
    <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="c1">// Now set up a linkage so that the store can be reloaded.</span>
        <span class="nx">on</span><span class="p">(</span><span class="nx">registry</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;reloadButton1&quot;</span><span class="p">),</span> <span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
            <span class="nx">reloadCount</span><span class="o">++</span><span class="p">;</span>
            <span class="nx">reloadableStore1</span><span class="p">.</span><span class="nx">clearOnClose</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="nx">reloadableStore1</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="p">{</span><span class="nx">identifier</span><span class="o">:</span> <span class="s1">&#39;abbr&#39;</span><span class="p">,</span>
                <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
                <span class="nx">items</span><span class="o">:</span> <span class="p">[</span>
                    <span class="p">{</span> <span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;ec&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Ecuador RELOADED: &#39;</span> <span class="o">+</span> <span class="nx">reloadCount</span><span class="p">,</span>           <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Quito&#39;</span> <span class="p">},</span>
                    <span class="p">{</span> <span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;eg&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Egypt RELOADED: &#39;</span> <span class="o">+</span> <span class="nx">reloadCount</span><span class="p">,</span>             <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Cairo&#39;</span> <span class="p">},</span>
                    <span class="p">{</span> <span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;sv&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;El Salvador RELOADED: &#39;</span> <span class="o">+</span> <span class="nx">reloadCount</span><span class="p">,</span>       <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;San Salvador&#39;</span> <span class="p">},</span>
                    <span class="p">{</span> <span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;gq&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Equatorial Guinea RELOADED: &#39;</span> <span class="o">+</span> <span class="nx">reloadCount</span><span class="p">,</span> <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Malabo&#39;</span> <span class="p">},</span>
                    <span class="p">{</span> <span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;er&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Eritrea RELOADED: &#39;</span> <span class="o">+</span> <span class="nx">reloadCount</span><span class="p">,</span>           <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Asmara&#39;</span> <span class="p">},</span>
                    <span class="p">{</span> <span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;ee&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Estonia RELOADED: &#39;</span> <span class="o">+</span> <span class="nx">reloadCount</span><span class="p">,</span>           <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Tallinn&#39;</span> <span class="p">},</span>
                    <span class="p">{</span> <span class="nx">abbr</span><span class="o">:</span><span class="s1">&#39;et&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Ethiopia RELOADED: &#39;</span> <span class="o">+</span> <span class="nx">reloadCount</span><span class="p">,</span>          <span class="nx">capital</span><span class="o">:</span><span class="s1">&#39;Addis Ababa&#39;</span> <span class="p">}</span>
            <span class="p">]};</span>
            <span class="nx">reloadableStore1</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">var storeData10 = { identifier: 'abbr',
    label: 'name',
    items: [
        { abbr:'ec', name:'Ecuador',           capital:'Quito' },
        { abbr:'eg', name:'Egypt',             capital:'Cairo' },
        { abbr:'sv', name:'El Salvador',       capital:'San Salvador' },
        { abbr:'gq', name:'Equatorial Guinea', capital:'Malabo' },
        { abbr:'er', name:'Eritrea',           capital:'Asmara' },
        { abbr:'ee', name:'Estonia',           capital:'Tallinn' },
        { abbr:'et', name:'Ethiopia',          capital:'Addis Ababa' }
]};
var reloadCount = 0; // Simple global so we can show how many times the data gets reset.

require([&quot;dojo/ready&quot;, &quot;dojo/on&quot;, &quot;dijit/registry&quot;, &quot;dojo/data/ItemFileReadStore&quot;, &quot;dijit/form/ComboBox&quot;, &quot;dijit/form/Button&quot;, &quot;dojo/parser&quot;], function(ready, on, registry){
    ready(function(){
        // Now set up a linkage so that the store can be reloaded.
        on(registry.byId(&quot;reloadButton1&quot;), &quot;click&quot;, function(){
            reloadCount++;
            reloadableStore1.clearOnClose = true;
            reloadableStore1.data = {identifier: 'abbr',
                label: 'name',
                items: [
                    { abbr:'ec', name:'Ecuador RELOADED: ' + reloadCount,           capital:'Quito' },
                    { abbr:'eg', name:'Egypt RELOADED: ' + reloadCount,             capital:'Cairo' },
                    { abbr:'sv', name:'El Salvador RELOADED: ' + reloadCount,       capital:'San Salvador' },
                    { abbr:'gq', name:'Equatorial Guinea RELOADED: ' + reloadCount, capital:'Malabo' },
                    { abbr:'er', name:'Eritrea RELOADED: ' + reloadCount,           capital:'Asmara' },
                    { abbr:'ee', name:'Estonia RELOADED: ' + reloadCount,           capital:'Tallinn' },
                    { abbr:'et', name:'Ethiopia RELOADED: ' + reloadCount,          capital:'Addis Ababa' }
            ]};
            reloadableStore1.close();
        });
    });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dojo/data/ItemFileReadStore&quot;</span> <span class="na">data-dojo-props=</span><span class="s">&quot;data:storeData10&quot;</span> <span class="na">data-dojo-id=</span><span class="s">&quot;reloadableStore1&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/ComboBox&quot;</span> <span class="na">data-dojo-props=</span><span class="s">&quot;store:reloadableStore1, searchAttr:&#39;name&#39;&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;reloadButton1&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/Button&quot;</span><span class="nt">&gt;</span>Reload DataStore<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=&quot;dojo/data/ItemFileReadStore&quot; data-dojo-props=&quot;data:storeData10&quot; data-dojo-id=&quot;reloadableStore1&quot;&gt;&lt;/div&gt;
&lt;div data-dojo-type=&quot;dijit/form/ComboBox&quot; data-dojo-props=&quot;store:reloadableStore1, searchAttr:'name'&quot;&gt;&lt;/div&gt;
&lt;div id=&quot;reloadButton1&quot; data-dojo-type=&quot;dijit/form/Button&quot;&gt;Reload DataStore&lt;/div&gt;</textarea></div></div></div></div>
<div class="section" id="reloading-refreshing-itemfilereadstore-from-a-url-dojo-toolkit-1-4">
<h3>Reloading/Refreshing ItemFileReadStore from a url (Dojo Toolkit 1.4+)<a class="headerlink" href="#reloading-refreshing-itemfilereadstore-from-a-url-dojo-toolkit-1-4" title="Permalink to this headline">¶</a></h3>
<p><em>Note that you can see the data reload after clicking the button then activating the dropdown in Firebug or if you are viewing the demo through a proxy that shows requests made.</em></p>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/on&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/registry&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/data/ItemFileReadStore&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/ComboBox&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/Button&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/parser&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ready</span><span class="p">,</span> <span class="nx">on</span><span class="p">,</span> <span class="nx">registry</span><span class="p">){</span>
    <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="c1">// Now set up a linkage so that the store can be reloaded.</span>
        <span class="nx">on</span><span class="p">(</span><span class="nx">registry</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;reloadButton2&quot;</span><span class="p">),</span> <span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
            <span class="c1">// Reset the url and call close.  Note this could be a different JSON file, but for this example, just</span>
            <span class="c1">// Showing how you would set the URL.</span>
            <span class="nx">reloadableStore2</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="s2">&quot;{{dataUrl}}/dojox/data/tests/stores/countries.json&quot;</span><span class="p">;</span>
            <span class="nx">reloadableStore2</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/ready&quot;, &quot;dojo/on&quot;, &quot;dijit/registry&quot;, &quot;dojo/data/ItemFileReadStore&quot;, &quot;dijit/form/ComboBox&quot;, &quot;dijit/form/Button&quot;, &quot;dojo/parser&quot;], function(ready, on, registry){
    ready(function(){
        // Now set up a linkage so that the store can be reloaded.
        on(registry.byId(&quot;reloadButton2&quot;), &quot;click&quot;, function(){
            // Reset the url and call close.  Note this could be a different JSON file, but for this example, just
            // Showing how you would set the URL.
            reloadableStore2.url = &quot;{{dataUrl}}/dojox/data/tests/stores/countries.json&quot;;
            reloadableStore2.close();
        });
    });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dojo/data/ItemFileReadStore&quot;</span> <span class="na">data-dojo-props=</span><span class="s">&quot;url:&#39;{{dataUrl}}/dojox/data/tests/stores/countries.json&#39;, urlPreventCache:true, clearOnClose:true&quot;</span> <span class="na">data-dojo-id=</span><span class="s">&quot;reloadableStore2&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/ComboBox&quot;</span> <span class="na">data-dojo-props=</span><span class="s">&quot;store:reloadableStore2, searchAttr:&#39;name&#39;&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;reloadButton2&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/Button&quot;</span><span class="nt">&gt;</span>Reload DataStore<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=&quot;dojo/data/ItemFileReadStore&quot; data-dojo-props=&quot;url:'{{dataUrl}}/dojox/data/tests/stores/countries.json', urlPreventCache:true, clearOnClose:true&quot; data-dojo-id=&quot;reloadableStore2&quot;&gt;&lt;/div&gt;
&lt;div data-dojo-type=&quot;dijit/form/ComboBox&quot; data-dojo-props=&quot;store:reloadableStore2, searchAttr:'name'&quot;&gt;&lt;/div&gt;
&lt;div id=&quot;reloadButton2&quot; data-dojo-type=&quot;dijit/form/Button&quot;&gt;Reload DataStore&lt;/div&gt;</textarea></div></div></div></div>
</div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id13">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Consider <a class="reference internal" href="../../dojox/data/AndOrReadStore.html#dojox-data-andorreadstore"><span>dojox.data.AndOrReadStore</span></a> if you want an ItemFileReadStore with better querying capabilities, but don&#8217;t want to use an entirely different flavor of store.</li>
</ul>
</div>
</div>


      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-9 columns offset-3">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
        <div class="footer">
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');

	</script>
</div>
    </div>
  </div>
  
  </body>
</html>