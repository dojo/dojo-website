<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dijit/form/ValidationTextBox &mdash; The Dojo Toolkit - Reference Guide</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.10.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>

    <link rel="stylesheet" href="../../../../../css/guide.css">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <script src="../../../scripts/dojo/dojo/dojo.js"></script>
    <script src="../../../../../scripts/guide/docs/guide.js"></script>
    <link rel="stylesheet" href="../../../../../scripts/dojo/dijit/themes/claro/claro.css">

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo"><span>Dojo</span></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="">Get Dojo</a></li>
					<li><a href="/documentation/">Docs</a></li>
					<li><a href="">Help &amp; Support</a></li>
					<li><a href="">Blog</a></li>
					<li><a href="">Get Involved</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <main class="refguide">
    <div class="row">

      <div class="medium-3 columns sideNav">
        <h4>Reference Guide</h4>
        <div id="dtkVersion">
          <label for="refver">Dojo Version</label>
          <select id="refver" name="refver">
            <option value="1.6">1.6</option>
            <option value="1.7">1.7</option>
            <option value="1.8">1.8</option>
            <option value="1.9">1.9</option>
            <option value="1.10" selected="selected">1.10</option>
          </select>
        </div>
        <ul>
          <li><a href="../../index.html">Startpage</a></li>
          <li><a href="../../dojo/index.html">Dojo</a></li>
          <li><a href="../index.html">Dijit</a></li>
          <li><a href="../../dojox/index.html">DojoX</a></li>
        </ul>
        <ul>
<li><a class="reference internal" href="#">dijit/form/ValidationTextBox</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#declarative-example">Declarative example</a></li>
<li><a class="reference internal" href="#using-regular-expressions">Using regular expressions</a></li>
<li><a class="reference internal" href="#generate-regular-expressions">Generate regular expressions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#accessibility">Accessibility</a><ul>
<li><a class="reference internal" href="#keyboard">Keyboard</a></li>
<li><a class="reference internal" href="#screen-readers">Screen Readers</a></li>
<li><a class="reference internal" href="#known-issues">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
</ul>

        

            <div id="searchbox" style="display: none">
                <h3>Quick search</h3>
                <form class="search" action="../../search.html" method="get">
                    <input type="text" name="q" size="18" />
                    <input type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                 </form>
                 <p class="searchtip" style="font-size: 90%">
                     Enter search terms or a module, class or function name.
                 </p>
            </div>
      </div>
      <div class="medium-9 columns content">
        
  <div class="section" id="dijit-form-validationtextbox">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">dijit/form/ValidationTextBox</a><a class="headerlink" href="#dijit-form-validationtextbox" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body">Becky Gibson, Doug Hays, Bill Keese, Craig Riecke</td>
</tr>
<tr class="field-even field"><th class="field-name">Project owners:</th><td class="field-body">Doug Hays, Bill Keese</td>
</tr>
<tr class="field-odd field"><th class="field-name">since:</th><td class="field-body">V1.0</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dijit-form-validationtextbox" id="id2">dijit/form/ValidationTextBox</a><ul>
<li><a class="reference internal" href="#introduction" id="id3">Introduction</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
<li><a class="reference internal" href="#examples" id="id5">Examples</a></li>
<li><a class="reference internal" href="#accessibility" id="id6">Accessibility</a></li>
<li><a class="reference internal" href="#see-also" id="id7">See also</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id3">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>A ValidationTextBox is an &lt;input&gt;-like widget that checks to make sure the user&#8217;s input is valid (according to a specified criterion).
It flags invalid input by changing the box color, showing an icon, and displaying a tooltip detailing the error.</p>
<p>Note that a ValidationTextBox by itself <em>will not</em> prevent invalid entries from submission.
To ensure they&#8217;re not, simply surround your form with a <a class="reference internal" href="Form.html#dijit-form-form"><span>dijit/form/Form</span></a> widget.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>The following attributes can be specified when you create a ValidationTextBox:</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="7%" />
<col width="84%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>required</td>
<td>boolean</td>
<td>Whether the field is required or not. false by default.</td>
</tr>
<tr class="row-odd"><td>promptMessage</td>
<td>String</td>
<td>Tooltip text that appears when the text box is empty and on focus. Null by default.</td>
</tr>
<tr class="row-even"><td>invalidMessage</td>
<td>String</td>
<td>Tooltip text that appears when the content of the text box is invalid.</td>
</tr>
<tr class="row-odd"><td>missingMessage</td>
<td>String</td>
<td>Tooltip text that appears when the content of the text box is empty and the field is required.</td>
</tr>
<tr class="row-even"><td>constraints</td>
<td>Object</td>
<td>Holds constraints (like min and max values) for use in subclasses of ValidationTextBox.</td>
</tr>
<tr class="row-odd"><td>regExp</td>
<td>RegExp</td>
<td>Regular expression pattern to be used for validation. If this is used, do not use regExpGen.</td>
</tr>
<tr class="row-even"><td>regExpGen</td>
<td>function</td>
<td>Function that should return a string representing the body of a regular expression; see the String.replace() format. If this is used, do not use regExp.</td>
</tr>
<tr class="row-odd"><td>tooltipPosition</td>
<td>String</td>
<td>Define where Tooltip will appear.</td>
</tr>
</tbody>
</table>
<p>Methods:</p>
<dl class="docutils">
<dt>isValid()</dt>
<dd>Method that calls validator function.</dd>
<dt>validator()</dt>
<dd>Method that determines whether the content of the text box is valid. Called at these events: onblur, oninit, onkeypress. See also: <a class="reference internal" href="ValidationTextBox-tricks.html#dijit-form-validationtextbox-tricks"><span>tips</span></a>.</dd>
<dt>displayMessage()</dt>
<dd>Method that displays validation errors or prompt messages. Uses dijit/Tooltip by default.</dd>
</dl>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id5">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="declarative-example">
<h3>Declarative example<a class="headerlink" href="#declarative-example" title="Permalink to this headline">¶</a></h3>
<p>ValidationTextBox widgets usually use Regular Expression validation, as in the following example:</p>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'async: true, parseOnLoad: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/ValidationTextBox&quot;</span><span class="p">]);</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;, &quot;dijit/form/ValidationTextBox&quot;]);</textarea></div><div class="highlight"><pre><span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;phone&quot;</span><span class="nt">&gt;</span>Phone number, no spaces:<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;phone&quot;</span> <span class="na">id=</span><span class="s">&quot;phone&quot;</span> <span class="na">value=</span><span class="s">&quot;someTestString&quot;</span> <span class="na">required=</span><span class="s">&quot;true&quot;</span>
    <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/ValidationTextBox&quot;</span>
    <span class="na">data-dojo-props=</span><span class="s">&quot;regExp:&#39;[\\w]+&#39;, invalidMessage:&#39;Invalid Non-Space Text.&#39;&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;label for=&quot;phone&quot;&gt;Phone number, no spaces:&lt;/label&gt;
&lt;input type=&quot;text&quot; name=&quot;phone&quot; id=&quot;phone&quot; value=&quot;someTestString&quot; required=&quot;true&quot;
    data-dojo-type=&quot;dijit/form/ValidationTextBox&quot;
    data-dojo-props=&quot;regExp:'[\\w]+', invalidMessage:'Invalid Non-Space Text.'&quot; /&gt;</textarea></div></div></div></div>
<div class="section" id="using-regular-expressions">
<h3>Using regular expressions<a class="headerlink" href="#using-regular-expressions" title="Permalink to this headline">¶</a></h3>
<p>The regular expression syntax comes directly from JavaScript.
The start and ending qualifiers of the regular expression, ^ and $, are implicit - you do not need to include them.
This code demonstrates a ValidationTextBox that only accepts a 5 digit zip code.</p>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'async: true, parseOnLoad: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/ValidationTextBox&quot;</span><span class="p">]);</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;, &quot;dijit/form/ValidationTextBox&quot;]);</textarea></div><div class="highlight"><pre><span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;zip&quot;</span><span class="nt">&gt;</span>Also 5-Digit U.S. Zipcode only:<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;zip&quot;</span> <span class="na">value=</span><span class="s">&quot;00000&quot;</span> <span class="na">required=</span><span class="s">&quot;true&quot;</span>
    <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/ValidationTextBox&quot;</span>
    <span class="na">data-dojo-props=</span><span class="s">&quot;regExp:&#39;\\d{5}&#39;, invalidMessage:&#39;Invalid zip code.&#39;&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;label for=&quot;zip&quot;&gt;Also 5-Digit U.S. Zipcode only:&lt;/label&gt;
&lt;input type=&quot;text&quot; name=&quot;zip&quot; value=&quot;00000&quot; required=&quot;true&quot;
    data-dojo-type=&quot;dijit/form/ValidationTextBox&quot;
    data-dojo-props=&quot;regExp:'\\d{5}', invalidMessage:'Invalid zip code.'&quot; /&gt;</textarea></div></div></div></div>
<div class="section" id="generate-regular-expressions">
<h3>Generate regular expressions<a class="headerlink" href="#generate-regular-expressions" title="Permalink to this headline">¶</a></h3>
<p>ValidationTextBox also supports functions that generate regular expressions.
Having a generating function enables you to write much more dynamic Web applications.
ValidationTextBox passes its constraints object to the generating function.
The following code demonstrates a dynamic ValidationTextBox that only accepts a 5 digit zip code after 5:00PM, and only accepts a county name before then.</p>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'async: true, parseOnLoad: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/ValidationTextBox&quot;</span><span class="p">]);</span>

<span class="kd">var</span> <span class="nx">after5</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">constraints</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">date</span><span class="p">.</span><span class="nx">getHours</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">17</span><span class="p">){</span>
        <span class="k">return</span> <span class="s2">&quot;\\d{5}&quot;</span><span class="p">;</span>
    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
        <span class="k">return</span> <span class="s2">&quot;\\D+&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;, &quot;dijit/form/ValidationTextBox&quot;]);

var after5 = function(constraints){
    var date = new Date();
    if(date.getHours() &gt;= 17){
        return &quot;\\d{5}&quot;;
    }else{
        return &quot;\\D+&quot;;
    }
}</textarea></div><div class="highlight"><pre><span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;zip2&quot;</span><span class="nt">&gt;</span>Also 5-Digit U.S. Zipcode only:<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;zip&quot;</span> <span class="na">value=</span><span class="s">&quot;00000&quot;</span> <span class="na">id=</span><span class="s">&quot;zip2&quot;</span> <span class="na">required=</span><span class="s">&quot;true&quot;</span>
    <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/ValidationTextBox&quot;</span>
    <span class="na">data-dojo-props=</span><span class="s">&quot;regExpGen:after5, invalidMessage:&#39;Zip codes after 5, county name before then.&#39;&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;label for=&quot;zip2&quot;&gt;Also 5-Digit U.S. Zipcode only:&lt;/label&gt;
&lt;input type=&quot;text&quot; name=&quot;zip&quot; value=&quot;00000&quot; id=&quot;zip2&quot; required=&quot;true&quot;
    data-dojo-type=&quot;dijit/form/ValidationTextBox&quot;
    data-dojo-props=&quot;regExpGen:after5, invalidMessage:'Zip codes after 5, county name before then.'&quot; /&gt;</textarea></div></div></div></div>
</div>
<div class="section" id="accessibility">
<h2><a class="toc-backref" href="#id6">Accessibility</a><a class="headerlink" href="#accessibility" title="Permalink to this headline">¶</a></h2>
<div class="section" id="keyboard">
<h3>Keyboard<a class="headerlink" href="#keyboard" title="Permalink to this headline">¶</a></h3>
<p>The ValidationTextBox widget uses native HTML INPUT (type=text) controls.</p>
</div>
<div class="section" id="screen-readers">
<h3>Screen Readers<a class="headerlink" href="#screen-readers" title="Permalink to this headline">¶</a></h3>
<p>If an invalid value is entered into a validating Text Box the &#8220;state&#8221; of the Text box changes, i.e.
its background color changes.
To accommodate users who are blind, the Text Box&#8217;s <a class="reference internal" href="../../quickstart/writingWidgets/a11y.html#quickstart-writingwidgets-a11y"><span>ARIA state</span></a>
is changed to &#8220;invalid&#8221; so a screen reader can notify the screen reader user.
In addition to the &#8220;state&#8221; change, a pop-up appears.
When the pop-up appears screen readers should read the contents of the pop-up.
The pop-up text comes from the &#8220;invalidMessage&#8221; parameter.</p>
</div>
<div class="section" id="known-issues">
<h3>Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h3>
<p>Sometimes the popup message supplied by invalidMessage attribute may be unnecessary.
For example, omitting a required field already displays an icon when the cursor leaves the field.
In these cases you can omit the &#8220;invalidMessage&#8221; parameter,
but keep in mind that good labels and instructions are still necessary for accessibility,
i.e. if the invalid popup will not be displayed then there must be clear instructional text indicating the field is required.</p>
<p>As of the Dojo 1.0 release and beyond: Window-Eyes 6.1 speaks &#8220;read only&#8221; for fields that have been marked with the ARIA property invalid=true even though the field is still editable.</p>
</div>
</div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id7">See also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="ValidationTextBox-tricks.html#dijit-form-validationtextbox-tricks"><span>Tips, tricks and edge cases for dijit/form/ValidationTextBox</span></a>.</li>
</ul>
</div>
</div>


      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-9 columns offset-3">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
        <div class="footer">
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');

	</script>
</div>
    </div>
  </div>
  
  </body>
</html>