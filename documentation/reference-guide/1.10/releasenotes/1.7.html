<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Dojo 1.7 Release Notes &mdash; The Dojo Toolkit - Reference Guide</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.10.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>

    <link rel="stylesheet" href="../../../../css/guide.css">
    <script type="text/javascript">
      dojoConfig = {
        async: true
      };
    </script>
    <script src="../../../scripts/dojo/dojo/dojo.js"></script>
    <script src="../../../../scripts/guide/docs/guide.js"></script>
    <link rel="stylesheet" href="../../../../scripts/dojo/dijit/themes/claro/claro.css">

  </head>
  <body role="document">
  

    <div class="document">

  <div class="nav">
	<div class="row">
		<div class="small-3 columns">
			<a href="/" class="navLogo"><span>Dojo</span></a>
		</div>
		<div class="small-9 columns text-right">
			<div class="mobileMenuToggle" data-menu-toggle></div>
			<div class="menu">
				<div class="mobileHeader">Menu</div>
				<ul class="inline-list menuItems right">
					<li><a href="">Get Dojo</a></li>
					<li><a href="/documentation/">Docs</a></li>
					<li><a href="">Help &amp; Support</a></li>
					<li><a href="">Blog</a></li>
					<li><a href="">Get Involved</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
  <main class="refguide">
    <div class="row">

      <div class="medium-3 columns sideNav">
        <h4>Reference Guide</h4>
        <div id="dtkVersion">
          <label for="refver">Dojo Version</label>
          <select id="refver" name="refver">
            <option value="1.6">1.6</option>
            <option value="1.7">1.7</option>
            <option value="1.8">1.8</option>
            <option value="1.9">1.9</option>
            <option value="1.10" selected="selected">1.10</option>
          </select>
        </div>
        <ul>
          <li><a href="../index.html">Startpage</a></li>
          <li><a href="../dojo/index.html">Dojo</a></li>
          <li><a href="../dijit/index.html">Dijit</a></li>
          <li><a href="../dojox/index.html">DojoX</a></li>
        </ul>
        <ul>
<li><a class="reference internal" href="#">Dojo 1.7 Release Notes</a><ul>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#browser-support">Browser support</a></li>
<li><a class="reference internal" href="#dojo-base">Dojo Base</a><ul>
<li><a class="reference internal" href="#amd">AMD</a><ul>
<li><a class="reference internal" href="#limitations">Limitations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#has-js">has.js</a></li>
<li><a class="reference internal" href="#dojo-connect">dojo.connect</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dojo-core">Dojo Core</a><ul>
<li><a class="reference internal" href="#dojo-on">dojo/on</a></li>
<li><a class="reference internal" href="#dojo-query">dojo/query</a></li>
<li><a class="reference internal" href="#dojo-data-objectstore">dojo/data/ObjectStore</a></li>
<li><a class="reference internal" href="#parser">Parser</a></li>
<li><a class="reference internal" href="#dojo-touch">dojo/touch</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dijit">Dijit</a><ul>
<li><a class="reference internal" href="#widgetbase">_WidgetBase</a></li>
<li><a class="reference internal" href="#templatedmixin-widgetsintemplatemixin">_TemplatedMixin, _WidgetsInTemplateMixin</a></li>
<li><a class="reference internal" href="#setxxxattr">_setXXXAttr</a></li>
<li><a class="reference internal" href="#dijit-focus-dijit-place-and-dijit-popup">dijit/focus, dijit/place, and dijit/popup</a></li>
<li><a class="reference internal" href="#calendarlite">CalendarLite</a></li>
<li><a class="reference internal" href="#combobox-filteringselect">ComboBox, FilteringSelect</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dojox">DojoX</a><ul>
<li><a class="reference internal" href="#charting">Charting</a></li>
<li><a class="reference internal" href="#gauges">Gauges</a></li>
<li><a class="reference internal" href="#geocharting-maps">GeoCharting Maps</a></li>
<li><a class="reference internal" href="#gfx">Gfx</a></li>
<li><a class="reference internal" href="#gesture">Gesture</a></li>
<li><a class="reference internal" href="#grid">Grid</a></li>
<li><a class="reference internal" href="#mobile">Mobile</a></li>
<li><a class="reference internal" href="#mvc">MVC</a></li>
<li><a class="reference internal" href="#openlayers-maps">OpenLayers Maps</a></li>
</ul>
</li>
<li><a class="reference internal" href="#util">Util</a><ul>
<li><a class="reference internal" href="#build-tool-updates">Build Tool Updates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#migration">Migration</a><ul>
<li><a class="reference internal" href="#loader-builder-related">Loader/Builder related</a><ul>
<li><a class="reference internal" href="#script">&lt;script&gt;</a></li>
<li><a class="reference internal" href="#global-variables">Global variables</a></li>
<li><a class="reference internal" href="#considerations-for-custom-builds">Considerations for Custom Builds</a><ul>
<li><a class="reference internal" href="#selectorengine">selectorEngine</a></li>
<li><a class="reference internal" href="#dijit-base">dijit/_base</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cross-domain-usage-with-local-legacy-modules">Cross-domain Usage with Local Legacy Modules</a></li>
<li><a class="reference internal" href="#debugatallcosts">debugAtAllCosts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id1">Dojo Core</a><ul>
<li><a class="reference internal" href="#html">HTML</a></li>
<li><a class="reference internal" href="#dojo-moduleurl">dojo.moduleUrl()</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id2">Dijit</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        

            <div id="searchbox" style="display: none">
                <h3>Quick search</h3>
                <form class="search" action="../search.html" method="get">
                    <input type="text" name="q" size="18" />
                    <input type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                 </form>
                 <p class="searchtip" style="font-size: 90%">
                     Enter search terms or a module, class or function name.
                 </p>
            </div>
      </div>
      <div class="medium-9 columns content">
        
  <div class="section" id="dojo-1-7-release-notes">
<span id="releasenotes-1-7"></span><h1><a class="toc-backref" href="#id3">Dojo 1.7 Release Notes</a><a class="headerlink" href="#dojo-1-7-release-notes" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dojo-1-7-release-notes" id="id3">Dojo 1.7 Release Notes</a><ul>
<li><a class="reference internal" href="#documentation" id="id4">Documentation</a></li>
<li><a class="reference internal" href="#browser-support" id="id5">Browser support</a></li>
<li><a class="reference internal" href="#dojo-base" id="id6">Dojo Base</a><ul>
<li><a class="reference internal" href="#amd" id="id7">AMD</a></li>
<li><a class="reference internal" href="#has-js" id="id8">has.js</a></li>
<li><a class="reference internal" href="#dojo-connect" id="id9">dojo.connect</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dojo-core" id="id10">Dojo Core</a><ul>
<li><a class="reference internal" href="#dojo-on" id="id11">dojo/on</a></li>
<li><a class="reference internal" href="#dojo-query" id="id12">dojo/query</a></li>
<li><a class="reference internal" href="#dojo-data-objectstore" id="id13">dojo/data/ObjectStore</a></li>
<li><a class="reference internal" href="#parser" id="id14">Parser</a></li>
<li><a class="reference internal" href="#dojo-touch" id="id15">dojo/touch</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dijit" id="id16">Dijit</a><ul>
<li><a class="reference internal" href="#widgetbase" id="id17">_WidgetBase</a></li>
<li><a class="reference internal" href="#templatedmixin-widgetsintemplatemixin" id="id18">_TemplatedMixin, _WidgetsInTemplateMixin</a></li>
<li><a class="reference internal" href="#setxxxattr" id="id19">_setXXXAttr</a></li>
<li><a class="reference internal" href="#dijit-focus-dijit-place-and-dijit-popup" id="id20">dijit/focus, dijit/place, and dijit/popup</a></li>
<li><a class="reference internal" href="#calendarlite" id="id21">CalendarLite</a></li>
<li><a class="reference internal" href="#combobox-filteringselect" id="id22">ComboBox, FilteringSelect</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dojox" id="id23">DojoX</a><ul>
<li><a class="reference internal" href="#charting" id="id24">Charting</a></li>
<li><a class="reference internal" href="#gauges" id="id25">Gauges</a></li>
<li><a class="reference internal" href="#geocharting-maps" id="id26">GeoCharting Maps</a></li>
<li><a class="reference internal" href="#gfx" id="id27">Gfx</a></li>
<li><a class="reference internal" href="#gesture" id="id28">Gesture</a></li>
<li><a class="reference internal" href="#grid" id="id29">Grid</a></li>
<li><a class="reference internal" href="#mobile" id="id30">Mobile</a></li>
<li><a class="reference internal" href="#mvc" id="id31">MVC</a></li>
<li><a class="reference internal" href="#openlayers-maps" id="id32">OpenLayers Maps</a></li>
</ul>
</li>
<li><a class="reference internal" href="#util" id="id33">Util</a><ul>
<li><a class="reference internal" href="#build-tool-updates" id="id34">Build Tool Updates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#migration" id="id35">Migration</a><ul>
<li><a class="reference internal" href="#loader-builder-related" id="id36">Loader/Builder related</a></li>
<li><a class="reference internal" href="#id1" id="id37">Dojo Core</a></li>
<li><a class="reference internal" href="#id2" id="id38">Dijit</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="documentation">
<h2><a class="toc-backref" href="#id4">Documentation</a><a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>Considerable effort has been put into making Dojo 1.7&#8217;s documentation better than ever.</p>
<blockquote>
<div><p><a class="reference external" href="http://livedocs.dojotoolkit.org/">Reference Guide (1.7)</a></p>
<p><a class="reference external" href="http://staging.dojotoolkit.org/api/">API Docs (1.7 Draft)</a></p>
</div></blockquote>
</div>
<div class="section" id="browser-support">
<h2><a class="toc-backref" href="#id5">Browser support</a><a class="headerlink" href="#browser-support" title="Permalink to this headline">¶</a></h2>
<p>The following browsers have been tested and are supported in this release. If a browser version is not listed as supported, it still may work, especially on browsers with rapid release cycles (Chrome, Firefox). Future minor releases of dojo might include fixes to support future releases of these browsers, but we cannot guarantee it.</p>
<p>Desktop</p>
<blockquote>
<div><ul class="simple">
<li>Firefox 3.6-8 (Dojo 1.7.2+ also supports Firefox 9-10)</li>
<li>Safari 5.0-5.1</li>
<li>Chrome 13-15</li>
<li>IE 6-9</li>
<li>Opera 10.50-11.50</li>
</ul>
</div></blockquote>
<p>Mobile (dojox/mobile)</p>
<blockquote>
<div><ul class="simple">
<li>iOS 4.x, 5.x (Mobile Safari) (including all Dijit widgets except Editor, Dialog)</li>
<li>Android 2.2, 2.3, 3.1</li>
<li>Blackberry 6</li>
<li>Mobile compatibility on desktop browsers: IE 8-9, Firefox 3.6-7, Safari 5.0-5.1, Chrome 13-15</li>
</ul>
<blockquote>
<div>TODO: Link to page with specific vendor device models tested on</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="dojo-base">
<h2><a class="toc-backref" href="#id6">Dojo Base</a><a class="headerlink" href="#dojo-base" title="Permalink to this headline">¶</a></h2>
<div class="section" id="amd">
<h3><a class="toc-backref" href="#id7">AMD</a><a class="headerlink" href="#amd" title="Permalink to this headline">¶</a></h3>
<p>Dojo now fully supports asynchronous loading of AMD modules. Asynchronous loading mode can be entered by setting the dojo config of &#8220;async&#8221; to true:</p>
<blockquote>
<div><div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">data-dojo-config=</span><span class="s">&quot;async: true&quot;</span> <span class="na">src=</span><span class="s">&quot;dojo.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;script data-dojo-config=&quot;async: true&quot; src=&quot;dojo.js&quot;&gt;&lt;/script&gt;</textarea></div></div></blockquote>
<p>Note that in async mode many modules which were implicitly loaded before now need to be explicitly loaded.   Be sure to list all the modules you are directly using in the require() list (including <code class="docutils literal"><span class="pre">dojo/parser</span></code> when using <code class="docutils literal"><span class="pre">parseOnLoad</span></code>).   For example:</p>
<blockquote>
<div><div class="highlight"><pre> <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/dojo/dojo.js&quot;</span>
    <span class="na">data-dojo-config=</span><span class="s">&quot;parseOnLoad: true, async: true&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;script&gt;</span>
   <span class="nx">require</span><span class="p">([</span>
       <span class="s2">&quot;dojo/dom&quot;</span><span class="p">,</span>   <span class="c1">// needed for dojo.byId</span>
       <span class="s2">&quot;dijit/registry&quot;</span><span class="p">,</span>  <span class="c1">// needed for dijit.byId</span>
       <span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span>     <span class="c1">// needed for parseOnLoad to run</span>
       <span class="p">...</span>
   <span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">dom</span><span class="p">,</span> <span class="nx">registry</span><span class="p">,</span> <span class="nx">parser</span><span class="p">){</span>
        <span class="c1">// callback when above modules finish loading</span>
       <span class="kd">function</span> <span class="nx">update</span><span class="p">(){</span>
           <span class="kd">var</span> <span class="nx">viewNode</span> <span class="o">=</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;view1&quot;</span><span class="p">);</span>
           <span class="kd">var</span> <span class="nx">view1</span> <span class="o">=</span> <span class="nx">registry</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;view1&quot;</span><span class="p">);</span>
           <span class="nx">view1</span><span class="p">.</span><span class="nx">domNode</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;...&quot;</span><span class="p">;</span>
       <span class="p">}</span>
   <span class="p">});</span>

 <span class="nt">&lt;/script&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none"> &lt;script src=&quot;/dojo/dojo.js&quot;
    data-dojo-config=&quot;parseOnLoad: true, async: true&quot;&gt;&lt;/script&gt;

&lt;script&gt;
   require([
       &quot;dojo/dom&quot;,   // needed for dojo.byId
       &quot;dijit/registry&quot;,  // needed for dijit.byId
       &quot;dojo/parser&quot;,     // needed for parseOnLoad to run
       ...
   ], function(dom, registry, parser){
        // callback when above modules finish loading
       function update(){
           var viewNode = dom.byId(&quot;view1&quot;);
           var view1 = registry.byId(&quot;view1&quot;);
           view1.domNode.innerHTML = &quot;...&quot;;
       }
   });

 &lt;/script&gt;</textarea></div></div></blockquote>
<p>Note that many core and dijit modules have been converted to use minimal dependencies in 1.7, to support lighter footprint when used in conjunction with async loading, and AMD module format and async loading is now a fully supported feature in 1.7; however, as part of this effort, exported objects returned from dojo core modules should be treated as subject to change.  Work on tightening exported module return values/APIs will continue through 1.8.</p>
<div class="section" id="limitations">
<h4>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h4>
<p>Some existing Dojo &lt;1.7 modules were designed such that they only work in sync loading mode.  These modules continue to be supported in synchronous mode using the compatibility support but are not supported in asynchronous loading mode.  The community is looking at potential replacements in the 2.0 time frame:</p>
<p><strong>DTL (dojox.dtl - Django Templating):</strong> While the dojox.dtl engine implementation is written with the assumption of a synchronous loader, the module has been updated so that it is compatible with the amd loader async mode, provided all tags and filters libraries are explicitly required. This restriction applies to both user-defined libraries and the dojox.dtl default ones defined (in dojox/dtl/tag and dojox/dtl/filter).</p>
<blockquote>
<div><p>The following table lists the default tag libraries and their corresponding tags:</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Tag Library</th>
<th class="head">Tags</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>dojox/dtl/tag/date</td>
<td>now</td>
</tr>
<tr class="row-odd"><td>dojox/dtl/tag/logic</td>
<td>if, for, ifequal, ifnotequal</td>
</tr>
<tr class="row-even"><td>dojox/dtl/tag/loader</td>
<td>extends, block, include, load, ssi</td>
</tr>
<tr class="row-odd"><td>dojox/dtl/tag/misc</td>
<td>comment, debug, filter, firstof, spaceless, templatetag, widthratio, with</td>
</tr>
<tr class="row-even"><td>dojox/dtl/tag/loop</td>
<td>cycle, ifchanged, regroup</td>
</tr>
</tbody>
</table>
<p>For example, if a template uses the &#8220;{% for&#8221; tag, a &#8216;require(&#8220;dojox/dtl/tag/logic&#8221;)&#8217; must be done by the application so that the logic.js tag library (where &#8216;for&#8217; is defined) is included.</p>
<p>The following table lists the default filter libraries and their corresponding filters</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Filter Library</th>
<th class="head">Filters</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>dojox/dtl/filter/dates</td>
<td>date, time, timesince, timeuntil</td>
</tr>
<tr class="row-odd"><td>dojox/dtl/filter/htmlstrings</td>
<td>linebreaks, linebreaksbr, removetags, striptags</td>
</tr>
<tr class="row-even"><td>dojox/dtl/filter/integers</td>
<td>add, get_digit</td>
</tr>
<tr class="row-odd"><td>dojox/dtl/filter/lists</td>
<td>dictsort, dictsortreversed, first, join, length, length_is, random, slice, unordered_list</td>
</tr>
<tr class="row-even"><td>dojox/dtl/filter/logic</td>
<td>default, default_if_none, divisibleby, yesno</td>
</tr>
<tr class="row-odd"><td>dojox/dtl/filter/misc</td>
<td>filesizeformat, pluralize, phone2numeric, pprint</td>
</tr>
<tr class="row-even"><td>dojox/dtl/filter/strings</td>
<td>addslashes, capfirst, center, cut, fix_ampersands, floatformat, iriencode, linenumbers,
ljust, lower, make_list, rjust, slugify, stringformat, title, truncatewords, truncatewords_html,
upper, urlencode, urlize, urlizetrunc, wordcount, wordwrap</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Note</strong> Also because of the way the dependencies are done for Dijit, if you do a build of code that includes a legacy layer that includes Dijits, you must explicitly include <code class="docutils literal"><span class="pre">dijit._base</span></code>.  For example, your layer should look something like this:</p>
<div class="highlight"><pre><span class="nx">layers</span><span class="o">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;../somelayer/layer.js&quot;</span><span class="p">,</span>
    <span class="nx">dependencies</span><span class="o">:</span> <span class="p">[</span>
      <span class="s2">&quot;simpletest.layer&quot;</span><span class="p">,</span>
      <span class="s2">&quot;dijit._base&quot;</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">],</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">layers: [
  {
    name: &quot;../somelayer/layer.js&quot;,
    dependencies: [
      &quot;simpletest.layer&quot;,
      &quot;dijit._base&quot;
    ]
  }
],</textarea></div></div>
</div>
<div class="section" id="has-js">
<h3><a class="toc-backref" href="#id8">has.js</a><a class="headerlink" href="#has-js" title="Permalink to this headline">¶</a></h3>
<p>Dojo 1.7 introduces support for the <a class="reference internal" href="../dojo/has.html#dojo-has"><span>has() feature detection api</span></a>.  Most Dojo core and dijit modules have been converted to use feature detection.  This work will continue for 1.8.</p>
</div>
<div class="section" id="dojo-connect">
<h3><a class="toc-backref" href="#id9">dojo.connect</a><a class="headerlink" href="#dojo-connect" title="Permalink to this headline">¶</a></h3>
<p>This has been refactored to use the new dojo/on module for event handling. See <a class="reference internal" href="#dojo-on">dojo/on</a> below for more information.</p>
</div>
</div>
<div class="section" id="dojo-core">
<h2><a class="toc-backref" href="#id10">Dojo Core</a><a class="headerlink" href="#dojo-core" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dojo-on">
<h3><a class="toc-backref" href="#id11">dojo/on</a><a class="headerlink" href="#dojo-on" title="Permalink to this headline">¶</a></h3>
<p>This new module provides a new event handling system with support for a number of new features including:</p>
<blockquote>
<div><ul class="simple">
<li>event delegation - Event types can include selectors to specify targets like on(list, &#8220;li:click&#8221;, onListItemClickHandler);</li>
<li>extension events - Custom event types can be used (and created). New dojox.gesture.* implement extension events.</li>
<li>pausable events - Event handling can be paused with the on.pausable function.</li>
<li>execute-once events - Listeners can be set to fire only once with on.once.</li>
<li>emitting events - Native style events can be dispatched with on.emit(target, &#8220;click&#8221;, event);</li>
<li>self-contained handles - Objects returned on() calls contain remove() method to directly stop listening to an event.</li>
<li>touch event normalization - Touch events are normalized across Android, iOS, etc.</li>
<li>has()-based feature detection - This makes possible to create browser specific builds that exclude unneeded features (like IE normalization)</li>
</ul>
</div></blockquote>
<p>This also sheds some of the legacy keypress event handling code (best practice is to use keydown instead), and reduces code size.</p>
<p>This API is planned to replace the existing dojo.connect API in Dojo 2.0. The arguments passed to event handlers for non-DOM events and the event names used for non-DOM events are expected to change in Dojo 2.0, so Dojo 1.x applications that connect to non-DOM events should not necessarily migrate existing code to dojo/on if it is being done in an attempt to be future-proof.</p>
</div>
<div class="section" id="dojo-query">
<h3><a class="toc-backref" href="#id12">dojo/query</a><a class="headerlink" href="#dojo-query" title="Permalink to this headline">¶</a></h3>
<p>This new module provides access to the DOM querying functionality (like dojo.query). This module can also be loaded with alternate selector engines like Sizzle, Slick, or the new Dojo lite query selector engine or with minimum CSS compliance levels for auto selector engine selection. In asynchronous mode (see new Dojo config settings), when <code class="docutils literal"><span class="pre">dojo/main</span></code> is not loaded, <code class="docutils literal"><span class="pre">dojo/query</span></code> will load the lite engine to use native browser querySelectAll, and only load the full acme selector engine if needed. dojo/query works with the new has() branching functionality to make it easy to create browser specific builds with the minimal selector engine needed for the browser.</p>
</div>
<div class="section" id="dojo-data-objectstore">
<h3><a class="toc-backref" href="#id13">dojo/data/ObjectStore</a><a class="headerlink" href="#dojo-data-objectstore" title="Permalink to this headline">¶</a></h3>
<p>This module has been updated to broadcast notifications originating from the underlying object store if that store is &#8220;Observable&#8221;. If the underlying object store provides an observe() method on results (usually be wrapping with dojo.store.Observable), than the dojo/data/ObjectStore wrapper can listen to changes in the object store and send out dojo.data notification events.</p>
</div>
<div class="section" id="parser">
<span id="releasenotes-1-7-parser"></span><h3><a class="toc-backref" href="#id14">Parser</a><a class="headerlink" href="#parser" title="Permalink to this headline">¶</a></h3>
<p>The parser has been enhanced so you can specify browser native attributes just like native tags, but specify other attributes in data-dojo-props, for example:</p>
<blockquote>
<div><div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit.form.TextBox&quot;</span> <span class="na">name=</span><span class="s">&quot;dept&quot;</span>
     <span class="na">data-dojo-props=</span><span class="s">&quot;scrollOnFocus: true&quot;</span><span class="nt">/&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;input data-dojo-type=&quot;dijit.form.TextBox&quot; name=&quot;dept&quot;
     data-dojo-props=&quot;scrollOnFocus: true&quot;/&gt;</textarea></div></div></blockquote>
<p>The parser also supports the ability to specify dojo.on and object.watch declaratively by adding the support for script <code class="docutils literal"><span class="pre">type=&quot;dojo/on&quot;</span></code> and <code class="docutils literal"><span class="pre">type=&quot;dojo/watch&quot;</span></code>.</p>
<p>An example of <code class="docutils literal"><span class="pre">type=&quot;dojo/on&quot;</span></code>:</p>
<blockquote>
<div><div class="highlight"><pre><span class="nt">&lt;button</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit.form.Button&quot;</span><span class="nt">&gt;</span>Click Me!
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/on&quot;</span> <span class="na">data-dojo-event=</span><span class="s">&quot;click&quot;</span> <span class="na">data-dojo-args=</span><span class="s">&quot;e&quot;</span><span class="nt">&gt;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;I was clicked!&quot;</span><span class="p">);</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/button&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;button data-dojo-type=&quot;dijit.form.Button&quot;&gt;Click Me!
  &lt;script type=&quot;dojo/on&quot; data-dojo-event=&quot;click&quot; data-dojo-args=&quot;e&quot;&gt;
    console.log(&quot;I was clicked!&quot;);
  &lt;/script&gt;
&lt;/button&gt;</textarea></div></div></blockquote>
<p>An example of <code class="docutils literal"><span class="pre">type=&quot;dojo/watch&quot;</span></code> (building on <code class="docutils literal"><span class="pre">dojo/on</span></code>):</p>
<blockquote>
<div><div class="highlight"><pre><span class="nt">&lt;button</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit.form.Button&quot;</span><span class="nt">&gt;</span>Click Me!
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/on&quot;</span> <span class="na">data-dojo-event=</span><span class="s">&quot;click&quot;</span> <span class="na">data-dojo-args=</span><span class="s">&quot;e&quot;</span><span class="nt">&gt;</span>
    <span class="nx">dijit</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;textBox1&quot;</span><span class="p">).</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="s2">&quot;New Value!&quot;</span><span class="p">);</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit.form.TextBox&quot;</span> <span class="na">id=</span><span class="s">&quot;textBox1&quot;</span>
     <span class="na">data-dojo-props=</span><span class="s">&quot;value: &#39;Old Value&#39;&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/watch&quot;</span> <span class="na">data-dojo-prop=</span><span class="s">&quot;value&quot;</span> <span class="na">data-dojo-args=</span><span class="s">&quot;prop,oldValue,newValue&quot;</span><span class="nt">&gt;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Prop &#39;&quot;</span><span class="o">+</span><span class="nx">prop</span><span class="o">+</span><span class="s2">&quot;&#39; was &#39;&quot;</span><span class="o">+</span><span class="nx">oldValue</span><span class="o">+</span><span class="s2">&quot;&#39; and is now &#39;&quot;</span><span class="o">+</span><span class="nx">newValue</span><span class="o">+</span><span class="s2">&quot;&#39;&quot;</span><span class="p">);</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;button data-dojo-type=&quot;dijit.form.Button&quot;&gt;Click Me!
  &lt;script type=&quot;dojo/on&quot; data-dojo-event=&quot;click&quot; data-dojo-args=&quot;e&quot;&gt;
    dijit.byId(&quot;textBox1&quot;).set(&quot;value&quot;, &quot;New Value!&quot;);
  &lt;/script&gt;
&lt;/button&gt;
&lt;div data-dojo-type=&quot;dijit.form.TextBox&quot; id=&quot;textBox1&quot;
     data-dojo-props=&quot;value: 'Old Value'&quot;&gt;
  &lt;script type=&quot;dojo/watch&quot; data-dojo-prop=&quot;value&quot; data-dojo-args=&quot;prop,oldValue,newValue&quot;&gt;
    console.log(&quot;Prop '&quot;+prop+&quot;' was '&quot;+oldValue+&quot;' and is now '&quot;+newValue+&quot;'&quot;);
  &lt;/script&gt;
&lt;/div&gt;</textarea></div></div></blockquote>
<p><strong>Note</strong> there is no support for deprecated attribute <code class="docutils literal"><span class="pre">prop</span></code> as an attribute of the <code class="docutils literal"><span class="pre">type=&quot;dojo/watch&quot;</span></code> script tag.  The parser only recognizes the attribute <code class="docutils literal"><span class="pre">data-dojo-prop</span></code>.</p>
<p><strong>Reminder:</strong> when operating in asynchronous mode, you need to explicitly load <code class="docutils literal"><span class="pre">dojo/parser</span></code> in order for <code class="docutils literal"><span class="pre">parseOnLoad:</span> <span class="pre">true</span></code> to operate.  (In non-async mode, it will be required automatically with a deprecation warning.)  Technically, <code class="docutils literal"><span class="pre">dojo/parser</span></code> was never automatically loaded, but prior to 1.7, it would be transitively loaded in many cases, due to it being loaded by <code class="docutils literal"><span class="pre">dijit/_Templated</span></code>, which was relied upon by many widgets.</p>
</div>
<div class="section" id="dojo-touch">
<h3><a class="toc-backref" href="#id15">dojo/touch</a><a class="headerlink" href="#dojo-touch" title="Permalink to this headline">¶</a></h3>
<p>This module provides an unified set of touch events - &#8220;press | move | release | cancel&#8221;, which can run well across a wide range of devices(including desktops).</p>
<p>The rationale is very simple - &#8220;press | move | release | cancel&#8221; are mapped to:</p>
<blockquote>
<div><ul class="simple">
<li>&#8220;touchstart | touchmove | touchend | touchcancel&#8221; on touch devices(<a class="reference external" href="http://www.w3.org/TR/touch-events/">W3C Touch Events Specification</a>)</li>
<li>&#8220;mousedown | mousemove | mouseup | mouseleave&#8221; on desktops.</li>
</ul>
</div></blockquote>
<p>So by using dojo/touch, we don&#8217;t need to worry about appropriate native events when switching running platforms</p>
<p>dojo/touch is based on <a class="reference internal" href="../dojo/on.html#dojo-on"><span>dojo/on</span></a> and the following sample usage can work well across desktop and touch devices(Android 2.3/2.3 and iOS3+ for 1.7):</p>
<blockquote>
<div><div class="highlight"><pre><span class="c1">// listen to &#39;touchstart&#39; on touch devices and &#39;mousedown&#39; on desktops</span>
<span class="nx">dojo</span><span class="p">.</span><span class="nx">touch</span><span class="p">.</span><span class="nx">press</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">// listen to 'touchstart' on touch devices and 'mousedown' on desktops
dojo.touch.press(node, function(e){});</textarea></div></div></blockquote>
<p>Please refer to <a class="reference internal" href="../dojo/touch.html#dojo-touch"><span>dojo/touch doc</span></a> for more details.</p>
</div>
</div>
<div class="section" id="dijit">
<h2><a class="toc-backref" href="#id16">Dijit</a><a class="headerlink" href="#dijit" title="Permalink to this headline">¶</a></h2>
<p>Dijit widgets should now &#8220;just work&#8221; on supported mobile devices, with the exception of the Editor widget.  This is intended to allow web apps built for desktop browsers to continue to be functional when browsed on mobile devices.</p>
<p>For Dialog your app must set draggable=false in order for the [x] close icon (in the Dialog&#8217;s upper right hand corner) to work.   This limitation will be removed in a future release.</p>
<div class="section" id="widgetbase">
<h3><a class="toc-backref" href="#id17">_WidgetBase</a><a class="headerlink" href="#widgetbase" title="Permalink to this headline">¶</a></h3>
<p>getParent() method added to _WidgetBase.   It will find the parent of any widget, regardless of whether or not the parent has the isContainer flag set.   The isContainer flag is no longer being used.</p>
</div>
<div class="section" id="templatedmixin-widgetsintemplatemixin">
<h3><a class="toc-backref" href="#id18">_TemplatedMixin, _WidgetsInTemplateMixin</a><a class="headerlink" href="#templatedmixin-widgetsintemplatemixin" title="Permalink to this headline">¶</a></h3>
<p>A new mixin called _TemplatedMixin has been added.  It&#8217;s lighter weight than _Templated and supports templated widgets which <em>don&#8217;t</em> have widgets in templates.  New widgets should be built using _TemplatedMixin.   Additionally, widgets that need the widgetsInTemplate functionality should also mixin _WidgetsInTemplateMixin.</p>
<p>_Templated&#8217;s functionality and API haven&#8217;t changed.</p>
</div>
<div class="section" id="setxxxattr">
<h3><a class="toc-backref" href="#id19">_setXXXAttr</a><a class="headerlink" href="#setxxxattr" title="Permalink to this headline">¶</a></h3>
<p>Previously _setXXXAttr was a function to set a widget attribute.   It can still be a function, but now it can also be an object like one of the values from attributeMap.</p>
<p>For example, this will copy the widget&#8217;s tabIndex attribute to this.focusNode.tabIndex</p>
<blockquote>
<div><div class="highlight"><pre><span class="nx">_setTabIndexAttr</span><span class="o">:</span> <span class="s2">&quot;focusNode&quot;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">_setTabIndexAttr: &quot;focusNode&quot;</textarea></div></div></blockquote>
<p>And with the code below, myWidget.set(&#8220;title&#8221;, &#8220;hello world&#8221;) will set this.titleNode.innerHTML to &#8220;hello world&#8221;:</p>
<blockquote>
<div><div class="highlight"><pre><span class="nx">__setTitleAttr</span><span class="o">:</span> <span class="p">{</span> <span class="nx">node</span><span class="o">:</span> <span class="s2">&quot;titleNode&quot;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;innerHTML&quot;</span> <span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">__setTitleAttr: { node: &quot;titleNode&quot;, type: &quot;innerHTML&quot; }</textarea></div></div></blockquote>
<p>This replaces attributeMap, which is deprecated and will be removed in 2.0.</p>
</div>
<div class="section" id="dijit-focus-dijit-place-and-dijit-popup">
<h3><a class="toc-backref" href="#id20">dijit/focus, dijit/place, and dijit/popup</a><a class="headerlink" href="#dijit-focus-dijit-place-and-dijit-popup" title="Permalink to this headline">¶</a></h3>
<p>The focus, place, and popup modules in dijit/_base have been promoted to dijit/, so they can be included explicitly by applications that don&#8217;t want to include all of dijit/_base.</p>
<p>There are a few API changes in the top level modules compared to the ones in dijit/_base (although for backwards compatibility the modules in dijit/_base maintain their old API):</p>
<blockquote>
<div><ul class="simple">
<li>Popup.around() (analogous to dijit.popup.placeAroundElement()) takes a position parameter like [&#8220;before&#8221;, &#8220;after&#8221;] rather than a set of tuples like {BL: &#8220;TL&#8221;, ...}.   In other words, popup.around() replaces dijit.popup.placeAroundElement() but instead of dijit.getPopupAroundAlignment(xyz), just pass in xzy directly.</li>
<li>dijit/focus doesn&#8217;t include the selection related code, just focus related code</li>
<li>dijit/focus provides watch() and on() methods to monitor the focused node and active widgets, rather than publishing topics focusNode, widgetBlur, and widgetFocus</li>
<li>some methods in dijit/_base/popup used to take DOMNodes or widgets as a parameter; now they just take a widget</li>
</ul>
</div></blockquote>
<p>Also note that the new dijit/popup module is only available through the new AMD API, ex:</p>
<blockquote>
<div><div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dijit/popup&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">popup</span><span class="p">){</span> <span class="nx">popup</span><span class="p">.</span><span class="nx">open</span><span class="p">(...);</span> <span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dijit/popup&quot;], function(popup){ popup.open(...); });</textarea></div></div></blockquote>
</div>
<div class="section" id="calendarlite">
<h3><a class="toc-backref" href="#id21">CalendarLite</a><a class="headerlink" href="#calendarlite" title="Permalink to this headline">¶</a></h3>
<p>dijit.CalendarLite is a new widget aimed towards mobile use.   It&#8217;s like Calendar but doesn&#8217;t have keyboard support or a drop down to select the month.</p>
</div>
<div class="section" id="combobox-filteringselect">
<h3><a class="toc-backref" href="#id22">ComboBox, FilteringSelect</a><a class="headerlink" href="#combobox-filteringselect" title="Permalink to this headline">¶</a></h3>
<p>These classes have been enhanced to accept a <a class="reference internal" href="../dojo/store.html#dojo-store"><span>dojo.store</span></a> (the new store API) for the store parameter.
The old <a class="reference internal" href="../dojo/data/api/Read.html#dojo-data-api-read"><span>dojo.data API</span></a> is still supported.</p>
</div>
</div>
<div class="section" id="dojox">
<h2><a class="toc-backref" href="#id23">DojoX</a><a class="headerlink" href="#dojox" title="Permalink to this headline">¶</a></h2>
<div class="section" id="charting">
<h3><a class="toc-backref" href="#id24">Charting</a><a class="headerlink" href="#charting" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>New zoom, pan, data indicator interactions have been committed in the action2d package. They allow users to interact with the chart using either mouse or touch gestures.</li>
<li>Various improvement to improve performances on particular on mobile devices (new enableCache parameter on most plot type to allow caching and reuse of gfx shapes)</li>
<li>use of AMD module format</li>
<li>Bidi text support has been added through two BidiSupport classes (one for dojox.charting, one for dojox.charting.widget). This classes need  to be required by your application in order for Bidi text support to be enabled.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="gauges">
<h3><a class="toc-backref" href="#id25">Gauges</a><a class="headerlink" href="#gauges" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>The gauges that were previously located in the dojox.widget namespace have been moved to dojox.gauges.</li>
<li>Several new indicators have been added to create your custom gauges, for example a text indicator to draw the value of the gauge as a text.</li>
<li>The circular gauge can now be created clockwise or counter-clockwise.</li>
<li>The layout of labels in the circular scale are improved.</li>
<li>Gauges now support touch interaction on mobile devices.</li>
<li>dojox.gauges now uses the AMD module format</li>
<li>Three new pre-built gauges with a glossy look are now available : The GlossyHorizontalGauge, the GlossyCircularGauge and the GlossySemiCircularGauge.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="geocharting-maps">
<h3><a class="toc-backref" href="#id26">GeoCharting Maps</a><a class="headerlink" href="#geocharting-maps" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Various improvements of the dojox.geo.charting module like tooltip management, color change animation when changing data series.</li>
<li>New dataStore structure, new data binding between the map element and the dataStore element.</li>
<li>Allow interactive zoom/pan of the map using either mouse or touch gestures, through the installation of dedicated interactor classes.</li>
<li>New Map Dijit component wrapping the non-dijit dojox.geo.charting Map component, for easier integration.</li>
<li>Use of AMD module format.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="gfx">
<h3><a class="toc-backref" href="#id27">Gfx</a><a class="headerlink" href="#gfx" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Shapes are now identified via an associated unique id (Shape.getUID()). Coupled to this, the new dojox.gfx.shape.byId() function returns the shape associated with a given id.</li>
<li>Add input events support to canvas renderer. It is enabled by default and can be disabled by setting the dojoConfig &#8216;canvasEvents&#8217; flag to &#8216;false&#8217;.</li>
<li>The gfx shape targeted by a mouse event can be retrieved from the event itself by means of the &#8216;gfxTarget&#8217; event property:</li>
</ul>
<blockquote>
<div><div class="highlight"><pre><span class="nx">group</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="s2">&quot;onmousedown&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">evt</span><span class="p">){</span> <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">evt</span><span class="p">.</span><span class="nx">gfxTarget</span><span class="p">;</span> <span class="p">...</span> <span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">group.connect(&quot;onmousedown&quot;, function(evt){ var s = evt.gfxTarget; ... });</textarea></div></div></blockquote>
</div></blockquote>
</div>
<div class="section" id="gesture">
<h3><a class="toc-backref" href="#id28">Gesture</a><a class="headerlink" href="#gesture" title="Permalink to this headline">¶</a></h3>
<p>Based on <a class="reference internal" href="../dojo/touch.html#dojo-touch"><span>dojo/touch</span></a> and <a class="reference internal" href="../dojo/on.html#dojo-on"><span>dojo/on</span></a>, this new module provides a mechanism to write gestures that can run well on difference devices including desktop (for single gestures) and various touch devices.</p>
<p>dojox/gesture/Base</p>
<p>An abstract parental class for various gesture implementations, it&#8217;s mainly responsible for:</p>
<blockquote>
<div><ul class="simple">
<li>Binding on() listener handlers for supported gesture events, e.g. tap, taphold, doubletap</li>
<li>Monitoring underneath events and process different phases - &#8216;press&#8217;|&#8217;move&#8217;|&#8217;release&#8217;|&#8217;cancel&#8217;</li>
<li>Firing and bubbling gesture events with on() API</li>
</ul>
</div></blockquote>
<p>A gesture implementation only needs to extend this and overwrite appropriate phase handlers - press() | move() | release() | cancel() for recognizing and firing gestures</p>
<p>dojox/gesture/tap(single touch only)</p>
<blockquote>
<div><ul class="simple">
<li>Provide common tap gestures including tap, tap.hold and tap.doubletap</li>
<li>Customizable settings e.g. threshold for tap.hold, effective radius for a valid tap.doubletap</li>
</ul>
</div></blockquote>
<p>dojox/gesture/swipe(single touch only)</p>
<blockquote>
<div><ul class="simple">
<li>Provide common swipe gestures including swipe, swipe.end</li>
</ul>
</div></blockquote>
<p>Also the <a class="reference external" href="http://demos.dojotoolkit.org/demos/touch/demo.html">touch &amp; gesture demo</a> shows how dijit/form/HorizontalSlider and dojo/dnd are now running well on iOS4+ with the new dojo/touch and dojox/gesture. Besides a tap gesture, the demo also shows how easy it is to write a new rotate gesture with multiple touch support.</p>
<p>Please refer to <a class="reference internal" href="../dojox/gesture.html#dojox-gesture"><span>dojox/gesture doc</span></a> for more details.</p>
</div>
<div class="section" id="grid">
<h3><a class="toc-backref" href="#id29">Grid</a><a class="headerlink" href="#grid" title="Permalink to this headline">¶</a></h3>
<p>DataGrid/EnhancedGrid/TreeGrid/LazyTreeGrid</p>
<ul class="simple">
<li>Numerous issues have been fixed for 1.7, please refer to the <a class="reference external" href="http://trac.dojotoolkit.org/query?status=closed&amp;component=DojoX+Grid&amp;order=priority&amp;milestone=1.7&amp;col=id&amp;col=summary&amp;col=type&amp;col=priority">defect list</a> for more details.</li>
</ul>
<p>Next generation of Grid</p>
<ul class="simple">
<li>Incubation projects <a class="reference external" href="https://github.com/SitePen/dgrid">dgrid</a>  and <a class="reference external" href="https://github.com/evanhw/gridx">gridx</a> are also in progress and working closely for the next generation of Grid.</li>
</ul>
</div>
<div class="section" id="mobile">
<h3><a class="toc-backref" href="#id30">Mobile</a><a class="headerlink" href="#mobile" title="Permalink to this headline">¶</a></h3>
<p>Dojo Mobile is now considered a first class Mobile library, fully supporting lightweight (baseless) AMD loading and the new Dojo Build System. A new reference guide has been written for the Dojo Mobile project, and full API docs are now available.</p>
<blockquote>
<div><blockquote>
<div><a class="reference internal" href="../dojox/mobile.html#dojox-mobile"><span>Dojo Mobile Reference Guide</span></a></div></blockquote>
<ul class="simple">
<li>BlackBerry OS6 theme has been added.  For the full list of supported mobile devices &amp; OS&#8217; see above.</li>
<li>dojox.mobile.deviceTheme is a device theme loader, which detects the mobile device being used and automatically loads an appropriate theme</li>
<li>New SpinWheel widget allows you to select values from spin wheels. Two variations, SpinWheelDatePicker and SpinWheelTimePicker, are also available.</li>
<li>New Carousel widget shows a list of images from which you can select an item.</li>
<li>New RoundRectDataList and EdgeToEdgeDataList widgets are data-driven versions of the RoundRectList and EdgeToEdgeList.</li>
<li>New PageIndicator widget shows the current page of swap views with small dots. It can be used with SwapView or Carousel.</li>
<li>Several new transition animations have been added: Dissolve, Flip2, Cover, Reveal, Slide Vertical, Cover Vertical, Reveal Vertical, Swirl, Zoom In/Out, and Scale In/Out.</li>
<li>The FlippableView widget has been renamed to SwapView.</li>
<li>dojox.mobile now uses the AMD module format</li>
<li>TextBox widget moved from mobile/app/ to mobile/.</li>
<li>New Tooltip widget to popup a container for either simple text or another widget.</li>
<li>New Overlay widget to slide up form the bottom another input widget, and then slides down when done.</li>
<li>New Opener widget adds runtime screen-size detection and uses Tooltip for the larger mobile devices, and Overlay on small-screen devices.</li>
<li>New ComboBox widget (still experimental) that combines searchable text input similar to dijit.form.ComboBox.</li>
<li>New ExpandingTextarea widget grows and shrinks vertically as needed to accommodate the end-user text.</li>
<li>New Slider widget to enable users to easily adjust a value with touch/dragging gestures.</li>
<li>New HTML form input widget wrappers (Textarea, CheckBox, RadioButton) to allow simple form constructs to be used with various dijit container/dialog widgets.</li>
</ul>
<p>Limitations:</p>
<ul class="simple">
<li>The transition animations use the capability of the CSS 3 transition or the CSS 3 animation, and their behavior highly depends on device and browser. Thus some transition animations do not work smoothly on Android and BlackBerry devices.</li>
<li>ScrollableView often freezes on HTC Android devices, such as HTC Evo, HTC Desire, etc. The problem occurs especially when you perform another scroll operation while the screen is still scrolling. This is not a dojo-specific issue because other JavaScript toolkits have the same problem. There are no workarounds available at present.</li>
<li>Sometimes touching an html form control, such as an input field or a button, placed in ScrollableView on Android devices cannot set focus to it. Sometimes it is successful if you try a couple of times.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mvc">
<h3><a class="toc-backref" href="#id31">MVC</a><a class="headerlink" href="#mvc" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>dojox.mvc is a new experimental dojox project about separation of MVC concerns on the client, thereby easing the development of data-rich applications using Dojo (enterprise apps, IT apps, CRUD scenarios, patterns like master-detail and others). This first release contains:</p>
<ul class="simple">
<li>A first-class data model which can talk to data stores</li>
<li>Data binding mixin that allows widgets or arbitrary view components to bind to locations in above data model</li>
<li>MVC containers like group (for hierarchical data) and repeat (for repeating data i.e. arrays)</li>
<li>MVC widgets such as data-bound output and data-driven simple UI generator</li>
<li>Samples for number of data-rich patterns that can be built using the above</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="openlayers-maps">
<h3><a class="toc-backref" href="#id32">OpenLayers Maps</a><a class="headerlink" href="#openlayers-maps" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>New dojox.geo.openlayers mapping package based on the OpenLayers library (See <a class="reference external" href="http://www.openlayers.org/">http://www.openlayers.org/</a> ).</li>
<li>Allow user to add georeferenced Gfx shapes on a background map.</li>
<li>Allow user to place georeferenced widgets on the map.</li>
<li>Use of AMD module format.</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="util">
<h2><a class="toc-backref" href="#id33">Util</a><a class="headerlink" href="#util" title="Permalink to this headline">¶</a></h2>
<div class="section" id="build-tool-updates">
<h3><a class="toc-backref" href="#id34">Build Tool Updates</a><a class="headerlink" href="#build-tool-updates" title="Permalink to this headline">¶</a></h3>
<p>The Build Tools have been completely reimplemented in Dojo 1.7, to take full advantage of AMD and has() and optionally Node.js and Closure Compiler, while still being fully backward compatible with the old build tools.  A complete reference guide has being prepared here with all the information:</p>
<blockquote>
<div><a class="reference internal" href="../build/buildSystem.html#build-buildsystem"><span>Build Tool Reference Guide (1.7 Draft)</span></a></div></blockquote>
<p>As part of this reimplementation, two important changes have been made:</p>
<ol class="arabic simple">
<li>Due to increased flexibility in the new loader, the &#8220;clean&#8221; action is now a no-op in order to avoid any
unintentional file deletion. Cleaning the destination directory before a build must now be done manually.</li>
<li>The <code class="docutils literal"><span class="pre">discard</span></code> option has been replaced with an <code class="docutils literal"><span class="pre">exclude</span></code> option. Instead of creating a layer with the
<code class="docutils literal"><span class="pre">discard</span></code> flag, use <code class="docutils literal"><span class="pre">exclude</span></code> on your existing layers to explicitly exclude modules from them. See
<a class="reference internal" href="../build/transforms/writeAmd.html#build-transforms-writeamd"><span>the writeAmd documentation</span></a> for details on these options.</li>
</ol>
</div>
</div>
<div class="section" id="migration">
<h2><a class="toc-backref" href="#id35">Migration</a><a class="headerlink" href="#migration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="loader-builder-related">
<h3><a class="toc-backref" href="#id36">Loader/Builder related</a><a class="headerlink" href="#loader-builder-related" title="Permalink to this headline">¶</a></h3>
<div class="section" id="script">
<h4>&lt;script&gt;<a class="headerlink" href="#script" title="Permalink to this headline">¶</a></h4>
<p>Previously you may have been loading modules or layers via script tags, for example:</p>
<blockquote>
<div><div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/mysite/app/MyWidget.js&quot;</span><span class="nt">&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;script src=&quot;/mysite/app/MyWidget.js&quot;&gt;</textarea></div></div></blockquote>
<p>Although this idiom will still work with the standard, built distribution, it is deprecated. Further, it no longer
works with unbuilt versions of the toolkit (e.g. the source distribution), and will result in the program failing to
load and give &#8220;multipleDefine&#8221; errors in the console. Instead you must load it through <code class="docutils literal"><span class="pre">dojo.require()</span></code>:</p>
<blockquote>
<div><div class="highlight"><pre><span class="nx">dojo</span><span class="p">.</span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;app.MyWidget&quot;</span><span class="p">);</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">dojo.require(&quot;app.MyWidget&quot;);</textarea></div></div></blockquote>
<p>Or the new AMD require() API.</p>
</div>
<div class="section" id="global-variables">
<h4>Global variables<a class="headerlink" href="#global-variables" title="Permalink to this headline">¶</a></h4>
<p>Prior to v1.7, it was possible to define global functions within a module by writing something like this:</p>
<blockquote>
<div><div class="highlight"><pre>dojo.provide(&quot;my.module&quot;);
function myOnClick(){ ... }
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">dojo.provide(&quot;my.module&quot;);
function myOnClick(){ ... }</textarea></div></div></blockquote>
<p>On some browsers, in some cases, <code class="docutils literal"><span class="pre">myOnClick()</span></code> would be defined in the global space.</p>
<p>Starting with v1.7, <em>all</em> modules are evaluated within a closing function which results in the definition above residing within
the closure&#8211;not the global space. If you really want to add a function in the global space from within a module, then use <code class="docutils literal"><span class="pre">dojo.global</span></code>:</p>
<blockquote>
<div><div class="highlight"><pre>dojo.provide(&quot;my.module&quot;);
dojo.global.myOnClick = function(){ ... }
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">dojo.provide(&quot;my.module&quot;);
dojo.global.myOnClick = function(){ ... }</textarea></div></div></blockquote>
</div>
<div class="section" id="considerations-for-custom-builds">
<h4>Considerations for Custom Builds<a class="headerlink" href="#considerations-for-custom-builds" title="Permalink to this headline">¶</a></h4>
<div class="section" id="selectorengine">
<h5>selectorEngine<a class="headerlink" href="#selectorengine" title="Permalink to this headline">¶</a></h5>
<p>Note that the acme query engine is no longer automatically built into <code class="docutils literal"><span class="pre">dojo.js</span></code> by default, which will typically
result in an extra network request for <code class="docutils literal"><span class="pre">dojo/selector/acme.js</span></code> when <code class="docutils literal"><span class="pre">dojo/query</span></code> or Dojo base is loaded.
To include acme in <code class="docutils literal"><span class="pre">dojo.js</span></code>, specify <code class="docutils literal"><span class="pre">selectorEngine:</span> <span class="pre">&quot;acme&quot;</span></code> in the build profile or <code class="docutils literal"><span class="pre">selectorEngine=acme</span></code>
on the command line.  You can see an example of this in <code class="docutils literal"><span class="pre">standard.profile.js</span></code> in Dojo 1.7.1.</p>
<p>For more information on selector engines, see the <a class="reference internal" href="../dojo/query.html#dojo-query"><span>dojo/query documentation</span></a>.</p>
</div>
<div class="section" id="dijit-base">
<h5>dijit/_base<a class="headerlink" href="#dijit-base" title="Permalink to this headline">¶</a></h5>
<p>Previously, <code class="docutils literal"><span class="pre">dijit/_base</span></code> was automatically pulled in as a dependency of <code class="docutils literal"><span class="pre">dijit/_Widget</span></code>.  As of 1.7, it is now
conditionally pulled in only if the legacy loader is in use, for backwards-compatibility.  However, due to this
change, the builder no longer sees <code class="docutils literal"><span class="pre">dijit/_base</span></code> as a dependency of <code class="docutils literal"><span class="pre">dijit/_Widget</span></code>, and does not pull it in as
a result.</p>
<p>This may lead to additional network requests observed in applications with custom layers affected by this change.
To resolve this, add <code class="docutils literal"><span class="pre">&quot;dijit._base&quot;</span></code> as an explicit dependency of the layer.</p>
</div>
</div>
<div class="section" id="cross-domain-usage-with-local-legacy-modules">
<h4>Cross-domain Usage with Local Legacy Modules<a class="headerlink" href="#cross-domain-usage-with-local-legacy-modules" title="Permalink to this headline">¶</a></h4>
<p>Dojo 1.7 currently has a limitation where it is unable to properly load local modules which use the legacy
<code class="docutils literal"><span class="pre">dojo.require</span></code> syntax alongside <code class="docutils literal"><span class="pre">dojo.js</span></code> from another domain.  Currently the only workarounds are to update
the local modules to use AMD syntax, or download the Dojo Toolkit and run all modules from the same host.
See <a class="reference external" href="http://bugs.dojotoolkit.org/ticket/14459">defect #14459</a>.</p>
</div>
<div class="section" id="debugatallcosts">
<h4>debugAtAllCosts<a class="headerlink" href="#debugatallcosts" title="Permalink to this headline">¶</a></h4>
<p>The debugAtAllCosts djConfig flag is no longer supported, and will be ignored.</p>
<p>Possible workarounds for a particular app are:</p>
<blockquote>
<div><ul class="simple">
<li>Convert the app to AMD and load with async:true, thereby using a standard AMD loader which script-injects everything.</li>
<li>Do a build, which converts all legacy modules to AMD modules.</li>
</ul>
</div></blockquote>
<p>Note: to do a true conversion that takes advantage of all of the features of AMD and removes things like dojo.getObject requires more work than the build app can do mechanically.</p>
</div>
</div>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id37">Dojo Core</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="html">
<h4>HTML<a class="headerlink" href="#html" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>dojo._getBorderBox() has been removed, use dojo.position() instead</li>
<li>dojo._setOpacity() has been removed, use dojo.style(node, &#8220;opacity&#8221;, ...) instead</li>
<li>dojo.hasClass crashes if passed a DomNode which is a Text node; application code should make sure it doesn&#8217;t pass in text nodes.   (They don&#8217;t have class settings anyway.)</li>
<li>The private dojo._setMarginBox() and dojo._setContentSize() have been removed, and replaced with public dojo.setMarginBox() and dojo.setContentSize() functions.   The new API&#8217;s take a hash (like dojo.marginBox() and dojo.contentBox()), ex:   dojo.setMarginBox(node, {h: 50, w: 30}), rather than a list of arguments like the previous private functions, ex: dojo._setMarginBox(node, NaN, NaN, 50, 30).</li>
</ul>
</div>
<div class="section" id="dojo-moduleurl">
<h4>dojo.moduleUrl()<a class="headerlink" href="#dojo-moduleurl" title="Permalink to this headline">¶</a></h4>
<p>dojo.moduleUrl() returns a string instead of an object.   It won&#8217;t affect most apps, unless you are accessing the internal members, ex: dojo.moduleUrl(...).uri.</p>
</div>
</div>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id38">Dijit</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Many widgets which used to extend _Templated now extend _TemplatedMixin.   If you have custom widgets that extend standard widgets, and use widgetsInTemplate: true, you may need to also mixin dijit._WidgetsInTemplate</p>
</li>
<li><p class="first">The dijit.Calendar template has been modified to have ${!dayCellsHtml} and ${!dateRowsHtml} variables for the M-F (days of week) row, and the 1-31 days-of-the-month cells.  Custom calendar templates should be updated to contain these variables rather than markup for those sections.  If custom versions of Calendar need to modify the structure of days-of-week or days-of-month cells, they can override the new Calendar attributes: dowTemplateString, dateTemplateString, and weekTemplateString.</p>
</li>
<li><p class="first">For ComboBox/FilteringSelect, if you need to set the store after creation, be sure to use the set(&#8220;store&#8221;, myStore) API rather than just setting it directly (myCombo.store = myStore).    The latter will fail when myStore is an old dojo.data store rather than the new dojo.store API.</p>
</li>
<li><p class="first">If you have specified a custom labelFunc() for a dijit.form.ComboBox/FilteringSelect, it will be passed an item and store of the new <a class="reference internal" href="../dojo/store.html#dojo-store"><span>dojo.store</span></a> API.   This generally won&#8217;t be a problem unless you are depending on internals of the item (ex: depending on item being a DOMNode rather than a JavaScript hash), or accessing the store as a global variable rather than as the second parameter to the labelFunc() callback.</p>
</li>
<li><p class="first">If you want to allow for rich text saving with back/forward actions, you must add a text area to your page with the id==dijit._scopeName + &#8221;._editor.RichText.value&#8221; (typically &#8220;dijit._editor.RichText.value). For example:</p>
<blockquote>
<div><div class="highlight"><pre><span class="o">&lt;</span><span class="nx">textarea</span> <span class="nx">id</span><span class="o">=</span><span class="s2">&quot;dijit._editor.RichText.value&quot;</span> <span class="nx">style</span><span class="o">=</span><span class="s2">&quot;display:none;position:absolute;top:-100px;left:-100px;height:3px;width:3px;overflow:hidden;&quot;</span><span class="o">&gt;&lt;</span><span class="err">/textarea&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">&lt;textarea id=&quot;dijit._editor.RichText.value&quot; style=&quot;display:none;position:absolute;top:-100px;left:-100px;height:3px;width:3px;overflow:hidden;&quot;&gt;&lt;/textarea&gt;</textarea></div></div></blockquote>
</li>
</ul>
<p>Previously this was done automatically in general (although it was always necessary for XD builds).</p>
<ul class="simple">
<li>If you are setting ValidationTextBox.tooltipPosition or Tooltip.defaultPosition, note that as of 1.7.2 the valid values are
&#8220;above-centered&#8221;, &#8220;below-centered&#8221;, &#8220;after-centered&#8221;, &#8220;before-centered&#8221;.</li>
</ul>
</div>
</div>
</div>


      </div>
    </div>
      <div class="clearer"></div>
    </div>

  <div class="row">
    <div class="medium-9 columns offset-3">
        <a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&entry_0=http%3A%2F%2Fdojotoolkit.org%2Freference-guide%2F1.10%2F">Error in the documentation? Can’t find what you are looking for? Let us know!</a>
        <div class="footer">
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-22088032-1', 'auto');
		ga('send', 'pageview');

	</script>
</div>
    </div>
  </div>
  
  </body>
</html>