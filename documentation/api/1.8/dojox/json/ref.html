
<script type="text/javascript">
  <!-- If user loads this page directly, redirect to index page, with parameter to initially show tab for this module.-->
  <!-- If google loads this page directly it will hopefully ignore this script and just index the documentation below.-->
  <!-- Also, when this page is loaded via XHR this script block should be ignored.-->
  <location>= "/documentation/api/?qs=1.8/dojox/json/ref" + location.hash;</location>
</script>
<div style="display:none" class="jsdoc-permalink">/documentation/api/1.8/dojox/json/ref.html</div>
<h1 class="objectIcon36 jsdoc-title module-title">dojox/json/ref<span style="font-size:11px;color:#999;"> (version 1.8)</span></h1>
<div class="jsdoc-full-summary"><p>Adds advanced JSON {de}serialization capabilities to the base json library.
This enhances the capabilities of dojo.toJson and dojo.fromJson,
adding referencing support, date handling, and other extra format handling.
On parsing, references are resolved. When references are made to
ids/objects that have been loaded yet, the loader function will be set to
_loadObject to denote a lazy loading (not loaded yet) object.</p>
</div>
<div class="jsdoc-children">
  <div class="jsdoc-field-list">
    <h2 class="jsdoc-summary-heading">Property Summary<span class="jsdoc-summary-toggle"></span></h2>
    <div class="jsdoc-summary-list">
      <ul class="jsdoc-property-list">
        <li class="booleanIcon private"><a href="1_8dojox_json_ref__useRefs">_useRefs</a>
        </li><span><span title="private" class="jsdoc-private"></span></span>
        <li class="stringIcon public extension-module"><a href="1_8dojox_json_ref_refAttribute">refAttribute</a>
        </li><span><span title="Must manually require () dojox/rpc/JsonRest to access" class="jsdoc-extension"></span></span>
        <li class="booleanIcon public extension-module"><a href="1_8dojox_json_ref_serializeFunctions">serializeFunctions</a>
        </li><span><span title="Must manually require () dojox/data/PersevereStore to access" class="jsdoc-extension"></span></span>
      </ul>
    </div>
    <h2 class="jsdoc-summary-heading">Method Summary<span class="jsdoc-summary-toggle"></span></h2>
    <div class="jsdoc-summary-list">
      <ul class="jsdoc-property-list">
        <li class="functionIcon private"><a href="#1_8dojox_json_ref__addProp">_addProp</a><span class="parameters"></span><span class="parameters">(id,prop) </span><span></span><span title="private" class="jsdoc-private"></span>
        </li>
        <li class="functionIcon"><a href="#1_8dojox_json_ref_fromJson">fromJson</a><span class="parameters"></span><span class="parameters">(str,args) </span><span>evaluates the passed string-form of a JSON object.</span>
        </li>
        <li class="functionIcon"><a href="#1_8dojox_json_ref_resolveJson">resolveJson</a><span class="parameters"></span><span class="parameters">(root,args) </span><span>Indexes and resolves references in the JSON object.</span>
        </li>
        <li class="functionIcon"><a href="#1_8dojox_json_ref_toJson">toJson</a><span class="parameters"></span><span class="parameters">(it,prettyPrint,idPrefix,indexSubObjects) </span><span>Create a JSON serialization of an object.</span>
        </li>
      </ul>
    </div>
  </div>
</div>
<div class="jsdoc-children">
  <div class="jsdoc-fields">
    <h2>Properties</h2>
    <div class="jsdoc-property-list">
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojox_json_ref__useRefs"></a><span class="booleanIcon">_useRefs</span><span title="private" class="jsdoc-private"></span>
        </div>
        <div class="jsdoc-inheritance">Defined by:&nbsp;<a href="/documentation/api/1.8/dojox/json/ref" class="jsdoc-link">dojox/json/ref</a>
        </div>
      </div>
      <div class="jsdoc-field public extension-module">
        <div class="jsdoc-title"><a name="1_8dojox_json_ref_refAttribute"></a><span class="stringIcon">refAttribute</span>
        </div>
        <div class="jsdoc-inheritance">Defined by:&nbsp;<a href="/documentation/api/1.8/dojox/rpc/JsonRest" class="jsdoc-link">dojox/rpc/JsonRest</a><span title="Must manually require () dojox/rpc/JsonRest to access" class="jsdoc-extension"></span>
        </div>
      </div>
      <div class="jsdoc-field public extension-module">
        <div class="jsdoc-title"><a name="1_8dojox_json_ref_serializeFunctions"></a><span class="booleanIcon">serializeFunctions</span>
        </div>
        <div class="jsdoc-inheritance">Defined by:&nbsp;<a href="/documentation/api/1.8/dojox/data/PersevereStore" class="jsdoc-link">dojox/data/PersevereStore</a><span title="Must manually require () dojox/data/PersevereStore to access" class="jsdoc-extension"></span>
        </div>
      </div>
    </div>
    <h2>Methods</h2>
    <div class="jsdoc-property-list">
      <div class="jsdoc-field private">
        <div class="jsdoc-title"><a name="1_8dojox_json_ref__addProp"></a><span class="functionIcon">_addProp</span><span class="parameters">(id,prop)</span><span title="private" class="jsdoc-private"></span>
        </div>
        <div class="jsdoc-inheritance">Defined by&nbsp;<a href="/documentation/api/1.8/dojox/json/ref" class="jsdoc-link">dojox/json/ref</a>
        </div>
        <div class="jsdoc-full-summary"></div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">id</td>
            <td class="jsdoc-param-type">undefined</td>
            <td class="jsdoc-param-description">
            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">prop</td>
            <td class="jsdoc-param-type">undefined</td>
            <td class="jsdoc-param-description">
            </td>
          </tr>
        </table>
        <div><strong>Returns:</strong><span class="jsdoc-return-type">string</span></div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojox_json_ref_fromJson"></a><span class="functionIcon">fromJson</span><span class="parameters">(str,args)</span>
        </div>
        <div class="jsdoc-inheritance">Defined by&nbsp;<a href="/documentation/api/1.8/dojox/json/ref" class="jsdoc-link">dojox/json/ref</a>
        </div>
        <div class="jsdoc-full-summary"><p>evaluates the passed string-form of a JSON object.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">str</td>
            <td class="jsdoc-param-type">String</td>
            <td class="jsdoc-param-description"><p>a string literal of a JSON item, for instance:

</p>
<pre><code>&#39;{ &quot;foo&quot;: [ &quot;bar&quot;, 1, { &quot;baz&quot;: &quot;thud&quot; } ] }&#39;</code></pre>

            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">args</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description">
              <div><em>Optional</em></div><p>See resolveJson</p>

            </td>
          </tr>
        </table>
        <div><strong>Returns:</strong><span class="jsdoc-return-type">any | undefined</span></div>
        <div class="jsdoc-return-description"><p>An object, the result of the evaluation</p>
</div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojox_json_ref_resolveJson"></a><span class="functionIcon">resolveJson</span><span class="parameters">(root,args)</span>
        </div>
        <div class="jsdoc-inheritance">Defined by&nbsp;<a href="/documentation/api/1.8/dojox/json/ref" class="jsdoc-link">dojox/json/ref</a>
        </div>
        <div class="jsdoc-full-summary"><p>Indexes and resolves references in the JSON object.</p>
</div>
        <div class="jsdoc-full-summary"><p>A JSON Schema object that can be used to advise the handling of the JSON (defining ids, date properties, urls, etc)</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">root</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description"><p>The root object of the object graph to be processed</p>

            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">args</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description">
              <div><em>Optional</em></div><p>Object with additional arguments:

</p>
<ul>
<li>The <em>index</em> parameter:
  This is the index object (map) to use to store an index of all the objects.
  If you are using inter-message referencing, you must provide the same object for each call.</li>
<li>The <em>defaultId</em> parameter:
  This is the default id to use for the root object (if it doesn&#39;t define it&#39;s own id)</li>
<li>The <em>idPrefix</em> parameter:
  This the prefix to use for the ids as they enter the index. This allows multiple tables
  to use ids (that might otherwise collide) that enter the same global index.
  idPrefix should be in the form &quot;/Service/&quot;.  For example,
  if the idPrefix is &quot;/Table/&quot;, and object is encountered {id:&quot;4&quot;,...}, this would go in the
  index as &quot;/Table/4&quot;.</li>
<li>The <em>idAttribute</em> parameter:
  This indicates what property is the identity property. This defaults to &quot;id&quot;</li>
<li>The <em>assignAbsoluteIds</em> parameter:
  This indicates that the resolveJson should assign absolute ids (__id) as the objects are being parsed.</li>
<li>The <em>schemas</em> parameter:
  This provides a map of schemas, from which prototypes can be retrieved</li>
<li>The <em>loader</em> parameter:
  This is a function that is called added to the reference objects that can&#39;t be resolved (lazy objects)</li>
</ul>

            </td>
          </tr>
        </table>
        <div><strong>Returns:</strong><span class="jsdoc-return-type">any | undefined</span></div>
        <div class="jsdoc-return-description"><p>An object, the result of the processing</p>
</div>
      </div>
      <div class="jsdoc-field">
        <div class="jsdoc-title"><a name="1_8dojox_json_ref_toJson"></a><span class="functionIcon">toJson</span><span class="parameters">(it,prettyPrint,idPrefix,indexSubObjects)</span>
        </div>
        <div class="jsdoc-inheritance">Defined by&nbsp;<a href="/documentation/api/1.8/dojox/json/ref" class="jsdoc-link">dojox/json/ref</a>
        </div>
        <div class="jsdoc-full-summary"><p>Create a JSON serialization of an object.
This has support for referencing, including circular references, duplicate references, and out-of-message references
id and path-based referencing is supported as well and is based on <a href="http://www.json.com/2007/10/19/json-referencing-proposal-and-library/">http://www.json.com/2007/10/19/json-referencing-proposal-and-library/</a>.</p>
</div>
        <table class="jsdoc-parameters">
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          <tr>
            <td class="jsdoc-param-name">it</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description"><p>an object to be serialized.</p>

            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">prettyPrint</td>
            <td class="jsdoc-param-type">Boolean</td>
            <td class="jsdoc-param-description">
              <div><em>Optional</em></div><p>if true, we indent objects and arrays to make the output prettier.
The variable dojo.toJsonIndentStr is used as the indent string
-- to use something other than the default (tab),
change that variable before calling dojo.toJson().</p>

            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">idPrefix</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description">
              <div><em>Optional</em></div><p>The prefix that has been used for the absolute ids</p>

            </td>
          </tr>
          <tr>
            <td class="jsdoc-param-name">indexSubObjects</td>
            <td class="jsdoc-param-type">Object</td>
            <td class="jsdoc-param-description">
              <div><em>Optional</em></div>
            </td>
          </tr>
        </table>
        <div><strong>Returns:</strong><span class="jsdoc-return-type">any | undefined</span></div>
        <div class="jsdoc-return-description"><p>a String representing the serialized version of the passed object.</p>
</div>
      </div>
    </div>
  </div>
</div><a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&amp;formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&amp;entry_0=/documentation/api/1.8/dojox/json/ref" class="feedback">Error in the documentation? Canâ€™t find what you are looking for? Let us know!</a>